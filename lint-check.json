[{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/App.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/cypress.config.ts","messages":[{"ruleId":"@typescript-eslint/triple-slash-reference","severity":2,"message":"Do not use a triple slash reference for cypress, use `import` style instead.","line":1,"column":1,"nodeType":"Line","messageId":"tripleSlashReference","endLine":1,"endColumn":34},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'on' is defined but never used.","line":7,"column":25,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":27},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":7,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[186,189],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[186,189],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'config' is defined but never used.","line":7,"column":34,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":40},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":7,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[199,202],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[199,202],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/// <reference types=\"cypress\" />\nimport { defineConfig } from 'cypress';\n\nexport default defineConfig({\n    e2e: {\n        baseUrl: 'http://localhost:3000',\n        setupNodeEvents(on: any, config: any) {\n            // implement node event listeners here\n        },\n        viewportWidth: 1280,\n        viewportHeight: 720,\n        specPattern: 'cypress/e2e/**/*.e2e.{js,jsx,ts,tsx}',\n        video: false,\n        screenshotOnRunFailure: true,\n    },\n});\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/index.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/index.server.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/index.web.js","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Platform' is defined but never used.","line":1,"column":23,"nodeType":null,"messageId":"unusedVar","endLine":1,"endColumn":31}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { AppRegistry, Platform } from 'react-native';\nimport App from './App';\nimport { initSentry } from './src/services/sentry.web';\n\ninitSentry();\nimport { name as appName } from './app.json';\n\nAppRegistry.registerComponent(appName, () => App);\n\nconst rootTag =\n  document.getElementById('app-root') || document.getElementById('root');\nAppRegistry.runApplication(appName, {\n  initialProps: {},\n  rootTag,\n});\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/scripts/verify_translations.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/components/CalendarButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/components/CalendarButton.web.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":52,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":52,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1450,1453],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1450,1453],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\nimport { View, StyleSheet } from 'react-native';\nimport { AddToCalendarButton } from 'add-to-calendar-button-react';\nimport { useTranslation } from 'react-i18next';\nimport { useTheme } from '../context/ThemeContext';\n\ninterface CalendarButtonProps {\n  title: string;\n  date: string;\n  time: string;\n  location?: string;\n  notes?: string;\n  onSuccess?: () => void;\n  onError?: () => void;\n}\n\nexport const CalendarButton: React.FC<CalendarButtonProps> = ({\n  title,\n  date,\n  time,\n  location,\n  notes,\n}) => {\n  const { t, i18n } = useTranslation();\n  const { theme } = useTheme();\n\n  // Format date/time for the button (YYYY-MM-DD and HH:MM)\n  // The library expects separate date and time\n\n  // Calculate end time (default 1 hour)\n  const [hours, minutes] = time.split(':').map(Number);\n  const endDateObj = new Date();\n  endDateObj.setHours(hours + 1);\n  endDateObj.setMinutes(minutes);\n  const endTime = `${endDateObj\n    .getHours()\n    .toString()\n    .padStart(2, '0')}:${endDateObj.getMinutes().toString().padStart(2, '0')}`;\n\n  return (\n    <View style={styles.container}>\n      <AddToCalendarButton\n        name={title}\n        options={['Apple', 'Google', 'Outlook.com', 'Yahoo', 'iCal']}\n        location={location}\n        startDate={date}\n        endDate={date}\n        startTime={time}\n        endTime={endTime}\n        timeZone=\"currentBrowser\"\n        description={notes}\n        language={i18n.language as any}\n        buttonStyle=\"custom\"\n        customCss={`\n                    --btn-background: ${theme.colors.secondary};\n                    --btn-text: #FFFFFF;\n                    --font: 'System', sans-serif;\n                    --btn-shadow: none;\n                    --btn-border: none;\n                    --btn-radius: 8px;\n                    --btn-padding: 12px 20px;\n                    --btn-font-weight: 600;\n                    --btn-font-size: 16px;\n                `}\n        label={t('leaves.addToCalendar')}\n      />\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    marginTop: 10,\n    alignItems: 'center',\n    width: '100%',\n  },\n});\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/components/CountryPicker.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/components/DateTimePickerField.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":49,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":49,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1204,1207],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1204,1207],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":81,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":81,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2100,2103],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2100,2103],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":114,"column":18,"nodeType":"Block","messageId":"tsIgnoreInsteadOfExpectError","endLine":114,"endColumn":79,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[3413,3474],"text":"/* @ts-expect-error - style prop on input not fully typed in RNW */"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react';\nimport {\n    View,\n    Text,\n    TouchableOpacity,\n    StyleSheet,\n    Platform,\n    Modal,\n} from 'react-native';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport { useTranslation } from 'react-i18next';\nimport { useTheme } from '../context/ThemeContext';\nimport { Theme } from '../theme';\n\ninterface DateTimePickerFieldProps {\n    label: string;\n    value: Date | null;\n    onChange: (date: Date) => void;\n    mode?: 'date' | 'time';\n    minimumDate?: Date;\n    maximumDate?: Date;\n    required?: boolean;\n    error?: string;\n    placeholder?: string;\n}\n\nexport const DateTimePickerField: React.FC<DateTimePickerFieldProps> = ({\n    label,\n    value,\n    onChange,\n    mode = 'date',\n    minimumDate,\n    maximumDate,\n    required = false,\n    error,\n    placeholder,\n}) => {\n    const { theme } = useTheme();\n    const { t } = useTranslation();\n    const styles = createStyles(theme);\n    const [show, setShow] = useState(false);\n    const [tempDate, setTempDate] = useState<Date | null>(null);\n\n    const handleOpen = () => {\n        setTempDate(value || new Date());\n        setShow(true);\n    };\n\n    const handleChange = (event: any, selectedDate?: Date) => {\n        if (Platform.OS === 'android') {\n            setShow(false);\n            if (selectedDate) {\n                onChange(selectedDate);\n            }\n        } else {\n            if (selectedDate) {\n                setTempDate(selectedDate);\n            }\n        }\n    };\n\n    const handleConfirm = () => {\n        if (tempDate) {\n            onChange(tempDate);\n        }\n        setShow(false);\n    };\n\n    const handleCancel = () => {\n        setShow(false);\n    };\n\n    const formattedValue = value\n        ? mode === 'time'\n            ? value.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n            : value.toLocaleDateString()\n        : placeholder || (mode === 'time' ? t('common.selectTime') : t('common.selectDate'));\n\n    // Web Support: Use native HTML input\n    if (Platform.OS === 'web') {\n        const handleWebChange = (e: any) => {\n            const inputValue = e.target.value;\n            if (mode === 'time') {\n                if (inputValue) {\n                    const [hours, minutes] = inputValue.split(':').map(Number);\n                    const newDate = value ? new Date(value) : new Date();\n                    newDate.setHours(hours);\n                    newDate.setMinutes(minutes);\n                    newDate.setSeconds(0);\n                    newDate.setMilliseconds(0);\n                    onChange(newDate);\n                }\n            } else {\n                const dateValue = new Date(inputValue);\n                if (!isNaN(dateValue.getTime())) {\n                    onChange(dateValue);\n                }\n            }\n        };\n\n        // For time input on web, value format is HH:MM\n        // For date input on web, value format is YYYY-MM-DD\n        const webValue = value\n            ? mode === 'time'\n                ? value.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit', hour12: false })\n                : value.toISOString().split('T')[0]\n            : '';\n\n        return (\n            <View style={styles.container}>\n                <Text style={styles.label}>\n                    {label} {required && <Text style={styles.required}>*</Text>}\n                </Text>\n                {/* @ts-ignore - style prop on input not fully typed in RNW */}\n                <input\n                    type={mode === 'time' ? 'time' : 'date'}\n                    value={webValue}\n                    onChange={handleWebChange}\n                    style={{\n                        padding: 10,\n                        fontSize: 16,\n                        borderWidth: 1,\n                        borderColor: error ? theme.colors.error : theme.colors.border,\n                        borderRadius: 8,\n                        backgroundColor: theme.colors.surface,\n                        color: theme.colors.text,\n                        width: '100%',\n                        boxSizing: 'border-box',\n                        fontFamily: 'system-ui'\n                    }}\n                    min={minimumDate ? minimumDate.toISOString().split('T')[0] : undefined}\n                    max={maximumDate ? maximumDate.toISOString().split('T')[0] : undefined}\n                />\n                {error && <Text style={styles.errorText}>{error}</Text>}\n            </View>\n        );\n    }\n\n    return (\n        <View style={styles.container}>\n            <Text style={styles.label}>\n                {label} {required && <Text style={styles.required}>*</Text>}\n            </Text>\n\n            <TouchableOpacity\n                style={[styles.input, error ? styles.inputError : null]}\n                onPress={handleOpen}\n            >\n                <Text style={[styles.inputText, !value && styles.placeholder]}>\n                    {formattedValue}\n                </Text>\n            </TouchableOpacity>\n\n            {error && <Text style={styles.errorText}>{error}</Text>}\n\n            {/* Android/iOS Date Picker */}\n            {show && (\n                Platform.OS === 'ios' ? (\n                    <Modal transparent animationType=\"slide\" visible={show} onRequestClose={handleCancel}>\n                        <View style={styles.modalOverlay}>\n                            <View style={styles.modalContent}>\n                                <View style={styles.modalHeader}>\n                                    <TouchableOpacity onPress={handleCancel}>\n                                        <Text style={styles.cancelButton}>{t('common.cancel')}</Text>\n                                    </TouchableOpacity>\n                                    <TouchableOpacity onPress={handleConfirm}>\n                                        <Text style={styles.doneButton}>{t('common.validate')}</Text>\n                                    </TouchableOpacity>\n                                </View>\n                                <DateTimePicker\n                                    value={tempDate || value || new Date()}\n                                    mode={mode}\n                                    is24Hour={true}\n                                    display=\"spinner\"\n                                    onChange={handleChange}\n                                    minimumDate={minimumDate}\n                                    maximumDate={maximumDate}\n                                    textColor={theme.colors.text}\n                                />\n                            </View>\n                        </View>\n                    </Modal>\n                ) : (\n                    <DateTimePicker\n                        value={value || new Date()}\n                        mode={mode}\n                        is24Hour={true}\n                        display=\"default\"\n                        onChange={handleChange}\n                        minimumDate={minimumDate}\n                        maximumDate={maximumDate}\n                    />\n                )\n            )}\n        </View>\n    );\n};\n\nconst createStyles = (theme: Theme) =>\n    StyleSheet.create({\n        container: {\n            marginBottom: theme.spacing.m,\n        },\n        label: {\n            ...theme.textVariants.body,\n            color: theme.colors.text,\n            marginBottom: theme.spacing.xs,\n        },\n        required: {\n            color: theme.colors.error,\n        },\n        input: {\n            backgroundColor: theme.colors.surface,\n            borderRadius: theme.spacing.s,\n            padding: theme.spacing.m,\n            borderWidth: 1,\n            borderColor: theme.colors.border,\n        },\n        inputError: {\n            borderColor: theme.colors.error,\n        },\n        inputText: {\n            ...theme.textVariants.body,\n            color: theme.colors.text,\n        },\n        placeholder: {\n            color: theme.colors.subText,\n        },\n        errorText: {\n            ...theme.textVariants.caption,\n            color: theme.colors.error,\n            marginTop: theme.spacing.xs,\n        },\n        modalOverlay: {\n            flex: 1,\n            justifyContent: 'flex-end',\n            backgroundColor: 'rgba(0,0,0,0.5)'\n        },\n        modalContent: {\n            backgroundColor: theme.colors.surface,\n            borderTopLeftRadius: 20,\n            borderTopRightRadius: 20,\n            paddingBottom: 20\n        },\n        modalHeader: {\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            padding: 15,\n            borderBottomWidth: 1,\n            borderBottomColor: theme.colors.border\n        },\n        doneButton: {\n            color: theme.colors.primary,\n            fontSize: 16,\n            fontWeight: '600'\n        },\n        cancelButton: {\n            color: theme.colors.error,\n            fontSize: 16,\n            fontWeight: '400'\n        }\n    });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/components/Dropdown.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Platform' is defined but never used.","line":8,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":11}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react';\nimport {\n  View,\n  Text,\n  TouchableOpacity,\n  FlatList,\n  StyleSheet,\n  Platform,\n  Modal,\n} from 'react-native';\nimport { useTranslation } from 'react-i18next';\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport { useTheme } from '../context/ThemeContext';\nimport { Theme } from '../theme';\n\ninterface DropdownItem {\n  label: string;\n  value: string;\n}\n\ninterface DropdownProps {\n  label: string;\n  data: DropdownItem[];\n  value: string;\n  onSelect: (value: string) => void;\n  placeholder?: string;\n  error?: string;\n}\n\nexport const Dropdown: React.FC<DropdownProps> = ({\n  label,\n  data,\n  value,\n  onSelect,\n  placeholder,\n  error,\n}) => {\n  const { theme } = useTheme();\n  const { t } = useTranslation();\n  const styles = createStyles(theme);\n  const [visible, setVisible] = useState(false);\n\n  const renderItem = ({ item }: { item: DropdownItem }) => (\n    <TouchableOpacity\n      style={styles.item}\n      onPress={() => {\n        onSelect(item.value);\n        setVisible(false);\n      }}\n    >\n      <Text\n        style={[\n          styles.itemText,\n          item.value === value && styles.selectedItemText,\n        ]}\n      >\n        {item.label}\n      </Text>\n    </TouchableOpacity>\n  );\n\n  const selectedItem = data.find(item => item.value === value);\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.label}>{label}</Text>\n      <TouchableOpacity\n        style={[styles.selector, error ? styles.selectorError : null]}\n        onPress={() => setVisible(true)}\n      >\n        <Text style={[styles.valueText, !value && styles.placeholderText]}>\n          {selectedItem ? selectedItem.label : placeholder || t('common.select')}\n        </Text>\n        <Text style={styles.chevron}>▼</Text>\n      </TouchableOpacity>\n      {error && <Text style={styles.errorText}>{error}</Text>}\n\n      <Modal visible={visible} transparent animationType=\"slide\">\n        <SafeAreaView style={styles.modalOverlay}>\n          <View style={styles.modalContent}>\n            <View style={styles.header}>\n              <Text style={styles.headerTitle}>{label}</Text>\n              <TouchableOpacity onPress={() => setVisible(false)}>\n                <Text style={styles.closeButton}>{t('common.close')}</Text>\n              </TouchableOpacity>\n            </View>\n            <FlatList\n              data={data}\n              renderItem={renderItem}\n              keyExtractor={item => item.value}\n              contentContainerStyle={styles.listContent}\n            />\n          </View>\n        </SafeAreaView>\n      </Modal>\n    </View>\n  );\n};\n\nconst createStyles = (theme: Theme) =>\n  StyleSheet.create({\n    container: {\n      marginBottom: theme.spacing.m,\n    },\n    label: {\n      ...theme.textVariants.caption,\n      fontWeight: '600',\n      color: theme.colors.text,\n      marginBottom: theme.spacing.s,\n    },\n    selector: {\n      backgroundColor: theme.colors.surface,\n      borderRadius: theme.spacing.s,\n      padding: theme.spacing.m,\n      borderWidth: 1,\n      borderColor: theme.colors.border,\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n    },\n    selectorError: {\n      borderColor: theme.colors.error,\n    },\n    valueText: {\n      fontSize: 16,\n      color: theme.colors.text,\n    },\n    placeholderText: {\n      color: theme.colors.subText,\n    },\n    chevron: {\n      color: theme.colors.subText,\n      fontSize: 12,\n    },\n    errorText: {\n      color: theme.colors.error,\n      fontSize: 12,\n      marginTop: 4,\n      marginLeft: 4,\n    },\n    modalOverlay: {\n      flex: 1,\n      backgroundColor: 'rgba(0,0,0,0.5)',\n      justifyContent: 'flex-end',\n    },\n    modalContent: {\n      backgroundColor: theme.colors.background,\n      borderTopLeftRadius: theme.spacing.l,\n      borderTopRightRadius: theme.spacing.l,\n      maxHeight: '80%',\n    },\n    header: {\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      padding: theme.spacing.m,\n      borderBottomWidth: 1,\n      borderBottomColor: theme.colors.border,\n    },\n    headerTitle: {\n      fontSize: 18,\n      fontWeight: '600',\n      color: theme.colors.text,\n    },\n    closeButton: {\n      color: theme.colors.primary,\n      fontSize: 16,\n      fontWeight: '600',\n    },\n    listContent: {\n      paddingBottom: theme.spacing.xl,\n    },\n    item: {\n      padding: theme.spacing.m,\n      borderBottomWidth: 1,\n      borderBottomColor: theme.colors.border,\n    },\n    itemText: {\n      fontSize: 16,\n      color: theme.colors.text,\n    },\n    selectedItemText: {\n      color: theme.colors.primary,\n      fontWeight: '600',\n    },\n  });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/components/LoadingScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Text' is defined but never used.","line":2,"column":54,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":58}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\nimport { View, Image, ActivityIndicator, StyleSheet, Text } from 'react-native';\nimport { useTheme } from '../context/ThemeContext';\nimport { Theme } from '../theme';\n\nexport const LoadingScreen = () => {\n    const { theme } = useTheme();\n    const styles = createStyles(theme);\n\n    return (\n        <View style={styles.container}>\n            <Image\n                source={require('../../public/logo.png')}\n                style={styles.logo}\n                resizeMode=\"contain\"\n            />\n            <ActivityIndicator size=\"large\" color={theme.colors.primary} style={styles.spinner} />\n        </View>\n    );\n};\n\nconst createStyles = (theme: Theme) =>\n    StyleSheet.create({\n        container: {\n            flex: 1,\n            justifyContent: 'center',\n            alignItems: 'center',\n            backgroundColor: theme.colors.background,\n        },\n        logo: {\n            width: 120,\n            height: 120,\n            marginBottom: theme.spacing.l,\n        },\n        spinner: {\n            marginTop: theme.spacing.m,\n        },\n    });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/components/MultiSelectDropdown.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Platform' is defined but never used.","line":9,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":9,"endColumn":13}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react';\nimport {\n    View,\n    Text,\n    Modal,\n    TouchableOpacity,\n    FlatList,\n    StyleSheet,\n    Platform, // Added Platform\n} from 'react-native';\nimport { useTranslation } from 'react-i18next';\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport { useTheme } from '../context/ThemeContext';\nimport { Theme } from '../theme';\n\ninterface DropdownItem {\n    label: string;\n    value: string;\n}\n\ninterface MultiSelectDropdownProps {\n    label: string;\n    data: DropdownItem[];\n    selectedValues: string[];\n    onSelect: (values: string[]) => void;\n    placeholder?: string;\n    error?: string;\n}\n\nexport const MultiSelectDropdown: React.FC<MultiSelectDropdownProps> = ({\n    label,\n    data,\n    selectedValues,\n    onSelect,\n    placeholder,\n    error,\n}) => {\n    const { theme } = useTheme();\n    const { t } = useTranslation();\n    const styles = createStyles(theme);\n    const [visible, setVisible] = useState(false);\n\n    const toggleSelection = (value: string) => {\n        if (selectedValues.includes(value)) {\n            onSelect(selectedValues.filter(v => v !== value));\n        } else {\n            onSelect([...selectedValues, value]);\n        }\n    };\n\n    const renderItem = ({ item }: { item: DropdownItem }) => {\n        const isSelected = selectedValues.includes(item.value);\n        return (\n            <TouchableOpacity\n                style={styles.item}\n                onPress={() => toggleSelection(item.value)}\n            >\n                <Text\n                    style={[\n                        styles.itemText,\n                        isSelected && styles.selectedItemText,\n                    ]}\n                >\n                    {item.label}\n                </Text>\n                {isSelected && <Text style={styles.checkmark}>✓</Text>}\n            </TouchableOpacity>\n        );\n    };\n\n    const selectedLabels = data\n        .filter(item => selectedValues.includes(item.value))\n        .map(item => item.label)\n        .join(', ');\n\n    return (\n        <View style={styles.container}>\n            <Text style={styles.label}>{label}</Text>\n            <TouchableOpacity\n                style={[styles.selector, error ? styles.selectorError : null]}\n                onPress={() => setVisible(true)}\n            >\n                <Text\n                    style={[styles.valueText, !selectedValues.length && styles.placeholderText]}\n                    numberOfLines={1}\n                >\n                    {selectedValues.length > 0 ? selectedLabels : placeholder || t('common.select')}\n                </Text>\n                <Text style={styles.chevron}>▼</Text>\n            </TouchableOpacity>\n            {error && <Text style={styles.errorText}>{error}</Text>}\n\n            <Modal visible={visible} transparent animationType=\"slide\">\n                <SafeAreaView style={styles.modalOverlay}>\n                    <View style={styles.modalContent}>\n                        <View style={styles.header}>\n                            <Text style={styles.headerTitle}>{label}</Text>\n                            <TouchableOpacity onPress={() => setVisible(false)}>\n                                <Text style={styles.closeButton}>{t('common.done')}</Text>\n                            </TouchableOpacity>\n                        </View>\n                        <FlatList\n                            data={data}\n                            renderItem={renderItem}\n                            keyExtractor={item => item.value}\n                            contentContainerStyle={styles.listContent}\n                        />\n                    </View>\n                </SafeAreaView>\n            </Modal>\n        </View>\n    );\n};\n\nconst createStyles = (theme: Theme) =>\n    StyleSheet.create({\n        container: {\n            marginBottom: theme.spacing.m,\n        },\n        label: {\n            ...theme.textVariants.caption,\n            fontWeight: '600',\n            color: theme.colors.text,\n            marginBottom: theme.spacing.s,\n        },\n        selector: {\n            backgroundColor: theme.colors.surface,\n            borderRadius: theme.spacing.s,\n            padding: theme.spacing.m,\n            borderWidth: 1,\n            borderColor: theme.colors.border,\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n        },\n        selectorError: {\n            borderColor: theme.colors.error,\n        },\n        valueText: {\n            fontSize: 16,\n            color: theme.colors.text,\n            flex: 1,\n            marginRight: theme.spacing.s,\n        },\n        placeholderText: {\n            color: theme.colors.subText,\n        },\n        chevron: {\n            color: theme.colors.subText,\n            fontSize: 12,\n        },\n        errorText: {\n            color: theme.colors.error,\n            fontSize: 12,\n            marginTop: 4,\n            marginLeft: 4,\n        },\n        modalOverlay: {\n            flex: 1,\n            backgroundColor: 'rgba(0,0,0,0.5)',\n            justifyContent: 'flex-end',\n        },\n        modalContent: {\n            backgroundColor: theme.colors.background,\n            borderTopLeftRadius: theme.spacing.l,\n            borderTopRightRadius: theme.spacing.l,\n            maxHeight: '80%',\n        },\n        header: {\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            padding: theme.spacing.m,\n            borderBottomWidth: 1,\n            borderBottomColor: theme.colors.border,\n        },\n        headerTitle: {\n            fontSize: 18,\n            fontWeight: '600',\n            color: theme.colors.text,\n        },\n        closeButton: {\n            color: theme.colors.primary,\n            fontSize: 16,\n            fontWeight: '600',\n        },\n        listContent: {\n            paddingBottom: theme.spacing.xl,\n        },\n        item: {\n            padding: theme.spacing.m,\n            borderBottomWidth: 1,\n            borderBottomColor: theme.colors.border,\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n        },\n        itemText: {\n            fontSize: 16,\n            color: theme.colors.text,\n        },\n        selectedItemText: {\n            color: theme.colors.primary,\n            fontWeight: '600',\n        },\n        checkmark: {\n            color: theme.colors.primary,\n            fontSize: 16,\n            fontWeight: 'bold',\n        },\n    });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/components/OfflineIndicator.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'View' is defined but never used.","line":2,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":14},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":55,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":55,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1633,1636],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1633,1636],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useRef } from 'react';\nimport { View, Text, StyleSheet, Animated, Platform } from 'react-native';\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\nimport { useTranslation } from 'react-i18next';\nimport { useNetworkStatus } from '../services/offlineService';\nimport { useTheme } from '../context/ThemeContext';\nimport { Theme } from '../theme';\n\nexport const OfflineIndicator = () => {\n  const { isOffline } = useNetworkStatus();\n  const { theme } = useTheme();\n  const { t } = useTranslation();\n  const insets = useSafeAreaInsets();\n  const styles = React.useMemo(() => createStyles(theme, insets), [theme, insets]);\n  const slideAnim = useRef(new Animated.Value(-100)).current;\n  const isNative = Platform.OS === 'ios' || Platform.OS === 'android';\n  useEffect(() => {\n    if (isOffline) {\n      // Slide in\n      Animated.timing(slideAnim, {\n        toValue: 0,\n        duration: 300,\n        useNativeDriver: isNative,\n      }).start();\n    } else {\n      // Slide out\n      Animated.timing(slideAnim, {\n        toValue: -100,\n        duration: 200,\n        useNativeDriver: isNative,\n      }).start();\n    }\n  }, [isOffline, slideAnim]);\n\n  if (!isOffline) {\n    return null;\n  }\n\n  return (\n    <Animated.View\n      style={[\n        styles.container,\n        {\n          backgroundColor: theme.colors.warning || '#FF9500',\n          transform: [{ translateY: slideAnim }],\n        },\n      ]}\n    >\n      <Text style={styles.icon}>⚠️</Text>\n      <Text style={styles.text}>{t('offline.noConnection')}</Text>\n    </Animated.View>\n  );\n};\n\nconst createStyles = (theme: Theme, insets: any) =>\n  StyleSheet.create({\n    container: {\n      position: 'absolute',\n      top: insets.top,\n      left: 0,\n      right: 0,\n      zIndex: 9999,\n      flexDirection: 'row',\n      alignItems: 'center',\n      justifyContent: 'center',\n      paddingVertical: 12,\n      paddingHorizontal: 16,\n      ...theme.shadows.medium,\n    },\n    icon: {\n      fontSize: 18,\n      marginRight: 8,\n    },\n    text: {\n      color: '#FFFFFF',\n      fontSize: 14,\n      fontWeight: '600',\n    },\n  });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/components/PayrollCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/components/SearchInput.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/components/WebThemeHandler.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":5,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":5,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[153,156],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[153,156],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useEffect } from 'react';\nimport { Platform } from 'react-native';\nimport { useTheme } from '../context/ThemeContext';\n\ndeclare const document: any;\n\nexport const WebThemeHandler = () => {\n  const { theme } = useTheme();\n\n  useEffect(() => {\n    if (Platform.OS === 'web') {\n      // Update body background\n      document.body.style.backgroundColor = theme.colors.background;\n\n      // Update app root background if it exists\n      const appRoot = document.getElementById('app-root');\n      if (appRoot) {\n        appRoot.style.backgroundColor = theme.colors.background;\n      }\n    }\n  }, [theme.colors.background]);\n\n  return null;\n};\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/components/auth/AuthInput.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/components/auth/AuthLayout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/components/common/ChatBot.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'isScreen' is assigned a value but never used.","line":38,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":38,"endColumn":35},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":42,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":42,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1445,1448],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1445,1448],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":43,"column":66,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":69,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1518,1521],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1518,1521],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'theme' is defined but never used.","line":277,"column":23,"nodeType":null,"messageId":"unusedVar","endLine":277,"endColumn":28}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useRef, useEffect, useMemo, useContext } from 'react';\nimport {\n    View,\n    Text,\n    StyleSheet,\n    TouchableOpacity,\n    TextInput,\n    FlatList,\n    KeyboardAvoidingView,\n    Platform,\n} from 'react-native';\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport { useNavigation } from '@react-navigation/native';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { useTheme } from '../../context/ThemeContext';\nimport { Theme } from '../../theme';\nimport { useAuth } from '../../context/AuthContext';\nimport { selectAllEmployees } from '../../store/slices/employeesSlice';\nimport { selectAllTeams } from '../../store/slices/teamsSlice';\nimport { selectPendingLeaves } from '../../store/slices/leavesSlice';\nimport { selectPendingClaims } from '../../store/slices/claimsSlice';\nimport { trackQuery } from '../../store/slices/analyticsSlice';\nimport { WebNavigationContext } from '../../navigation/WebNavigationContext';\n\ninterface Message {\n    id: string;\n    text: string;\n    sender: 'user' | 'bot';\n    timestamp: Date;\n    action?: {\n        label: string;\n        screen: string;\n        subScreen?: string;\n    };\n}\n\nexport const ChatBot = ({ isScreen = true }: { isScreen?: boolean }) => {\n    const { t } = useTranslation();\n    const { theme } = useTheme();\n    const { user } = useAuth();\n    const navigation = useNavigation<any>();\n    const { setActiveTab } = useContext(WebNavigationContext) as any;\n    const styles = useMemo(() => createStyles(theme), [theme]);\n\n    const [messages, setMessages] = useState<Message[]>([]);\n    const [inputText, setInputText] = useState('');\n    const [isTyping, setIsTyping] = useState(false);\n\n    const employees = useSelector(selectAllEmployees);\n    const teams = useSelector(selectAllTeams);\n    const pendingLeaves = useSelector(selectPendingLeaves);\n    const pendingClaims = useSelector(selectPendingClaims);\n    const dispatch = useDispatch();\n\n    const flatListRef = useRef<FlatList>(null);\n\n    useEffect(() => {\n        setMessages([\n            {\n                id: '1',\n                text: t('chatBot.greeting', { name: user?.name || 'User' }),\n                sender: 'bot',\n                timestamp: new Date(),\n            },\n        ]);\n    }, [t, user?.name]);\n\n    const handleSend = () => {\n        if (!inputText.trim()) return;\n\n        const userMessage: Message = {\n            id: Date.now().toString(),\n            text: inputText,\n            sender: 'user',\n            timestamp: new Date(),\n        };\n\n        dispatch(trackQuery({\n            id: userMessage.id,\n            text: userMessage.text,\n            timestamp: userMessage.timestamp.toISOString(),\n            role: 'user',\n        }));\n\n        setMessages((prev) => [...prev, userMessage]);\n        setInputText('');\n        setIsTyping(true);\n\n        setTimeout(() => {\n            const response = generateResponse(inputText);\n            const botMessage: Message = {\n                id: (Date.now() + 1).toString(),\n                text: response.text,\n                sender: 'bot',\n                timestamp: new Date(),\n                action: response.action,\n            };\n            setMessages((prev) => [...prev, botMessage]);\n            setIsTyping(false);\n        }, 1000);\n    };\n\n    const INTENTS = {\n        payroll: ['payroll', 'salary', 'pay', 'paie', 'salaire', 'gehalt', 'nómina', 'راتب', 'رواتب'],\n        leave: ['leave', 'vacation', 'off', 'congé', 'vacances', 'urlaub', 'abwesenheit', 'vacaciones', 'permiso', 'إجازة', 'عطلة'],\n        team: ['team', 'manager', 'équipe', 'chef', 'leitung', 'equipo', 'jefe', 'فريق', 'مدير'],\n        claim: ['claim', 'expense', 'refund', 'réclamation', 'dépense', 'forderung', 'reclamación', 'gasto', 'مطالبة', 'مصروفات'],\n        profile: ['profile', 'setting', 'edit', 'profil', 'paramètre', 'einstellung', 'perfil', 'ajuste', 'ملف', 'إعدادات'],\n        employees: ['employee', 'staff', 'worker', 'employé', 'personnel', 'mitarbeiter', 'empleado', 'trabajador', 'موظف', 'عمال'],\n        approvals: ['approval', 'pending', 'request', 'approbation', 'attente', 'genehmigung', 'ausstehend', 'aprobación', 'pendiente', 'موافقة', 'معلقة'],\n        hello: ['hello', 'hi', 'bonjour', 'salut', 'hallo', 'hola', 'مرحبا', 'أهلا', '你好', 'नमस्ते'],\n        howAreYou: ['how are you', 'how is it going', 'comment ça va', 'ca va', 'ça va', 'wie geht es', 'como estas', 'cómo estás', 'كيف حالك', '你好吗', 'आप कैसे हैं']\n    };\n\n    const generateResponse = (text: string): { text: string, action?: { label: string, screen: string, subScreen?: string } } => {\n        const input = text.toLowerCase();\n        const checkIntent = (keywords: string[]) => keywords.some(k => input.includes(k));\n\n        if (user?.role === 'admin') {\n            if (checkIntent(INTENTS.approvals)) {\n                const totalPending = pendingLeaves.length + pendingClaims.length;\n                return {\n                    text: t('chatBot.pendingApprovals', { count: totalPending }),\n                    action: { label: t('chatBot.pendingApprovalsAction'), screen: 'LeavesTab' }\n                };\n            }\n            if (checkIntent(INTENTS.employees) || input.includes('stat')) {\n                return {\n                    text: t('chatBot.adminStats', { employees: employees.length, teams: teams.length }),\n                    action: { label: t('chatBot.employeesAction'), screen: 'Employees' }\n                };\n            }\n        } else {\n            if (checkIntent(INTENTS.approvals) || input.includes('status')) {\n                const myPendingLeaves = pendingLeaves.filter(l => String(l.employeeId) === String(user?.id)).length;\n                const myPendingClaims = pendingClaims.filter(c => String(c.employeeId) === String(user?.id)).length;\n                const totalMyPending = myPendingLeaves + myPendingClaims;\n                return {\n                    text: t('chatBot.pendingApprovals', { count: totalMyPending }),\n                    action: { label: t('chatBot.pendingApprovalsAction'), screen: 'LeavesTab' }\n                };\n            }\n        }\n\n        if (checkIntent(INTENTS.payroll)) {\n            return {\n                text: t('chatBot.payroll'),\n                action: { label: t('chatBot.payrollAction'), screen: 'PayrollTab' }\n            };\n        }\n\n        if (checkIntent(INTENTS.leave)) {\n            return {\n                text: t('chatBot.leave', { days: user?.remainingVacationDays || 0 }),\n                action: { label: t('chatBot.leaveAction'), screen: 'LeavesTab', subScreen: 'AddLeave' }\n            };\n        }\n\n        if (checkIntent(INTENTS.team)) {\n            const myTeam = teams.find(t => t.id === user?.teamId);\n            if (myTeam) {\n                return {\n                    text: t('chatBot.team', { team: myTeam.name, dept: myTeam.department }),\n                    action: { label: t('chatBot.teamAction'), screen: 'Profile', subScreen: 'MyTeam' }\n                };\n            }\n            return {\n                text: t('chatBot.teamUnknown'),\n                action: { label: t('chatBot.profileAction'), screen: 'Profile' }\n            };\n        }\n\n        if (checkIntent(INTENTS.claim)) {\n            return {\n                text: t('chatBot.claim'),\n                action: { label: t('chatBot.claimAction'), screen: 'ClaimsTab', subScreen: 'AddClaim' }\n            };\n        }\n\n        if (checkIntent(INTENTS.profile)) {\n            return {\n                text: t('chatBot.profile'),\n                action: { label: t('chatBot.profileAction'), screen: 'Profile' }\n            };\n        }\n\n        if (checkIntent(INTENTS.employees)) {\n            return {\n                text: t('chatBot.employees', { count: employees.length }),\n                action: { label: t('chatBot.employeesAction'), screen: 'Employees' }\n            };\n        }\n\n        if (checkIntent(INTENTS.howAreYou)) return { text: t('chatBot.responseCaVa') };\n        if (checkIntent(INTENTS.hello)) return { text: `${t('chatBot.howCanIHelp')}\\n\\n${t('chatBot.helpDetails')}` };\n\n        return { text: t('chatBot.fallback') };\n    };\n\n    const handleAction = (action: { label: string, screen: string, subScreen?: string }) => {\n        if (Platform.OS === 'web') {\n            let webTab = action.screen;\n            if (action.screen === 'PayrollTab') webTab = 'Payroll';\n            if (action.screen === 'LeavesTab') webTab = 'Leaves';\n            if (action.screen === 'ClaimsTab') webTab = 'Claims';\n            setActiveTab(webTab, action.subScreen);\n        } else {\n            if (action.subScreen) {\n                navigation.navigate(action.screen, { screen: action.subScreen });\n            } else {\n                navigation.navigate(action.screen);\n            }\n        }\n    };\n\n    const renderItem = ({ item }: { item: Message }) => (\n        <View style={[styles.messageWrapper, item.sender === 'user' ? styles.userWrapper : styles.botWrapper]}>\n            <View style={[styles.bubble, item.sender === 'user' ? { backgroundColor: theme.colors.primary } : { backgroundColor: theme.colors.surface, borderColor: theme.colors.border, borderWidth: 1 }]}>\n                <Text style={[styles.messageText, { color: item.sender === 'user' ? '#FFF' : theme.colors.text }]}>\n                    {item.text}\n                </Text>\n                {item.action && (\n                    <TouchableOpacity style={[styles.actionButton, { backgroundColor: theme.colors.secondary }]} onPress={() => handleAction(item.action!)}>\n                        <Text style={styles.actionButtonText}>{item.action.label} →</Text>\n                    </TouchableOpacity>\n                )}\n            </View>\n            <Text style={[styles.timestamp, { color: theme.colors.subText }]}>\n                {item.timestamp.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n            </Text>\n        </View>\n    );\n\n    return (\n        <SafeAreaView style={{ flex: 1, backgroundColor: theme.colors.background }}>\n            <KeyboardAvoidingView behavior={Platform.OS === 'ios' ? 'padding' : undefined} style={[styles.chatContainer, { backgroundColor: theme.colors.background, flex: 1 }]}>\n                <View style={[styles.header, { backgroundColor: theme.colors.primary }]}>\n                    <View style={styles.headerInfo}>\n                        <Text style={styles.headerTitle}>{t('common.assistant') || 'Assistant HR Pro'}</Text>\n                        <Text style={styles.headerStatus}>{t('common.online') || 'Online'}</Text>\n                    </View>\n                </View>\n\n                <FlatList\n                    ref={flatListRef}\n                    data={messages}\n                    renderItem={renderItem}\n                    keyExtractor={(item) => item.id}\n                    contentContainerStyle={styles.listContent}\n                    onContentSizeChange={() => flatListRef.current?.scrollToEnd()}\n                />\n\n                {isTyping && (\n                    <Text style={[styles.typingIndicator, { color: theme.colors.subText }]}>\n                        Assistant is typing...\n                    </Text>\n                )}\n\n                <View style={[styles.inputContainer, { backgroundColor: theme.colors.surface, borderTopColor: theme.colors.border }]}>\n                    <TextInput\n                        style={[styles.input, { color: theme.colors.text, borderColor: theme.colors.border }]}\n                        value={inputText}\n                        onChangeText={setInputText}\n                        placeholder={t('common.askAnything') || \"Ask me anything...\"}\n                        placeholderTextColor={theme.colors.subText}\n                    />\n                    <TouchableOpacity style={[styles.sendButton, { backgroundColor: theme.colors.primary }]} onPress={handleSend}>\n                        <Text style={styles.sendIcon}>🏹</Text>\n                    </TouchableOpacity>\n                </View>\n            </KeyboardAvoidingView>\n        </SafeAreaView>\n    );\n};\n\nconst createStyles = (theme: Theme) =>\n    StyleSheet.create({\n        chatContainer: {\n            flex: 1,\n        },\n        header: {\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            padding: 20,\n        },\n        headerInfo: {\n            flex: 1,\n        },\n        headerTitle: {\n            color: '#FFF',\n            fontSize: 18,\n            fontWeight: 'bold',\n        },\n        headerStatus: {\n            color: 'rgba(255,255,255,0.8)',\n            fontSize: 12,\n        },\n        listContent: {\n            padding: 20,\n        },\n        messageWrapper: {\n            marginBottom: 20,\n            maxWidth: '85%',\n        },\n        userWrapper: {\n            alignSelf: 'flex-end',\n        },\n        botWrapper: {\n            alignSelf: 'flex-start',\n        },\n        bubble: {\n            padding: 14,\n            borderRadius: 20,\n        },\n        messageText: {\n            fontSize: 15,\n            lineHeight: 22,\n        },\n        timestamp: {\n            fontSize: 10,\n            marginTop: 4,\n            marginHorizontal: 8,\n        },\n        typingIndicator: {\n            paddingHorizontal: 20,\n            paddingBottom: 10,\n            fontSize: 12,\n            fontStyle: 'italic',\n        },\n        inputContainer: {\n            flexDirection: 'row',\n            alignItems: 'center',\n            padding: 16,\n            paddingBottom: Platform.OS === 'ios' ? 32 : 16,\n            borderTopWidth: 1,\n        },\n        input: {\n            flex: 1,\n            borderWidth: 1,\n            borderRadius: 24,\n            paddingHorizontal: 16,\n            paddingVertical: 10,\n            marginRight: 12,\n            fontSize: 16,\n        },\n        sendButton: {\n            width: 48,\n            height: 48,\n            borderRadius: 24,\n            justifyContent: 'center',\n            alignItems: 'center',\n        },\n        sendIcon: {\n            fontSize: 22,\n            color: '#FFF',\n        },\n        actionButton: {\n            marginTop: 10,\n            paddingVertical: 8,\n            paddingHorizontal: 12,\n            borderRadius: 8,\n            alignSelf: 'flex-start',\n        },\n        actionButtonText: {\n            color: '#000',\n            fontWeight: '600',\n            fontSize: 14,\n        },\n    });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/components/common/GlassHeader.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Image' is defined but never used.","line":8,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":10}],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":44,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":44,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1470,1473],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1470,1473],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\nimport {\n    View,\n    Text,\n    StyleSheet,\n    TouchableOpacity,\n    Platform,\n    Image,\n} from 'react-native';\nimport { useTranslation } from 'react-i18next';\nimport { useTheme } from '../../context/ThemeContext';\nimport { NotificationBell } from './NotificationBell';\nimport { Theme } from '../../theme';\nimport { useAuth } from '../../context/AuthContext';\n\ninterface GlassHeaderProps {\n    title?: string;\n    onMenuPress?: () => void;\n    onSearchPress?: () => void;\n    showBack?: boolean;\n    onBackPress?: () => void;\n}\n\nconst createStyles = (theme: Theme) =>\n    StyleSheet.create({\n        container: {\n            height: Platform.OS === 'ios' ? 100 : 70,\n            paddingTop: Platform.OS === 'ios' ? 40 : 0,\n            flexDirection: 'row',\n            alignItems: 'center',\n            justifyContent: 'space-between',\n            paddingHorizontal: 16,\n            zIndex: 100,\n            backgroundColor: Platform.OS === 'web'\n                ? 'rgba(255, 255, 255, 0.7)'\n                : theme.colors.surface + 'E6', // 90% opacity\n            borderBottomWidth: 1,\n            borderBottomColor: 'rgba(255, 255, 255, 0.3)',\n            // Web Glassmorphism\n            ...(Platform.OS === 'web' && {\n                backdropFilter: 'blur(10px)',\n                WebkitBackdropFilter: 'blur(10px)',\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                position: 'fixed' as any,\n                top: 0,\n                left: 0,\n                right: 0,\n            }),\n            ...theme.shadows.small,\n        },\n        leftSection: {\n            flexDirection: 'row',\n            alignItems: 'center',\n        },\n        rightSection: {\n            flexDirection: 'row',\n            alignItems: 'center',\n        },\n        title: {\n            fontSize: 20,\n            fontWeight: '700',\n            color: theme.colors.text,\n            marginLeft: 12,\n        },\n        iconButton: {\n            padding: 8,\n            borderRadius: 12,\n        },\n        profileButton: {\n            marginLeft: 8,\n        },\n        avatar: {\n            width: 32,\n            height: 32,\n            borderRadius: 16,\n            backgroundColor: theme.colors.primaryBackground,\n            justifyContent: 'center',\n            alignItems: 'center',\n            borderWidth: 1,\n            borderColor: theme.colors.primary + '33',\n        },\n        avatarText: {\n            color: theme.colors.primary,\n            fontWeight: '600',\n            fontSize: 14,\n        }\n    });\n\nexport const GlassHeader = ({ title, onMenuPress, onSearchPress, showBack, onBackPress }: GlassHeaderProps) => {\n    const { t } = useTranslation();\n    const { theme } = useTheme();\n    const { user } = useAuth();\n    const styles = React.useMemo(() => createStyles(theme), [theme]);\n\n    const getInitials = (name: string) => {\n        return name\n            .split(' ')\n            .map((n) => n[0])\n            .join('')\n            .toUpperCase()\n            .substring(0, 2);\n    };\n\n    return (\n        <View style={styles.container}>\n            <View style={styles.leftSection}>\n                {onMenuPress && (\n                    <TouchableOpacity style={styles.iconButton} onPress={onMenuPress}>\n                        <Text style={{ fontSize: 24 }}>☰</Text>\n                    </TouchableOpacity>\n                )}\n                {showBack && (\n                    <TouchableOpacity style={styles.iconButton} onPress={onBackPress}>\n                        <Text style={{ fontSize: 24 }}>←</Text>\n                    </TouchableOpacity>\n                )}\n                <Text style={styles.title}>{title || t('home.appName')}</Text>\n            </View>\n\n            <View style={styles.rightSection}>\n                {onSearchPress && (\n                    <TouchableOpacity style={styles.iconButton} onPress={onSearchPress}>\n                        <Text style={{ fontSize: 20 }}>🔍</Text>\n                    </TouchableOpacity>\n                )}\n                <NotificationBell />\n                <TouchableOpacity style={[styles.iconButton, styles.profileButton]}>\n                    <View style={styles.avatar}>\n                        <Text style={styles.avatarText}>\n                            {user?.name ? getInitials(user.name) : '??'}\n                        </Text>\n                    </View>\n                </TouchableOpacity>\n            </View>\n        </View>\n    );\n};\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/components/common/NotificationBell.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":120,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":120,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3301,3304],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3301,3304],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react';\nimport {\n    View,\n    Text,\n    TouchableOpacity,\n    StyleSheet,\n    FlatList,\n    Modal,\n} from 'react-native';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { useTheme } from '../../context/ThemeContext';\nimport {\n    selectAllNotifications,\n    selectUnreadCount,\n    markAsRead,\n    markAllAsRead\n} from '../../store/slices/notificationsSlice';\nimport { formatDate } from '../../utils/dateUtils';\nimport { Theme } from '../../theme';\n\nconst createStyles = (theme: Theme) =>\n    StyleSheet.create({\n        bellButton: {\n            padding: 8,\n            position: 'relative',\n        },\n        bellIcon: {\n            fontSize: 22,\n        },\n        badge: {\n            position: 'absolute',\n            top: 4,\n            right: 4,\n            minWidth: 18,\n            height: 18,\n            borderRadius: 9,\n            justifyContent: 'center',\n            alignItems: 'center',\n            paddingHorizontal: 4,\n            borderWidth: 1.5,\n            borderColor: '#FFF',\n        },\n        badgeText: {\n            color: '#FFF',\n            fontSize: 10,\n            fontWeight: 'bold',\n        },\n        modalOverlay: {\n            flex: 1,\n            backgroundColor: 'rgba(0,0,0,0.2)',\n            justifyContent: 'flex-start',\n            alignItems: 'flex-end',\n            paddingTop: 80, // Adjust based on header height\n            paddingRight: 20,\n        },\n        popover: {\n            width: 320,\n            borderRadius: 16,\n            ...theme.shadows.large,\n        },\n        popoverHeader: {\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            padding: 16,\n            borderBottomWidth: 1,\n        },\n        popoverTitle: {\n            fontSize: 16,\n            fontWeight: '700',\n        },\n        markReadText: {\n            fontSize: 12,\n            fontWeight: '600',\n        },\n        notificationItem: {\n            padding: 16,\n            borderBottomWidth: 1,\n        },\n        notificationHeader: {\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            marginBottom: 4,\n        },\n        notificationTitle: {\n            fontSize: 14,\n            flex: 1,\n        },\n        notificationDate: {\n            fontSize: 10,\n            marginLeft: 8,\n        },\n        notificationMessage: {\n            fontSize: 13,\n            lineHeight: 18,\n            opacity: 0.8,\n        },\n        emptyContainer: {\n            padding: 32,\n            alignItems: 'center',\n        },\n    });\n\nexport const NotificationBell = () => {\n    const { t } = useTranslation();\n    const { theme } = useTheme();\n    const dispatch = useDispatch();\n    const notifications = useSelector(selectAllNotifications);\n    const unreadCount = useSelector(selectUnreadCount);\n    const styles = React.useMemo(() => createStyles(theme), [theme]);\n    const [modalVisible, setModalVisible] = useState(false);\n\n    const handleNotificationPress = (id: string) => {\n        dispatch(markAsRead(id));\n        // Could navigate to a specific screen if link is present\n        // setModalVisible(false);\n    };\n\n    const renderItem = ({ item }: { item: any }) => (\n        <TouchableOpacity\n            style={[\n                styles.notificationItem,\n                { borderBottomColor: theme.colors.border },\n                !item.isRead && { backgroundColor: `${theme.colors.primary}10` }\n            ]}\n            onPress={() => handleNotificationPress(item.id)}\n        >\n            <View style={styles.notificationHeader}>\n                <Text style={[styles.notificationTitle, { color: theme.colors.text }, !item.isRead && { fontWeight: '700' }]}>\n                    {item.title}\n                </Text>\n                <Text style={[styles.notificationDate, { color: theme.colors.subText }]}>\n                    {formatDate(item.createdAt)}\n                </Text>\n            </View>\n            <Text style={[styles.notificationMessage, { color: theme.colors.text }]} numberOfLines={2}>\n                {item.message}\n            </Text>\n        </TouchableOpacity>\n    );\n\n    return (\n        <View>\n            <TouchableOpacity\n                style={styles.bellButton}\n                onPress={() => setModalVisible(true)}\n            >\n                <Text style={styles.bellIcon}>🔔</Text>\n                {unreadCount > 0 && (\n                    <View style={[styles.badge, { backgroundColor: theme.colors.error }]}>\n                        <Text style={styles.badgeText}>{unreadCount}</Text>\n                    </View>\n                )}\n            </TouchableOpacity>\n\n            <Modal\n                animationType=\"fade\"\n                transparent={true}\n                visible={modalVisible}\n                onRequestClose={() => setModalVisible(false)}\n            >\n                <TouchableOpacity\n                    style={styles.modalOverlay}\n                    activeOpacity={1}\n                    onPress={() => setModalVisible(false)}\n                >\n                    <View style={[styles.popover, { backgroundColor: theme.colors.surface }]}>\n                        <View style={[styles.popoverHeader, { borderBottomColor: theme.colors.border }]}>\n                            <Text style={[styles.popoverTitle, { color: theme.colors.text }]}>\n                                {t('notifications.title')}\n                            </Text>\n                            {unreadCount > 0 && (\n                                <TouchableOpacity onPress={() => dispatch(markAllAsRead())}>\n                                    <Text style={[styles.markReadText, { color: theme.colors.primary }]}>\n                                        {t('notifications.markAllAsRead')}\n                                    </Text>\n                                </TouchableOpacity>\n                            )}\n                        </View>\n\n                        <FlatList\n                            data={notifications}\n                            renderItem={renderItem}\n                            keyExtractor={(item) => item.id}\n                            ListEmptyComponent={\n                                <View style={styles.emptyContainer}>\n                                    <Text style={{ color: theme.colors.subText }}>{t('notifications.noNotifications')}</Text>\n                                </View>\n                            }\n                            style={{ maxHeight: 400 }}\n                        />\n                    </View>\n                </TouchableOpacity>\n            </Modal>\n        </View>\n    );\n};\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/components/common/SearchOverlay.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'KeyboardAvoidingView' is defined but never used.","line":11,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":25},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":27,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[864,867],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[864,867],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useMemo } from 'react';\nimport {\n    View,\n    Text,\n    Modal,\n    TextInput,\n    TouchableOpacity,\n    StyleSheet,\n    FlatList,\n    Platform,\n    KeyboardAvoidingView,\n} from 'react-native';\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport { useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { useTheme } from '../../context/ThemeContext';\nimport { selectAllEmployees } from '../../store/slices/employeesSlice';\nimport { selectAllTeams } from '../../store/slices/teamsSlice';\nimport { selectAllAnnouncements } from '../../store/slices/announcementsSlice';\nimport { Employee, Team, Announcement } from '../../database/schema';\n\ninterface SearchResult {\n    id: string;\n    title: string;\n    subtitle: string;\n    type: 'employee' | 'team' | 'announcement';\n    originalItem: any;\n}\n\nexport const SearchOverlay = ({ visible, onClose, onSelect }: {\n    visible: boolean;\n    onClose: () => void;\n    onSelect: (item: SearchResult) => void;\n}) => {\n    const { t } = useTranslation();\n    const { theme } = useTheme();\n    const [query, setQuery] = useState('');\n\n    const employees = useSelector(selectAllEmployees);\n    const teams = useSelector(selectAllTeams);\n    const announcements = useSelector(selectAllAnnouncements);\n\n    const formatDate = (dateString: string) => {\n        try {\n            return new Date(dateString).toLocaleDateString();\n        } catch {\n            return dateString;\n        }\n    };\n\n    const results = useMemo(() => {\n        if (!query.trim()) return [];\n\n        const lowerQuery = query.toLowerCase();\n        const searchResults: SearchResult[] = [];\n\n        // Search Employees\n        employees.forEach((e: Employee) => {\n            const name = e.name || '';\n            const email = e.email || '';\n            if (name.toLowerCase().includes(lowerQuery) || email.toLowerCase().includes(lowerQuery)) {\n                searchResults.push({\n                    id: String(e.id),\n                    title: name,\n                    subtitle: e.position || email || '',\n                    type: 'employee',\n                    originalItem: e,\n                });\n            }\n        });\n\n        // Search Teams\n        teams.forEach((tm: Team) => {\n            const teamName = tm.name || '';\n            if (teamName.toLowerCase().includes(lowerQuery)) {\n                searchResults.push({\n                    id: String(tm.id),\n                    title: teamName,\n                    subtitle: tm.department || '',\n                    type: 'team',\n                    originalItem: tm,\n                });\n            }\n        });\n\n        // Search Announcements\n        announcements.forEach((a: Announcement) => {\n            const title = a.title || '';\n            const content = a.content || '';\n            if (title.toLowerCase().includes(lowerQuery) || content.toLowerCase().includes(lowerQuery)) {\n                searchResults.push({\n                    id: String(a.id),\n                    title: title,\n                    subtitle: formatDate(a.createdAt),\n                    type: 'announcement',\n                    originalItem: a,\n                });\n            }\n        });\n\n        return searchResults;\n    }, [query, employees, teams, announcements]);\n\n    const getIcon = (type: string) => {\n        switch (type) {\n            case 'employee': return '👥';\n            case 'team': return '🤝';\n            case 'announcement': return '📢';\n            default: return '🔍';\n        }\n    };\n\n    const renderItem = ({ item }: { item: SearchResult }) => (\n        <TouchableOpacity\n            style={[styles.resultItem, { borderBottomColor: theme.colors.border }]}\n            onPress={() => onSelect(item)}\n        >\n            <View style={[styles.typeIcon, { backgroundColor: `${theme.colors.primary}15` }]}>\n                <Text style={{ fontSize: 18 }}>{getIcon(item.type)}</Text>\n            </View>\n            <View style={styles.resultText}>\n                <Text style={[styles.resultTitle, { color: theme.colors.text }]}>{item.title}</Text>\n                <Text style={[styles.resultSubtitle, { color: theme.colors.subText }]}>{item.subtitle}</Text>\n            </View>\n            <Text style={[styles.typeLabel, { color: theme.colors.subText }]}>{t(`navigation.${item.type === 'employee' ? 'employees' : item.type === 'team' ? 'teams' : 'announcements'}`)}</Text>\n        </TouchableOpacity>\n    );\n\n    return (\n        <Modal\n            visible={visible}\n            animationType=\"fade\"\n            transparent={true}\n            onRequestClose={onClose}\n        >\n            <SafeAreaView style={[styles.container, { backgroundColor: 'rgba(0,0,0,0.4)' }]}>\n                <View style={[styles.content, { backgroundColor: theme.colors.surface }]}>\n                    <View style={[styles.searchBar, { borderBottomColor: theme.colors.border }]}>\n                        <Text style={styles.searchIcon}>🔍</Text>\n                        <TextInput\n                            style={[styles.input, { color: theme.colors.text }]}\n                            value={query}\n                            onChangeText={setQuery}\n                            placeholder={t('common.searchPlaceholderGlobal')}\n                            placeholderTextColor={theme.colors.subText}\n                            autoFocus\n                        />\n                        <TouchableOpacity onPress={onClose} style={styles.closeButton}>\n                            <Text style={{ color: theme.colors.primary, fontWeight: '600' }}>{t('common.close')}</Text>\n                        </TouchableOpacity>\n                    </View>\n\n                    <FlatList\n                        data={results}\n                        renderItem={renderItem}\n                        keyExtractor={(item) => `${item.type}-${item.id}`}\n                        contentContainerStyle={styles.list}\n                        ListEmptyComponent={\n                            query ? (\n                                <View style={styles.emptyContainer}>\n                                    <Text style={{ color: theme.colors.subText }}>No results found for \"{query}\"</Text>\n                                </View>\n                            ) : null\n                        }\n                    />\n                </View>\n            </SafeAreaView>\n        </Modal>\n    );\n};\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n    },\n    content: {\n        flex: 1,\n        marginTop: Platform.OS === 'web' ? 20 : 0,\n        borderTopLeftRadius: 24,\n        borderTopRightRadius: 24,\n    },\n    searchBar: {\n        flexDirection: 'row',\n        alignItems: 'center',\n        padding: 16,\n        borderBottomWidth: 1,\n    },\n    searchIcon: {\n        fontSize: 20,\n        marginRight: 12,\n    },\n    input: {\n        flex: 1,\n        fontSize: 18,\n        paddingVertical: 8,\n    },\n    closeButton: {\n        paddingLeft: 16,\n    },\n    list: {\n        padding: 16,\n    },\n    resultItem: {\n        flexDirection: 'row',\n        alignItems: 'center',\n        paddingVertical: 12,\n        borderBottomWidth: 1,\n    },\n    typeIcon: {\n        width: 44,\n        height: 44,\n        borderRadius: 22,\n        justifyContent: 'center',\n        alignItems: 'center',\n        marginRight: 16,\n    },\n    resultText: {\n        flex: 1,\n    },\n    resultTitle: {\n        fontSize: 16,\n        fontWeight: '600',\n    },\n    resultSubtitle: {\n        fontSize: 13,\n    },\n    typeLabel: {\n        fontSize: 11,\n        fontStyle: 'italic',\n    },\n    emptyContainer: {\n        padding: 40,\n        alignItems: 'center',\n    },\n});\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/config/firebase.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":16,"column":10,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":13,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[603,606],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[603,606],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { initializeApp } from 'firebase/app';\nimport { Platform } from 'react-native';\n\n// REPLACE WITH YOUR FIREBASE CONFIG\n// You can find these in your Firebase Console -> Project Settings -> General -> Your apps -> Web app\nconst firebaseConfig = {\n  apiKey: 'AIzaSyA5RDVnk0Cd3r2xzEGXKRRpr_DEWxZOmSU',\n  authDomain: 'medicare-reminder-b272f.firebaseapp.com',\n  projectId: 'medicare-reminder-b272f',\n  storageBucket: 'medicare-reminder-b272f.firebasestorage.app',\n  messagingSenderId: '643740408782',\n  appId: '1:643740408782:web:08adb76c62bc70331aa99f',\n  measurementId: 'G-YPJDHPN441',\n};\n\nlet app: any;\n\nif (Platform.OS === 'web') {\n  try {\n    app = initializeApp(firebaseConfig);\n    console.log('Firebase App initialized for Web');\n  } catch (error) {\n    console.warn('Firebase initialization failed:', error);\n  }\n}\n\nexport { app };\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/context/AuthContext.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":13,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[506,509],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[506,509],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":53,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":53,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2185,2188],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2185,2188],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { createContext, useContext, useEffect, ReactNode } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { RootState } from '../store';\nimport { setUser, logout } from '../store/slices/authSlice';\nimport { authService, User } from '../services/authService';\nexport type { User };\n\ninterface AuthContextType {\n    user: User | null;\n    isLoading: boolean;\n    signIn: (user: User) => Promise<void>;\n    signUp: (user: User) => Promise<void>;\n    signOut: (navigation: any) => Promise<void>;\n    updateProfile: (updatedData: Partial<User>) => Promise<void>;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport const AuthProvider = ({ children }: { children: ReactNode }) => {\n    const dispatch = useDispatch();\n    const user = useSelector((state: RootState) => state.auth.user);\n    const isLoading = useSelector((state: RootState) => state.auth.isLoading); // Loaded via persist\n\n    // No need for explicit checkUser check as redux-persist handles hydration\n\n    // However, if we want to sync with \"authService.getCurrentUser\" initially just in case the manual storage was used before:\n    useEffect(() => {\n        // Optional: Migration from old manual storage if Redux is empty\n        const migrate = async () => {\n            if (!user) {\n                const oldUser = await authService.getCurrentUser();\n                if (oldUser) {\n                    dispatch(setUser(oldUser));\n                }\n            }\n        };\n        migrate();\n    }, []);\n\n    const signIn = async (loggedInUser: User) => {\n        dispatch(setUser(loggedInUser));\n        // Also keep sync with legacy service if needed or just replace it\n        await authService.login(loggedInUser.email, 'ignored'); // This is weird, authService.login does the logic. \n        // Better: We assume the caller of signIn has verified the user.\n        // Actually, looking at LoginScreen, it calls authService.login THEN signIn.\n        // So here we validly just set the store.\n    };\n\n    const signUp = async (registeredUser: User) => {\n        dispatch(setUser(registeredUser));\n    };\n\n    const signOut = async (navigation: any) => {\n        try {\n            await authService.logout();\n        } catch (error) {\n            console.error('Error signing out:', error);\n        } finally {\n            dispatch(logout());\n            navigation.replace('Login'); // Use replace to reset stack\n        }\n    };\n\n    const updateProfile = async (updatedData: Partial<User>) => {\n        try {\n            // We still call the service to update \"legacy\" persistent storage if we want to keep it \n            // OR we move logic to slice. For now, call service then update store.\n            const updatedUser = await authService.updateUser(updatedData);\n            dispatch(setUser(updatedUser));\n        } catch (error) {\n            console.error('Error updating profile:', error);\n            throw error;\n        }\n    };\n\n    return (\n        <AuthContext.Provider\n            value={{\n                user,\n                isLoading,\n                signIn,\n                signUp,\n                signOut,\n                updateProfile,\n            }}\n        >\n            {children}\n        </AuthContext.Provider>\n    );\n};\n\nexport const useAuth = () => {\n    const context = useContext(AuthContext);\n    if (context === undefined) {\n        throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n};\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/context/ModalContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/context/ThemeContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/context/ToastContext.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":51,"column":76,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":51,"endColumn":79,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1614,1617],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1614,1617],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { createContext, useContext, useState, useCallback } from 'react';\nimport { View, Text, StyleSheet, Animated, Dimensions } from 'react-native';\nimport { useTheme } from './ThemeContext';\nimport { Theme } from '../theme';\n\ntype ToastType = 'success' | 'error' | 'warning' | 'info';\n\ninterface Toast {\n    id: string;\n    message: string;\n    type: ToastType;\n}\n\ninterface ToastContextType {\n    showToast: (message: string, type?: ToastType) => void;\n}\n\nconst ToastContext = createContext<ToastContextType | undefined>(undefined);\n\nexport const useToast = () => {\n    const context = useContext(ToastContext);\n    if (!context) {\n        throw new Error('useToast must be used within ToastProvider');\n    }\n    return context;\n};\n\nexport const ToastProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n    const [toasts, setToasts] = useState<Toast[]>([]);\n    const { theme } = useTheme();\n\n    const showToast = useCallback((message: string, type: ToastType = 'info') => {\n        const id = Date.now().toString();\n        const newToast: Toast = { id, message, type };\n\n        setToasts((prev) => [...prev, newToast]);\n\n        // Auto-dismiss after 4 seconds\n        setTimeout(() => {\n            setToasts((prev) => prev.filter((t) => t.id !== id));\n        }, 4000);\n    }, []);\n\n    const removeToast = useCallback((id: string) => {\n        setToasts((prev) => prev.filter((t) => t.id !== id));\n    }, []);\n\n    return (\n        <ToastContext.Provider value={{ showToast }}>\n            {children}\n            <View style={[styles.container, { pointerEvents: 'box-none' as any }]}>\n                {toasts.map((toast, index) => (\n                    <ToastItem\n                        key={toast.id}\n                        toast={toast}\n                        index={index}\n                        onDismiss={() => removeToast(toast.id)}\n                        theme={theme}\n                    />\n                ))}\n            </View>\n        </ToastContext.Provider>\n    );\n};\n\nconst ToastItem: React.FC<{\n    toast: Toast;\n    index: number;\n    onDismiss: () => void;\n    theme: Theme;\n}> = ({ toast, index, onDismiss, theme }) => {\n    const [fadeAnim] = React.useState(new Animated.Value(0));\n    const [slideAnim] = React.useState(new Animated.Value(-100));\n\n    React.useEffect(() => {\n        Animated.parallel([\n            Animated.timing(fadeAnim, {\n                toValue: 1,\n                duration: 300,\n                useNativeDriver: true,\n            }),\n            Animated.spring(slideAnim, {\n                toValue: 0,\n                tension: 50,\n                friction: 7,\n                useNativeDriver: true,\n            }),\n        ]).start();\n\n        // Auto-dismiss animation\n        const timer = setTimeout(() => {\n            Animated.parallel([\n                Animated.timing(fadeAnim, {\n                    toValue: 0,\n                    duration: 200,\n                    useNativeDriver: true,\n                }),\n                Animated.timing(slideAnim, {\n                    toValue: -100,\n                    duration: 200,\n                    useNativeDriver: true,\n                }),\n            ]).start(() => onDismiss());\n        }, 3700);\n\n        return () => clearTimeout(timer);\n    }, []);\n\n    const styles = createToastStyles(theme, toast.type);\n    const { width } = Dimensions.get('window');\n    const isMobile = width < 768;\n\n    return (\n        <Animated.View\n            style={[\n                styles.toast,\n                {\n                    opacity: fadeAnim,\n                    transform: [{ translateY: slideAnim }],\n                    top: isMobile ? 60 + index * 70 : 80 + index * 70,\n                },\n            ]}\n        >\n            <Text style={styles.icon}>{getIcon(toast.type)}</Text>\n            <Text style={styles.message} numberOfLines={2}>\n                {toast.message}\n            </Text>\n        </Animated.View>\n    );\n};\n\nconst getIcon = (type: ToastType): string => {\n    switch (type) {\n        case 'success':\n            return '✓';\n        case 'error':\n            return '✕';\n        case 'warning':\n            return '⚠';\n        case 'info':\n        default:\n            return 'ℹ';\n    }\n};\n\nconst getColor = (type: ToastType, theme: Theme): string => {\n    switch (type) {\n        case 'success':\n            return theme.colors.success;\n        case 'error':\n            return theme.colors.error;\n        case 'warning':\n            return theme.colors.warning;\n        case 'info':\n        default:\n            return theme.colors.primary;\n    }\n};\n\nconst styles = StyleSheet.create({\n    container: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        right: 0,\n        zIndex: 9999,\n        alignItems: 'center',\n    },\n});\n\nconst createToastStyles = (theme: Theme, type: ToastType) =>\n    StyleSheet.create({\n        toast: {\n            position: 'absolute',\n            flexDirection: 'row',\n            alignItems: 'center',\n            backgroundColor: theme.colors.surface,\n            borderLeftWidth: 4,\n            borderLeftColor: getColor(type, theme),\n            borderRadius: 8,\n            padding: 16,\n            paddingVertical: 12,\n            marginHorizontal: 16,\n            maxWidth: 500,\n            width: '90%',\n            ...theme.shadows.large,\n            zIndex: 999,\n        },\n        icon: {\n            fontSize: 20,\n            marginRight: 12,\n            color: getColor(type, theme),\n            fontWeight: 'bold',\n        },\n        message: {\n            flex: 1,\n            ...theme.textVariants.body,\n            color: theme.colors.text,\n            fontSize: 14,\n        },\n    });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/database/claimsDb.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/database/companiesDb.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/database/companySettingsDb.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'setCompanySettings' is defined but never used.","line":3,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":23}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { store } from '../store';\nimport {\n    setCompanySettings,\n    updateCompanySettings as updateCompanySettingsAction,\n    selectCompanySettingsByCompanyId,\n} from '../store/slices/companySettingsSlice';\nimport { CompanySettings } from './schema';\n\nexport const companySettingsDb = {\n    getSettingsByCompany: async (companyId: number): Promise<CompanySettings> => {\n        const state = store.getState();\n        const existing = selectCompanySettingsByCompanyId(state, companyId);\n        if (existing) {\n            return existing;\n        }\n\n        // Return default settings if none exist\n        const now = new Date().toISOString();\n        return {\n            id: Date.now(),\n            companyId,\n            maxPermissionHours: 2,\n            createdAt: now,\n            updatedAt: now,\n        };\n    },\n\n    saveSettings: async (settings: CompanySettings): Promise<void> => {\n        const now = new Date().toISOString();\n        const updatedSettings = {\n            ...settings,\n            updatedAt: now,\n        };\n        store.dispatch(updateCompanySettingsAction(updatedSettings));\n    },\n\n    /**\n     * Helper to get max permission hours directly\n     */\n    getMaxPermissionHours: async (companyId?: number): Promise<number> => {\n        if (!companyId) return 2; // Default\n        const settings = await companySettingsDb.getSettingsByCompany(companyId);\n        return settings.maxPermissionHours;\n    }\n};\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/database/currenciesDb.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/database/departmentsDb.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/database/devicesDb.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/database/employeesDb.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/database/illnessesDb.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/database/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/database/invoicesDb.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/database/leavesDb.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/database/payrollDb.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/database/remoteDb.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/database/schema.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/database/servicesDb.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/database/teamsDb.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/i18n/index.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Platform' is defined but never used.","line":4,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":18}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport { storageService } from '../services/storage';\nimport { Platform } from 'react-native';\n\n// Import translation files\nimport en from './locales/en.json';\nimport fr from './locales/fr.json';\nimport ar from './locales/ar.json';\nimport de from './locales/de.json';\nimport es from './locales/es.json';\nimport zh from './locales/zh.json';\nimport hi from './locales/hi.json';\n\n// Language detector for web and mobile\nconst languageDetector = {\n  type: 'languageDetector' as const,\n  async: true,\n  detect: async (callback: (lang: string) => void) => {\n    try {\n      const savedLanguage = storageService.getString('user-language');\n      if (savedLanguage) {\n        callback(savedLanguage);\n        return;\n      }\n      // Default to English if no saved language\n      callback('en');\n    } catch (error) {\n      console.error('Error detecting language:', error);\n      callback('en');\n    }\n  },\n  init: () => { },\n  cacheUserLanguage: async (language: string) => {\n    try {\n      storageService.setString('user-language', language);\n    } catch (error) {\n      console.error('Error caching language:', error);\n    }\n  },\n};\n\ni18n\n  .use(languageDetector)\n  .use(initReactI18next)\n  .init({\n    resources: {\n      en: { translation: en },\n      fr: { translation: fr },\n      ar: { translation: ar },\n      de: { translation: de },\n      es: { translation: es },\n      zh: { translation: zh },\n      hi: { translation: hi },\n    },\n    fallbackLng: 'en',\n    interpolation: {\n      escapeValue: false, // React already escapes values\n    },\n    react: {\n      useSuspense: false, // Disable suspense for React Native\n    },\n  });\n\nexport default i18n;\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/navigation/AppNavigator.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'index' is defined but never used.","line":542,"column":33,"nodeType":null,"messageId":"unusedVar","endLine":542,"endColumn":38},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'themeMode' is assigned a value but never used.","line":637,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":637,"endColumn":27},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'scrollViewRef' is assigned a value but never used.","line":648,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":648,"endColumn":22},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":820,"column":49,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":820,"endColumn":52,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[29586,29589],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[29586,29589],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1054,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1054,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[39037,39040],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[39037,39040],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1101,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1101,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[39953,39956],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[39953,39956],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1102,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1102,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[39984,39987],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[39984,39987],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":678,"column":87,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":678,"endColumn":90,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[23787,23790],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[23787,23790],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":679,"column":90,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":679,"endColumn":93,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[23881,23884],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[23881,23884],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":800,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":800,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[28910,28913],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[28910,28913],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":7,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useMemo, useRef } from 'react';\nimport {\n  Platform,\n  View,\n  Text,\n  TouchableOpacity,\n  StyleSheet,\n  Image,\n  useWindowDimensions,\n  ScrollView,\n} from 'react-native';\nimport { enableScreens } from 'react-native-screens';\nimport { NavigationContainer, LinkingOptions } from '@react-navigation/native';\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\nimport { createDrawerNavigator, DrawerContentComponentProps } from '@react-navigation/drawer';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { useTranslation } from 'react-i18next';\nimport { useTheme } from '../context/ThemeContext';\nimport { HomeScreen } from '../screens/HomeScreen';\nimport { PayrollListScreen } from '../screens/payroll/PayrollListScreen';\nimport { AddPayrollScreen } from '../screens/payroll/AddPayrollScreen';\nimport { PayrollDetailsScreen } from '../screens/payroll/PayrollDetailsScreen';\nimport { LeaveListScreen } from '../screens/leaves/LeaveListScreen';\nimport { AddLeaveScreen } from '../screens/leaves/AddLeaveScreen';\nimport { LeaveDetailsScreen } from '../screens/leaves/LeaveDetailsScreen';\nimport { LeaveApprovalListScreen } from '../screens/leaves/LeaveApprovalListScreen';\nimport { IllnessListScreen } from '../screens/illnesses/IllnessListScreen';\nimport { AddIllnessScreen } from '../screens/illnesses/AddIllnessScreen';\nimport { IllnessDetailsScreen } from '../screens/illnesses/IllnessDetailsScreen';\nimport { IllnessHistoryScreen } from '../screens/illnesses/IllnessHistoryScreen';\nimport { EmployeeListScreen } from '../screens/employees/EmployeeListScreen';\nimport { AddEmployeeScreen } from '../screens/employees/AddEmployeeScreen';\nimport { EmployeeDetailsScreen } from '../screens/employees/EmployeeDetailsScreen';\nimport { AnalyticsScreen } from '../screens/analytics/AnalyticsScreen';\nimport { ProfileScreen } from '../screens/profile/ProfileScreen';\nimport { ManageCurrenciesScreen } from '../screens/profile/ManageCurrenciesScreen';\nimport { MyTeamScreen } from '../screens/teams/MyTeamScreen';\nimport { LoginScreen } from '../screens/auth/LoginScreen';\nimport { SignUpScreen } from '../screens/auth/SignUpScreen';\nimport { ForgotPasswordScreen } from '../screens/auth/ForgotPasswordScreen';\nimport { RemoteCalendarScreen } from '../screens/remote/RemoteCalendarScreen';\nimport { AddClaimScreen } from '../screens/claims/AddClaimScreen';\nimport { ClaimsListScreen } from '../screens/claims/ClaimsListScreen';\nimport { ClaimDetailsScreen } from '../screens/claims/ClaimDetailsScreen';\nimport { InvoiceListScreen } from '../screens/claims/InvoiceListScreen';\nimport { AddInvoiceScreen } from '../screens/claims/AddInvoiceScreen';\nimport { CompanyListScreen } from '../screens/companies/CompanyListScreen';\nimport { AddCompanyScreen } from '../screens/companies/AddCompanyScreen';\nimport { TeamListScreen } from '../screens/teams/TeamListScreen';\nimport { AddTeamScreen } from '../screens/teams/AddTeamScreen';\nimport { DepartmentListScreen } from '../screens/departments/DepartmentListScreen';\nimport { AddDepartmentScreen } from '../screens/departments/AddDepartmentScreen';\nimport { ServiceListScreen } from '../screens/services/ServiceListScreen';\nimport { AddServiceScreen } from '../screens/services/AddServiceScreen';\nimport { TeamVacationsScreen } from '../screens/teams/TeamVacationsScreen';\nimport { CareerHubScreen } from '../screens/profile/CareerHubScreen';\nimport { PerformanceReviewScreen } from '../screens/analytics/PerformanceReviewScreen';\nimport { OrgChartScreen } from '../screens/companies/OrgChartScreen';\nimport { AnnouncementsScreen } from '../screens/home/AnnouncementsScreen';\nimport { PersonalSettingsScreen } from '../screens/settings/PersonalSettingsScreen';\nimport { CompanySettingsScreen } from '../screens/settings/CompanySettingsScreen';\nimport { CompanyChatScreen } from '../screens/chat/CompanyChatScreen';\nimport { LanguageSelectionScreen } from '../screens/settings/LanguageSelectionScreen';\nimport { CustomThemeColorsScreen } from '../screens/settings/CustomThemeColorsScreen';\nimport { ManageDevicesScreen } from '../screens/settings/ManageDevicesScreen';\nimport { MyDevicesScreen } from '../screens/settings/MyDevicesScreen';\nimport { NotificationBell } from '../components/common/NotificationBell';\nimport { SearchOverlay } from '../components/common/SearchOverlay';\nimport { ChatBot } from '../components/common/ChatBot';\nimport { AuthProvider, useAuth } from '../context/AuthContext';\nimport { GlassHeader } from '../components/common/GlassHeader';\n\nenableScreens();\n\nimport { WebNavigationContext } from './WebNavigationContext';\n\n// ======= Stacks =======\nconst Stack = createNativeStackNavigator();\n\nconst AuthStack = () => {\n  return (\n    <Stack.Navigator screenOptions={{ headerShown: false }}>\n      <Stack.Screen name=\"Login\" component={LoginScreen} />\n      <Stack.Screen name=\"SignUp\" component={SignUpScreen} />\n      <Stack.Screen name=\"ForgotPassword\" component={ForgotPasswordScreen} />\n    </Stack.Navigator>\n  );\n};\n\nconst PayrollStack = () => {\n  const { t } = useTranslation();\n  return (\n    <Stack.Navigator>\n      <Stack.Screen\n        name=\"PayrollList\"\n        component={PayrollListScreen}\n        options={{ title: t('navigation.payroll') }}\n      />\n      <Stack.Screen\n        name=\"AddPayroll\"\n        component={AddPayrollScreen}\n        options={{ title: t('payroll.add') }}\n      />\n      <Stack.Screen\n        name=\"PayrollDetails\"\n        component={PayrollDetailsScreen}\n        options={{ title: t('payroll.details') }}\n      />\n    </Stack.Navigator>\n  );\n};\n\nconst LeavesStack = () => {\n  const { t } = useTranslation();\n  return (\n    <Stack.Navigator>\n      <Stack.Screen\n        name=\"LeaveList\"\n        component={LeaveListScreen}\n        options={{ title: t('navigation.leaves') }}\n      />\n      <Stack.Screen\n        name=\"AddLeave\"\n        component={AddLeaveScreen}\n        options={{ title: t('leaves.add') }}\n      />\n      <Stack.Screen\n        name=\"LeaveApprovalList\"\n        component={LeaveApprovalListScreen}\n        options={{ title: t('leaves.approvals') }}\n      />\n      <Stack.Screen\n        name=\"LeaveDetails\"\n        component={LeaveDetailsScreen}\n        options={{ title: t('leaves.details') }}\n      />\n      <Stack.Screen\n        name=\"TeamVacations\"\n        component={TeamVacationsScreen}\n        options={{ title: t('navigation.teams') }}\n      />\n    </Stack.Navigator>\n  );\n};\n\nconst IllnessesStack = () => {\n  const { t } = useTranslation();\n  return (\n    <Stack.Navigator>\n      <Stack.Screen\n        name=\"IllnessList\"\n        component={IllnessListScreen}\n        options={{ title: t('navigation.illnesses') }}\n      />\n      <Stack.Screen\n        name=\"AddIllness\"\n        component={AddIllnessScreen}\n        options={{ title: t('illnesses.add') }}\n      />\n      <Stack.Screen\n        name=\"IllnessDetails\"\n        component={IllnessDetailsScreen}\n        options={{ title: t('illnesses.details') }}\n      />\n      <Stack.Screen\n        name=\"IllnessHistory\"\n        component={IllnessHistoryScreen}\n        options={{ title: t('common.viewHistory') }}\n      />\n    </Stack.Navigator>\n  );\n};\n\nconst EmployeesStack = () => {\n  const { t } = useTranslation();\n  return (\n    <Stack.Navigator>\n      <Stack.Screen\n        name=\"EmployeeList\"\n        component={EmployeeListScreen}\n        options={{ title: t('navigation.employees') }}\n      />\n      <Stack.Screen\n        name=\"AddEmployee\"\n        component={AddEmployeeScreen}\n        options={{ title: t('employees.add') }}\n      />\n      <Stack.Screen\n        name=\"EmployeeDetails\"\n        component={EmployeeDetailsScreen}\n        options={{ title: t('employees.details') }}\n      />\n    </Stack.Navigator>\n  );\n};\n\nconst AnalyticsStack = () => {\n  const { t } = useTranslation();\n  return (\n    <Stack.Navigator>\n      <Stack.Screen\n        name=\"AnalyticsMain\"\n        component={AnalyticsScreen}\n        options={{ title: t('navigation.analytics') }}\n      />\n      <Stack.Screen\n        name=\"PerformanceReview\"\n        component={PerformanceReviewScreen}\n        options={{ title: t('performance.title') || 'Évaluations' }}\n      />\n    </Stack.Navigator>\n  );\n};\n\n\nconst ClaimsStack = () => {\n  const { t } = useTranslation();\n  return (\n    <Stack.Navigator>\n      <Stack.Screen\n        name=\"ClaimsList\"\n        component={ClaimsListScreen}\n        options={{ title: t('navigation.claims') }}\n      />\n      <Stack.Screen\n        name=\"AddClaim\"\n        component={AddClaimScreen}\n        options={{ title: t('claims.newClaim') }}\n      />\n      <Stack.Screen\n        name=\"ClaimDetails\"\n        component={ClaimDetailsScreen}\n        options={{ title: t('claims.details') }}\n      />\n    </Stack.Navigator>\n  );\n};\n\nconst InvoicesStack = () => {\n  const { t } = useTranslation();\n  return (\n    <Stack.Navigator>\n      <Stack.Screen\n        name=\"InvoiceList\"\n        component={InvoiceListScreen}\n        options={{ title: t('invoices.title') }}\n      />\n      <Stack.Screen\n        name=\"AddInvoice\"\n        component={AddInvoiceScreen}\n        options={{ title: t('invoices.add') }}\n      />\n    </Stack.Navigator>\n  );\n};\n\nconst CompanyStack = () => {\n  const { t } = useTranslation();\n  return (\n    <Stack.Navigator>\n      <Stack.Screen\n        name=\"CompanyList\"\n        component={CompanyListScreen}\n        options={{ title: t('navigation.companies') }}\n      />\n      <Stack.Screen\n        name=\"AddCompany\"\n        component={AddCompanyScreen}\n        options={{ title: t('common.add') + ' ' + t('companies.title') }}\n      />\n      <Stack.Screen\n        name=\"OrgChart\"\n        component={OrgChartScreen}\n        options={{ title: t('navigation.orgChart') }}\n      />\n    </Stack.Navigator>\n  );\n};\n\nconst TeamStack = () => {\n  const { t } = useTranslation();\n  return (\n    <Stack.Navigator>\n      <Stack.Screen\n        name=\"TeamList\"\n        component={TeamListScreen}\n        options={{ title: t('navigation.teams') }}\n      />\n      <Stack.Screen\n        name=\"AddTeam\"\n        component={AddTeamScreen}\n        options={{ title: t('common.add') + ' ' + t('teams.title') }}\n      />\n    </Stack.Navigator>\n  );\n};\n\nconst DepartmentStack = () => {\n  const { t } = useTranslation();\n  return (\n    <Stack.Navigator>\n      <Stack.Screen\n        name=\"DepartmentList\"\n        component={DepartmentListScreen}\n        options={{ title: t('navigation.departments') }}\n      />\n      <Stack.Screen\n        name=\"AddDepartment\"\n        component={AddDepartmentScreen}\n        options={{ title: t('departments.add') }}\n      />\n    </Stack.Navigator>\n  );\n};\n\nconst ServiceStack = () => {\n  const { t } = useTranslation();\n  return (\n    <Stack.Navigator>\n      <Stack.Screen\n        name=\"ServiceList\"\n        component={ServiceListScreen}\n        options={{ title: t('navigation.services') }}\n      />\n      <Stack.Screen\n        name=\"AddService\"\n        component={AddServiceScreen}\n        options={{ title: t('services.add') }}\n      />\n    </Stack.Navigator>\n  );\n};\nconst SettingsStack = () => {\n  const { t } = useTranslation();\n  return (\n    <Stack.Navigator>\n      <Stack.Screen\n        name=\"PersonalSettings\"\n        component={PersonalSettingsScreen}\n        options={{ title: t('settings.personal') }}\n      />\n      <Stack.Screen\n        name=\"CompanySettings\"\n        component={CompanySettingsScreen}\n        options={{ title: t('settings.company') }}\n      />\n      <Stack.Screen\n        name=\"CustomThemeColors\"\n        component={CustomThemeColorsScreen}\n        options={{ title: t('settings.customizeColors') || 'Customize Colors' }}\n      />\n      <Stack.Screen\n        name=\"ManageDevices\"\n        component={ManageDevicesScreen}\n        options={{ title: t('navigation.manageDevices') || 'Manage Devices' }}\n      />\n    </Stack.Navigator>\n  );\n};\n\n\nconst ProfileStack = () => {\n  const { t } = useTranslation();\n  return (\n    <Stack.Navigator screenOptions={{ headerShown: false }}>\n      <Stack.Screen name=\"ProfileMain\" component={ProfileScreen} />\n      <Stack.Screen\n        name=\"CareerHub\"\n        component={CareerHubScreen}\n        options={{ headerShown: true, title: t('navigation.careerHub') }}\n      />\n      <Stack.Screen\n        name=\"ManageCurrencies\"\n        component={ManageCurrenciesScreen}\n        options={{ headerShown: true, title: t('payroll.currency') || 'Currencies' }}\n      />\n      <Stack.Screen\n        name=\"Language\"\n        component={LanguageSelectionScreen}\n        options={{ title: t('profile.language') }}\n      />\n      <Stack.Screen\n        name=\"MyTeam\"\n        component={MyTeamScreen}\n        options={{ headerShown: true, title: t('teams.myTeam') || 'My Team' }}\n      />\n      <Stack.Screen\n        name=\"MyDevices\"\n        component={MyDevicesScreen}\n        options={{ headerShown: true, title: t('devices.myMaterial') || 'My Material' }}\n      />\n    </Stack.Navigator>\n  );\n};\n\nconst HomeStack = () => (\n  <Stack.Navigator screenOptions={{ headerShown: false }}>\n    <Stack.Screen name=\"Home\" component={HomeScreen} />\n    <Stack.Screen\n      name=\"Announcements\"\n      component={AnnouncementsScreen}\n      options={{ headerShown: true, title: 'News' }}\n    />\n    <Stack.Screen\n      name=\"Chat\"\n      component={CompanyChatScreen}\n      options={{ headerShown: false }} // Header is inside screen now\n    />\n  </Stack.Navigator>\n);\n\n// ======= Tabs (Mobile) =======\nconst Tab = createBottomTabNavigator();\n\nconst TabNavigator = () => (\n  <Tab.Navigator screenOptions={{ headerShown: false }}>\n    <Tab.Screen name=\"HomeTab\" component={HomeStack} />\n    <Tab.Screen name=\"PayrollTab\" component={PayrollStack} />\n    <Tab.Screen name=\"LeavesTab\" component={LeavesStack} />\n    <Tab.Screen name=\"ClaimsTab\" component={ClaimsStack} options={{ title: 'Claims' }} />\n    <Tab.Screen name=\"InvoicesTab\" component={InvoicesStack} options={{ title: 'Invoices' }} />\n    <Tab.Screen name=\"ChatTab\" component={CompanyChatScreen} options={{ title: 'Chat' }} />\n  </Tab.Navigator>\n);\n\n// ======= Drawer (Mobile) =======\nconst Drawer = createDrawerNavigator();\n\n// ======= Custom Hook for Sectioned Navigation =======\nconst useNavigationSections = () => {\n  const { t } = useTranslation();\n  const { user } = useAuth();\n\n  return useMemo(() => {\n    const sections = [\n      {\n        title: t('sections.general'),\n        items: [{ key: 'Home', label: t('navigation.home'), icon: '🏠' }]\n      },\n      {\n        title: t('sections.management'),\n        items: [\n          { key: 'Payroll', label: t('navigation.payroll'), icon: '💰' },\n          { key: 'Leaves', label: t('navigation.leaves'), icon: '🏖️' },\n          { key: 'Claims', label: t('navigation.claims'), icon: '📝' },\n          { key: 'Invoices', label: t('invoices.title'), icon: '🧾' },\n          { key: 'Remote', label: t('remote.title'), icon: '📅' },\n          { key: 'Illnesses', label: t('navigation.illnesses'), icon: '🏥' }\n        ]\n      },\n    ];\n\n    const organizationItems = [];\n    if (user?.role !== 'employee') {\n      organizationItems.push({ key: 'Employees', label: t('navigation.employees'), icon: '👥' });\n    }\n    if (user?.role === 'admin') {\n      organizationItems.push({ key: 'Companies', label: t('navigation.companies'), icon: '🏢' });\n      organizationItems.push({ key: 'Teams', label: t('navigation.teams'), icon: '🤝' });\n      organizationItems.push({ key: 'CompanySettings', label: t('settings.company'), icon: '🏢' });\n    }\n\n    if (organizationItems.length > 0) {\n      sections.push({\n        title: t('sections.organization'),\n        items: organizationItems\n      });\n    }\n\n    if (user?.role !== 'employee') {\n      sections.push({\n        title: t('sections.analytics'),\n        items: [\n          { key: 'Analytics', label: t('navigation.analytics'), icon: '📊' }\n        ]\n      });\n    }\n\n    sections.push({\n      title: t('sections.communication'),\n      items: [\n        { key: 'Announcements', label: t('navigation.announcements'), icon: '📢' },\n        { key: 'Chat', label: t('navigation.chat'), icon: '💬' },\n        { key: 'Assistant', label: t('common.assistant') || 'Assistant', icon: '🤖' }\n      ]\n    });\n\n    sections.push({\n      title: t('sections.personal'),\n      items: [\n        { key: 'Profile', label: t('navigation.profile'), icon: '👤' },\n        { key: 'MyTeam', label: t('teams.myTeam'), icon: '👥' },\n        { key: 'Settings', label: t('navigation.settings'), icon: '⚙️' },\n        { key: 'Language', label: t('profile.language'), icon: '🌐' }\n      ]\n    });\n\n    return sections;\n  }, [t, user?.role]);\n};\n\nconst CustomDrawerContent = (props: DrawerContentComponentProps) => {\n  const { user } = useAuth();\n  const { theme, themeMode } = useTheme();\n  const { t } = useTranslation();\n  const { state, navigation } = props;\n  const sections = useNavigationSections();\n  const [collapsedSections, setCollapsedSections] = useState<{ [key: string]: boolean }>({});\n\n  const toggleSection = (title: string) => {\n    setCollapsedSections(prev => ({\n      ...prev,\n      [title]: !prev[title]\n    }));\n  };\n\n  return (\n    <View style={{ flex: 1, backgroundColor: theme.colors.surface }}>\n      <View style={{\n        padding: 24,\n        paddingTop: 60,\n        backgroundColor: theme.colors.primary,\n        borderBottomLeftRadius: 24,\n        borderBottomRightRadius: 24,\n        marginBottom: 12,\n        ...theme.shadows.medium,\n        ...(themeMode === 'premium' && {\n          borderBottomWidth: 1,\n          borderBottomColor: '#FFD700',\n        })\n      }}>\n        <Image\n          source={require('../../public/logo.png')}\n          style={{ width: 60, height: 60, tintColor: themeMode === 'premium' ? theme.colors.background : '#FFF', marginBottom: 16 }}\n          resizeMode=\"contain\"\n        />\n        <Text style={{ color: themeMode === 'premium' ? theme.colors.background : '#FFF', fontSize: 20, fontWeight: 'bold' }}>{user?.name}</Text>\n        <Text style={{ color: themeMode === 'premium' ? 'rgba(11,13,23,0.8)' : 'rgba(255,255,255,0.8)', fontSize: 14 }}>{t(`roles.${user?.role}`)}</Text>\n      </View>\n\n      <ScrollView style={{ flex: 1 }}>\n        {sections.map((section, index) => (\n          <View key={section.title} style={{ marginBottom: 16 }}>\n            <TouchableOpacity\n              onPress={() => toggleSection(section.title)}\n              style={{ flexDirection: 'row', alignItems: 'center', justifyContent: 'space-between', paddingRight: 16 }}\n            >\n              <Text style={{\n                marginLeft: 16,\n                marginTop: 8,\n                marginBottom: 4,\n                color: theme.colors.subText,\n                fontWeight: '600',\n                fontSize: 12,\n                textTransform: 'uppercase'\n              }}>\n                {section.title}\n              </Text>\n              <Text style={{ color: theme.colors.subText, fontSize: 12 }}>\n                {collapsedSections[section.title] ? '▼' : '▲'}\n              </Text>\n            </TouchableOpacity>\n\n            {!collapsedSections[section.title] && section.items.map((item) => {\n              const isFocused = state.routes[state.index].name === item.key;\n              return (\n                <TouchableOpacity\n                  key={item.key}\n                  style={{\n                    flexDirection: 'row',\n                    alignItems: 'center',\n                    padding: 12,\n                    marginHorizontal: 12,\n                    marginVertical: 2,\n                    borderRadius: 12,\n                    backgroundColor: isFocused ? `${theme.colors.primary}15` : 'transparent',\n                    ...(isFocused && themeMode === 'premium' && {\n                      borderWidth: 1,\n                      borderColor: theme.colors.primary,\n                    })\n                  }}\n                  onPress={() => navigation.navigate(item.key)}\n                >\n                  <Text style={{ fontSize: 20, marginRight: 16 }}>{item.icon}</Text>\n                  <Text style={{\n                    fontSize: 14,\n                    fontWeight: isFocused ? '700' : '500',\n                    color: isFocused ? theme.colors.primary : theme.colors.text\n                  }}>\n                    {item.label}\n                  </Text>\n                </TouchableOpacity>\n              );\n            })}\n          </View>\n        ))}\n      </ScrollView>\n    </View>\n  );\n};\n\nconst DrawerNavigator = () => {\n  return (\n    <Drawer.Navigator\n      drawerContent={(props) => <CustomDrawerContent {...props} />}\n      screenOptions={{ headerShown: false }}\n    >\n      <Drawer.Screen name=\"Main\" component={TabNavigator} />\n      <Drawer.Screen name=\"Analytics\" component={AnalyticsStack} />\n      <Drawer.Screen name=\"Illnesses\" component={IllnessesStack} />\n      <Drawer.Screen name=\"Employees\" component={EmployeesStack} />\n      <Drawer.Screen name=\"Companies\" component={CompanyStack} />\n      <Drawer.Screen name=\"Teams\" component={TeamStack} />\n      <Drawer.Screen name=\"Departments\" component={DepartmentStack} />\n      <Drawer.Screen name=\"Services\" component={ServiceStack} />\n      <Drawer.Screen name=\"Remote\" component={RemoteCalendarScreen} />\n      <Drawer.Screen name=\"Claims\" component={ClaimsStack} />\n      <Drawer.Screen name=\"Invoices\" component={InvoicesStack} />\n      <Drawer.Screen name=\"Profile\" component={ProfileStack} />\n      <Drawer.Screen name=\"Settings\" component={SettingsStack} />\n      <Drawer.Screen name=\"Announcements\" component={AnnouncementsScreen} />\n      <Drawer.Screen name=\"Chat\" component={CompanyChatScreen} />\n      {/* Map other screens if needed, ensuring names match keys */}\n      <Drawer.Screen name=\"Home\" component={HomeStack} />\n      <Drawer.Screen name=\"Payroll\" component={PayrollStack} />\n      <Drawer.Screen name=\"Leaves\" component={LeavesStack} />\n      <Drawer.Screen name=\"Assistant\">\n        {() => <ChatBot isScreen={true} />}\n      </Drawer.Screen>\n    </Drawer.Navigator>\n  );\n};\n\n// ======= Web Navigator avec subScreen =======\nconst WebNavigator = () => {\n  const { t } = useTranslation();\n  const { theme, themeMode } = useTheme();\n  const { user } = useAuth();\n  const { width, height } = useWindowDimensions();\n  const isMobile = width < 1045;\n\n  const [activeTab, setActiveTab] = useState('Home');\n  const [subScreen, setSubScreen] = useState('');\n  const [screenParams, setScreenParams] = useState<Record<string, unknown>>({});\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const [isSearchVisible, setIsSearchVisible] = useState(false);\n  const [collapsedSections, setCollapsedSections] = useState<{ [key: string]: boolean }>({});\n  const scrollViewRef = useRef<ScrollView>(null);\n\n  const contextValue = useMemo(\n    () => ({\n      activeTab,\n      subScreen,\n      screenParams,\n      setActiveTab: (tab: string, screen?: string, params?: Record<string, unknown>) => {\n        setActiveTab(tab);\n        setSubScreen(screen || '');\n        setScreenParams(params || {});\n        setIsMenuOpen(false); // Close menu on navigation\n      },\n    }),\n    [activeTab, subScreen, screenParams],\n  );\n\n  const handleSearchSelect = (result: { type: string; id?: string }) => {\n    setIsSearchVisible(false);\n    if (result.type === 'employee') {\n      contextValue.setActiveTab('Employees', 'EmployeeDetails', { id: Number(result.id) });\n    } else if (result.type === 'team') {\n      contextValue.setActiveTab('Teams');\n    } else if (result.type === 'announcement') {\n      setActiveTab('Announcements');\n    }\n  };\n  const getActiveComponent = () => {\n    // Create a mock route object for web screens\n    /* eslint-disable @typescript-eslint/no-explicit-any */\n    const mockRoute = { params: screenParams, key: 'mock-key', name: 'mock-name' } as any;\n    const mockNavigation = { navigate: setActiveTab, goBack: () => setSubScreen('') } as any;\n    /* eslint-enable @typescript-eslint/no-explicit-any */\n\n    switch (activeTab) {\n      case 'Home':\n        return <HomeStack />;\n      case 'Payroll':\n        if (subScreen === 'AddPayroll')\n          return <AddPayrollScreen route={mockRoute} navigation={mockNavigation} />;\n        if (subScreen === 'PayrollDetails')\n          return <PayrollDetailsScreen route={mockRoute} navigation={mockNavigation} />;\n        return <PayrollStack />;\n      case 'Leaves':\n        if (subScreen === 'AddLeave')\n          return <AddLeaveScreen route={mockRoute} navigation={mockNavigation} />;\n        if (subScreen === 'LeaveDetails')\n          return <LeaveDetailsScreen route={mockRoute} navigation={mockNavigation} />;\n        if (subScreen === 'LeaveApprovalList')\n          return <LeaveApprovalListScreen />;\n        if (subScreen === 'TeamVacations')\n          return <TeamVacationsScreen />;\n        return <LeavesStack />;\n      case 'Remote':\n        return <RemoteCalendarScreen />;\n      case 'Analytics':\n        if (subScreen === 'PerformanceReview')\n          return <PerformanceReviewScreen />;\n        return <AnalyticsStack />;\n      case 'Illnesses':\n        if (subScreen === 'AddIllness')\n          return <AddIllnessScreen route={mockRoute} navigation={mockNavigation} />;\n        if (subScreen === 'IllnessDetails')\n          return <IllnessDetailsScreen route={mockRoute} navigation={mockNavigation} />;\n        if (subScreen === 'IllnessHistory')\n          return <IllnessHistoryScreen route={mockRoute} navigation={mockNavigation} />;\n        return <IllnessesStack />;\n      case 'Employees':\n        if (subScreen === 'AddEmployee')\n          return <AddEmployeeScreen route={mockRoute} navigation={mockNavigation} />;\n        if (subScreen === 'EmployeeDetails')\n          return <EmployeeDetailsScreen route={mockRoute} navigation={mockNavigation} />;\n        return <EmployeesStack />;\n      case 'Claims':\n        if (subScreen === 'AddClaim') return <AddClaimScreen route={mockRoute} navigation={mockNavigation} />;\n        if (subScreen === 'ClaimDetails') return <ClaimDetailsScreen route={mockRoute} navigation={mockNavigation} />;\n        return <ClaimsStack />;\n      case 'Invoices':\n        if (subScreen === 'AddInvoice') return <AddInvoiceScreen route={mockRoute} navigation={mockNavigation} />;\n        return <InvoicesStack />;\n      case 'Companies':\n        if (subScreen === 'AddCompany')\n          return <AddCompanyScreen route={mockRoute} navigation={mockNavigation} />;\n        if (subScreen === 'OrgChart')\n          return <OrgChartScreen />;\n        return <CompanyStack />;\n      case 'Teams':\n        if (subScreen === 'AddTeam')\n          return <AddTeamScreen route={mockRoute} navigation={mockNavigation} />;\n        return <TeamListScreen />;\n      case 'Departments':\n        if (subScreen === 'AddDepartment')\n          return <AddDepartmentScreen route={mockRoute} navigation={mockNavigation} />;\n        return <DepartmentListScreen />;\n      case 'Services':\n        if (subScreen === 'AddService')\n          return <AddServiceScreen route={mockRoute} navigation={mockNavigation} />;\n        return <ServiceListScreen />;\n      case 'Announcements':\n        return <AnnouncementsScreen />;\n      case 'Chat':\n        return <CompanyChatScreen />;\n      case 'Assistant':\n        return <ChatBot isScreen={true} />;\n      case 'Language':\n        return <LanguageSelectionScreen />;\n      case 'CustomThemeColors':\n        return <CustomThemeColorsScreen />;\n      case 'Settings':\n        return <PersonalSettingsScreen />;\n      case 'CompanySettings':\n        if (subScreen === 'ManageDevices')\n          return <ManageDevicesScreen />;\n        if (subScreen === 'CustomThemeColors')\n          return <CustomThemeColorsScreen />;\n        if (subScreen === 'Departments')\n          return <DepartmentStack />;\n        if (subScreen === 'Services')\n          return <ServiceStack />;\n        if (subScreen === 'ManageCurrencies')\n          return <ManageCurrenciesScreen />;\n        return <CompanySettingsScreen />;\n      case 'MyTeam':\n        return <MyTeamScreen />;\n      case 'Profile':\n        if (subScreen === 'CareerHub')\n          return <CareerHubScreen />;\n        if (subScreen === 'ManageCurrencies')\n          return <ManageCurrenciesScreen />;\n        if (subScreen === 'MyTeam')\n          return <MyTeamScreen />;\n        if (subScreen === 'MyDevices')\n          return <MyDevicesScreen />;\n        return <ProfileStack />;\n      default:\n        return <HomeStack />;\n    }\n  };\n\n  const sections = useNavigationSections();\n\n  return (\n    <WebNavigationContext.Provider value={contextValue}>\n      {/* eslint-disable @typescript-eslint/no-explicit-any */}\n      <View style={[\n        {\n          flex: 1,\n          backgroundColor: theme.colors.background,\n          minHeight: Platform.OS === 'web' ? '100vh' : '100%',\n          width: '100%',\n        },\n        !isMobile ? { flexDirection: 'row' } : { flexDirection: 'column' }\n      ] as any}>\n        {/* eslint-enable @typescript-eslint/no-explicit-any */}\n\n        {/* Desktop Sidebar OR Mobile Header */}\n        {!isMobile ? (\n          <View style={[\n            webStyles.sidebar,\n            {\n              backgroundColor: theme.colors.surface,\n              borderRightColor: theme.colors.border,\n              borderRightWidth: 1,\n            }\n          ]}>\n            {/* Brand */}\n            <TouchableOpacity\n              style={webStyles.sidebarBrand}\n              onPress={() => setActiveTab('Home')}\n            >\n              <Image\n                source={require('../../public/logo.png')}\n                style={webStyles.sidebarLogo as any}\n                resizeMode=\"contain\"\n              />\n              <Text style={[webStyles.sidebarTitle, { color: theme.colors.text }]}>\n                {t('home.appName')}\n              </Text>\n            </TouchableOpacity>\n\n            <View style={{ padding: 16, gap: 12 }}>\n              <TouchableOpacity\n                style={[webStyles.sidebarNavItem, { backgroundColor: `${theme.colors.primary}10` }]}\n                onPress={() => setIsSearchVisible(true)}\n              >\n                <Text style={webStyles.navIcon}>🔍</Text>\n                <Text style={[webStyles.navLabel, { color: theme.colors.primary }]}>{t('common.search')}</Text>\n              </TouchableOpacity>\n              <NotificationBell />\n            </View>\n\n            {/* Profile Section */}\n            <View style={webStyles.sidebarProfile}>\n              <View style={[webStyles.profileAvatar, { backgroundColor: theme.colors.primary }]}>\n                <Text style={webStyles.avatarText}>{user?.name?.charAt(0)}</Text>\n              </View>\n              <View style={webStyles.profileInfo}>\n                <Text style={[webStyles.profileName, { color: theme.colors.text }]}>{user?.name}</Text>\n                <Text style={[webStyles.profileRole, { color: theme.colors.subText }]}>{t(`roles.${user?.role}`)}</Text>\n              </View>\n            </View>\n\n            {/* Nav Items with Sections */}\n            <ScrollView style={webStyles.sidebarNav}>\n              {sections.map(section => (\n                <View key={section.title} style={{ marginBottom: 12 }}>\n                  <TouchableOpacity\n                    onPress={() => {\n                      setCollapsedSections(prev => ({\n                        ...prev,\n                        [section.title]: !prev[section.title]\n                      }));\n                    }}\n                    style={{ flexDirection: 'row', alignItems: 'center', justifyContent: 'space-between', paddingRight: 24 }}\n                  >\n                    <Text style={{\n                      paddingLeft: 24,\n                      marginBottom: 8,\n                      marginTop: 8,\n                      color: theme.colors.subText,\n                      fontSize: 12,\n                      fontWeight: 'bold',\n                      textTransform: 'uppercase'\n                    }}>\n                      {section.title}\n                    </Text>\n                    <Text style={{ color: theme.colors.subText, fontSize: 12 }}>\n                      {collapsedSections[section.title] ? '▼' : '▲'}\n                    </Text>\n                  </TouchableOpacity>\n                  {!collapsedSections[section.title] && section.items.map((item) => (\n                    <TouchableOpacity\n                      key={item.key}\n                      onPress={() => setActiveTab(item.key)}\n                      style={[\n                        webStyles.sidebarNavItem,\n                        activeTab === item.key && {\n                          backgroundColor: `${theme.colors.primary}10`,\n                          borderRightWidth: 3,\n                          borderRightColor: theme.colors.primary,\n                        }\n                      ]}\n                    >\n                      <Text style={webStyles.navIcon}>{item.icon}</Text>\n                      <Text style={[\n                        webStyles.navLabel,\n                        {\n                          color: activeTab === item.key ? theme.colors.primary : theme.colors.text,\n                          fontWeight: activeTab === item.key ? 'bold' : 'normal'\n                        }\n                      ]}>\n                        {item.label}\n                      </Text>\n                    </TouchableOpacity>\n                  ))}\n                </View>\n              ))}\n            </ScrollView>\n          </View>\n        ) : (\n          /* Mobile Header */\n          <GlassHeader\n            title={activeTab !== 'Home' ? t(`navigation.${activeTab.toLowerCase()}`) : undefined}\n            onMenuPress={() => setIsMenuOpen(true)}\n            onSearchPress={() => setIsSearchVisible(true)}\n          />\n        )}\n\n        {/* Main Content Area */}\n        <View style={{ flex: 1 }}>\n          {/* Back button for sub-screens (Internal) */}\n          {subScreen && (\n            <View style={[webStyles.subHeader, { backgroundColor: theme.colors.surface, borderBottomWidth: 1, borderBottomColor: theme.colors.border }]}>\n              <TouchableOpacity\n                style={webStyles.backButton}\n                onPress={() => setSubScreen('')}\n              >\n                <Text style={[webStyles.backButtonText, { color: theme.colors.primary }]}>\n                  ← {t('common.back')}\n                </Text>\n              </TouchableOpacity>\n            </View>\n          )}\n\n          <View\n            style={{ flex: 1, padding: isMobile ? 12 : 32 }}\n          >\n            {getActiveComponent()}\n          </View>\n        </View>\n\n        {/* Mobile Menu Overlay */}\n        {isMobile && isMenuOpen && (\n          <View\n            style={[\n              webStyles.mobileMenuOverlay,\n              { backgroundColor: 'rgba(0,0,0,0.5)', zIndex: 1000 },\n            ]}\n          >\n            <View\n              style={[\n                webStyles.mobileMenu,\n                {\n                  backgroundColor: theme.colors.surface,\n                  borderRightWidth: 1,\n                  borderRightColor: theme.colors.border,\n                  height: height,\n                },\n              ]}\n            >\n              <TouchableOpacity\n                style={webStyles.closeButton}\n                onPress={() => setIsMenuOpen(false)}\n              >\n                <Text\n                  style={[\n                    webStyles.closeButtonText,\n                    { color: theme.colors.text },\n                  ]}\n                >\n                  ✕\n                </Text>\n              </TouchableOpacity>\n\n              <View style={{ marginBottom: 20, alignItems: 'center' }}>\n                <Image\n                  source={require('../../public/logo.png')}\n                  style={{ width: 50, height: 50, marginBottom: 10 }}\n                  resizeMode=\"contain\"\n                />\n                <Text style={{ fontWeight: 'bold', fontSize: 18 }}>{user?.name}</Text>\n              </View>\n\n              <ScrollView style={{ flex: 1 }}>\n                {sections.map(section => (\n                  <View key={section.title} style={{ marginBottom: 16 }}>\n                    <TouchableOpacity\n                      onPress={() => {\n                        setCollapsedSections(prev => ({\n                          ...prev,\n                          [section.title]: !prev[section.title]\n                        }));\n                      }}\n                      style={{ flexDirection: 'row', alignItems: 'center', justifyContent: 'space-between', paddingRight: 10 }}\n                    >\n                      <Text style={{\n                        paddingLeft: 10,\n                        marginBottom: 8,\n                        marginTop: 8,\n                        color: theme.colors.subText,\n                        fontSize: 12,\n                        fontWeight: 'bold',\n                        textTransform: 'uppercase'\n                      }}>\n                        {section.title}\n                      </Text>\n                      <Text style={{ color: theme.colors.subText, fontSize: 12, marginRight: 10 }}>\n                        {collapsedSections[section.title] ? '▼' : '▲'}\n                      </Text>\n                    </TouchableOpacity>\n                    {!collapsedSections[section.title] && section.items.map((item) => (\n                      <TouchableOpacity\n                        key={item.key}\n                        onPress={() => {\n                          setActiveTab(item.key);\n                          setIsMenuOpen(false);\n                        }}\n                        style={[\n                          webStyles.mobileMenuItem,\n                          activeTab === item.key && {\n                            backgroundColor: `${theme.colors.primary}10`,\n                            borderRadius: 8,\n                            paddingLeft: 10,\n                          }\n                        ]}\n                      >\n                        <View style={{ flexDirection: 'row', alignItems: 'center', gap: 12 }}>\n                          <Text style={{ fontSize: 20 }}>{item.icon}</Text>\n                          <Text style={{\n                            fontSize: 16,\n                            color: activeTab === item.key ? theme.colors.primary : theme.colors.text,\n                            fontWeight: activeTab === item.key ? 'bold' : 'normal'\n                          }}>\n                            {item.label}\n                          </Text>\n                        </View>\n                      </TouchableOpacity>\n                    ))}\n                  </View>\n                ))}\n              </ScrollView>\n            </View>\n          </View>\n        )}\n      </View>\n      <SearchOverlay\n        visible={isSearchVisible}\n        onClose={() => setIsSearchVisible(false)}\n        onSelect={handleSearchSelect}\n      />\n    </WebNavigationContext.Provider>\n  );\n};\n\n// ======= Root Export =======\nexport const AppNavigator = () => {\n  const linking: LinkingOptions<any> = {\n    prefixes: [\n      'http://localhost:8080',\n      'rhmanagement://',\n      'https://bkmed.github.io/RhManagement/',\n    ],\n    config: { screens: {} },\n  };\n\n  return (\n    <AuthProvider>\n      <NavigationContainer linking={linking}>\n        <AppContent />\n      </NavigationContainer>\n    </AuthProvider>\n  );\n};\n\nconst AppContent = () => {\n  const { t } = useTranslation();\n  const { user, isLoading } = useAuth();\n\n  if (isLoading) {\n    return (\n      <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\n        <Text>{t('common.loading')}</Text>\n      </View>\n    );\n  }\n\n  return (\n    <>\n      {!user ? (\n        <AuthStack />\n      ) : Platform.OS === 'web' ? (\n        <WebNavigator />\n      ) : (\n        <DrawerNavigator />\n      )}\n    </>\n  );\n};\n\n// ======= Web Styles =======\nconst webStyles = StyleSheet.create({\n  sidebar: {\n    width: 260,\n    height: '100vh' as any,\n    position: 'sticky' as any,\n    top: 0,\n    paddingVertical: 24,\n    ...Platform.select({\n      web: {\n        boxShadow: '4px 0 10px rgba(0,0,0,0.05)',\n      }\n    })\n  },\n  sidebarBrand: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 24,\n    marginBottom: 40,\n    gap: 12,\n  },\n  sidebarLogo: {\n    width: 40,\n    height: 40,\n  },\n  sidebarTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n  },\n  sidebarProfile: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 20,\n    marginBottom: 32,\n    gap: 12,\n  },\n  profileAvatar: {\n    width: 44,\n    height: 44,\n    borderRadius: 22,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  avatarText: {\n    color: '#FFF',\n    fontSize: 18,\n    fontWeight: 'bold',\n  },\n  profileInfo: {\n    flex: 1,\n  },\n  profileName: {\n    fontSize: 15,\n    fontWeight: '700',\n  },\n  profileRole: {\n    fontSize: 12,\n  },\n  sidebarNav: {\n    flex: 1,\n  },\n  sidebarNavItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingVertical: 14,\n    paddingHorizontal: 24,\n    marginBottom: 4,\n    gap: 16,\n  },\n  navIcon: {\n    fontSize: 20,\n  },\n  navLabel: {\n    fontSize: 15,\n  },\n  mobileHeader: {\n    height: 64,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingHorizontal: 20,\n    zIndex: 100,\n  },\n  subHeader: {\n    height: 56,\n    paddingHorizontal: 24,\n    justifyContent: 'center',\n  },\n  brandContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  logo: {\n    width: 32,\n    height: 32,\n  },\n  hamburgerButton: {\n    padding: 8,\n  },\n  hamburgerText: {\n    fontSize: 24,\n  },\n  backButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  backButtonText: {\n    fontSize: 15,\n    fontWeight: '600',\n  },\n  mobileMenuOverlay: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n  },\n  mobileMenu: {\n    width: 280,\n    padding: 24,\n  },\n  closeButton: {\n    alignSelf: 'flex-end',\n    padding: 10,\n    marginBottom: 10,\n  },\n  closeButtonText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n  },\n  mobileMenuItem: {\n    paddingVertical: 12,\n    paddingHorizontal: 16,\n    marginVertical: 4,\n  },\n  mobileMenuItemText: {\n    fontSize: 17,\n  },\n});\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/navigation/WebNavigationContext.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'React' is defined but never used.","line":1,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":1,"endColumn":13},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":6,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[165,168],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[165,168],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'tab' is defined but never used.","line":7,"column":20,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":23},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'subScreen' is defined but never used.","line":7,"column":33,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":42},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'params' is defined but never used.","line":7,"column":53,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":59},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":7,"column":62,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":65,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[231,234],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[231,234],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { createContext } from 'react';\n\nexport const WebNavigationContext = createContext({\n    activeTab: 'Home',\n    subScreen: '',\n    screenParams: {} as any,\n    setActiveTab: (tab: string, subScreen?: string, params?: any) => { },\n});\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/HomeScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":44,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":44,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1377,1380],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1377,1380],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":77,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":77,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2349,2352],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2349,2352],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":101,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":101,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3290,3293],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3290,3293],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":199,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":199,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6969,6972],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6969,6972],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":226,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":226,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7744,7747],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7744,7747],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":395,"column":62,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":395,"endColumn":65,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[14004,14007],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[14004,14007],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":408,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":408,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[14405,14408],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[14405,14408],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":627,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":627,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[20928,20931],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[20928,20931],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":679,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":679,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[22025,22028],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[22025,22028],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":589,"column":81,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":589,"endColumn":84,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[19931,19934],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[19931,19934],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":591,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":591,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[20021,20024],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[20021,20024],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":9,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useMemo, useContext, useCallback } from 'react';\nimport { useAuth, User } from '../context/AuthContext';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  ScrollView,\n  TouchableOpacity,\n  ActivityIndicator,\n  Platform,\n} from 'react-native';\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\nimport { useTranslation } from 'react-i18next';\nimport { NativeStackNavigationProp } from '@react-navigation/native-stack';\nimport { payrollDb } from '../database/payrollDb';\nimport { leavesDb } from '../database/leavesDb';\nimport { illnessesDb } from '../database/illnessesDb';\nimport { employeesDb } from '../database/employeesDb';\nimport { claimsDb } from '../database/claimsDb';\nimport { permissionsService } from '../services/permissions';\nimport { useTheme } from '../context/ThemeContext';\nimport { Theme } from '../theme';\nimport { formatDate } from '../utils/dateUtils';\nimport { WebNavigationContext } from '../navigation/WebNavigationContext';\n\n// ======= Helper Components =======\n\ninterface HomeSummary {\n  payroll: number;\n  upcomingLeaves: number;\n  expiringIllness: number;\n  totalEmployees: number;\n  pendingLeaves: number;\n  pendingClaims: number;\n  totalPayroll: number;\n}\n\ninterface StatCardProps {\n  title: string;\n  value: string | number;\n  icon: string;\n  color: string;\n  onPress: () => void;\n  styles: Record<string, any>;\n}\n\nconst StatCard = ({ title, value, icon, color, onPress, styles }: StatCardProps) => {\n  const { theme } = useTheme();\n  return (\n    <TouchableOpacity\n      style={[\n        styles.statCard,\n        {\n          backgroundColor: Platform.OS === 'web' ? 'rgba(255, 255, 255, 0.7)' : theme.colors.surface + 'E6',\n          borderColor: color + '40',\n        }\n      ]}\n      onPress={onPress}\n    >\n      <View style={[styles.statIconWrapper, { backgroundColor: color + '15' }]}>\n        <Text style={[styles.statIcon, { color: color }]}>{icon}</Text>\n      </View>\n      <View style={styles.statInfo}>\n        <Text style={[styles.statNumber, { color: theme.colors.text }]}>{value}</Text>\n        <Text style={[styles.statLabel, { color: theme.colors.subText }]}>{title}</Text>\n      </View>\n    </TouchableOpacity>\n  );\n};\n\ninterface ActivityItemProps {\n  icon: string;\n  title: string;\n  subtitle: string;\n  time: string;\n  theme: Theme;\n  styles: Record<string, any>;\n}\n\nconst ActivityItem = ({ icon, title, subtitle, time, theme, styles }: ActivityItemProps) => {\n  return (\n    <View style={[styles.activityItem, { borderBottomColor: theme.colors.border }]}>\n      <View style={[styles.activityIconWrapper, { backgroundColor: theme.colors.primary + '15' }]}>\n        <Text style={styles.activityIcon}>{icon}</Text>\n      </View>\n      <View style={styles.activityContent}>\n        <Text style={[styles.activityTitle, { color: theme.colors.text }]}>{title}</Text>\n        <Text style={[styles.activitySubtitle, { color: theme.colors.subText }]}>{subtitle}</Text>\n        <Text style={[styles.activityTime, { color: theme.colors.subText }]}>{time}</Text>\n      </View>\n    </View>\n  );\n};\n\n// ======= Role Dashboards =======\n\ninterface AdminDashboardProps {\n  summary: HomeSummary;\n  recentActivity: ActivityItemProps[];\n  navigateToTab: (tab: string, screen?: string) => void;\n  styles: Record<string, any>;\n  theme: Theme;\n}\n\nconst AdminDashboard = ({ summary, recentActivity, navigateToTab, styles, theme }: AdminDashboardProps) => {\n  const { t } = useTranslation();\n  const { user } = useAuth();\n\n  return (\n    <View style={styles.dashboardContainer}>\n      <View style={[styles.welcomeSection, { backgroundColor: theme.colors.primary }]}>\n        <View>\n          <Text style={styles.welcomeTitle}>{t('home.greeting')}, {user?.name}! 👋</Text>\n          <Text style={styles.welcomeSubtitle}>{t('home.manageCareer')}</Text>\n        </View>\n        <Text style={{ fontSize: 44 }}>🏢</Text>\n      </View>\n\n      <View style={styles.statsContainer}>\n        <StatCard\n          title={t('navigation.employees')}\n          value={summary.totalEmployees}\n          icon=\"👥\"\n          color={theme.colors.primary}\n          onPress={() => navigateToTab('Employees')}\n          styles={styles}\n        />\n        <StatCard\n          title={t('leaves.approvals')}\n          value={summary.pendingLeaves}\n          icon=\"⏳\"\n          color={theme.colors.warning}\n          onPress={() => navigateToTab('Leaves', 'LeaveApprovalList')}\n          styles={styles}\n        />\n      </View>\n      <View style={styles.statsContainer}>\n        <StatCard\n          title={t('navigation.claims')}\n          value={summary.pendingClaims}\n          icon=\"📝\"\n          color={theme.colors.secondary}\n          onPress={() => navigateToTab('Claims')}\n          styles={styles}\n        />\n        <StatCard\n          title={t('navigation.payroll')}\n          value={summary.totalPayroll}\n          icon=\"💰\"\n          color={theme.colors.success}\n          onPress={() => navigateToTab('Payroll')}\n          styles={styles}\n        />\n      </View>\n\n      <Text style={styles.sectionTitle}>{t('home.quickActions')}</Text>\n      <View style={styles.actionGrid}>\n        <TouchableOpacity\n          style={styles.actionButton}\n          onPress={() => navigateToTab('Employees', 'AddEmployee')}\n        >\n          <View style={[styles.actionIconWrapper, { backgroundColor: theme.colors.primary + '15' }]}>\n            <Text style={styles.actionIcon}>➕</Text>\n          </View>\n          <Text style={styles.actionLabel}>{t('employees.add')}</Text>\n        </TouchableOpacity>\n        <TouchableOpacity\n          style={styles.actionButton}\n          onPress={() => navigateToTab('Companies')}\n        >\n          <View style={[styles.actionIconWrapper, { backgroundColor: theme.colors.secondary + '15' }]}>\n            <Text style={styles.actionIcon}>🏢</Text>\n          </View>\n          <Text style={styles.actionLabel}>{t('home.companies')}</Text>\n        </TouchableOpacity>\n        <TouchableOpacity\n          style={styles.actionButton}\n          onPress={() => navigateToTab('Teams')}\n        >\n          <View style={[styles.actionIconWrapper, { backgroundColor: theme.colors.success + '15' }]}>\n            <Text style={styles.actionIcon}>🚀</Text>\n          </View>\n          <Text style={styles.actionLabel}>{t('home.teams')}</Text>\n        </TouchableOpacity>\n        <TouchableOpacity\n          style={styles.actionButton}\n          onPress={() => navigateToTab('Leaves', 'TeamVacations')}\n        >\n          <View style={[styles.actionIconWrapper, { backgroundColor: theme.colors.accent + '15' }]}>\n            <Text style={styles.actionIcon}>🏖️</Text>\n          </View>\n          <Text style={styles.actionLabel}>{t('navigation.leaves')}</Text>\n        </TouchableOpacity>\n      </View>\n\n      <Text style={styles.sectionTitle}>{t('home.recentActivity')}</Text>\n      <View style={styles.activityCard}>\n        {recentActivity.length > 0 ? (\n          recentActivity.map((activity: any, index: number) => (\n            <ActivityItem\n              key={index}\n              icon={activity.icon}\n              title={activity.title}\n              subtitle={activity.subtitle}\n              time={formatDate(activity.date)}\n              theme={theme}\n              styles={styles}\n            />\n          ))\n        ) : (\n          <View style={styles.emptyState}>\n            <Text style={styles.emptyText}>{t('home.noRecentActivity')}</Text>\n          </View>\n        )}\n      </View>\n    </View>\n  );\n};\n\ninterface EmployeeDashboardProps {\n  user: User | null;\n  summary: HomeSummary;\n  navigateToTab: (tab: string, screen?: string) => void;\n  hasNotificationPermission: boolean;\n  handleEnableNotifications: () => Promise<void>;\n  styles: Record<string, any>;\n  theme: Theme;\n}\n\nconst EmployeeDashboard = ({\n  user,\n  summary,\n  navigateToTab,\n  hasNotificationPermission,\n  handleEnableNotifications,\n  styles,\n  theme,\n}: EmployeeDashboardProps) => {\n  const { t } = useTranslation();\n\n  return (\n    <View style={styles.dashboardContainer}>\n      <View style={styles.statsContainer}>\n        <StatCard\n          title={t('home.activePayroll')}\n          value={summary.payroll}\n          icon=\"💰\"\n          color={theme.colors.primary}\n          onPress={() => navigateToTab('Payroll')}\n          styles={styles}\n        />\n        <StatCard\n          title={t('home.upcomingLeaves')}\n          value={summary.upcomingLeaves}\n          icon=\"📅\"\n          color={theme.colors.success}\n          onPress={() => navigateToTab('Leaves')}\n          styles={styles}\n        />\n      </View>\n\n      <View style={styles.balanceCard}>\n        <View style={styles.balanceHeader}>\n          <Text style={styles.balanceTitle}>{t('leavePolicy.title')}</Text>\n          <View style={[styles.managedBadge, { backgroundColor: theme.colors.primary + '15' }]}>\n            <Text style={[styles.balanceManaged, { color: theme.colors.primary }]}>\n              {t('leavePolicy.managedBy')}\n            </Text>\n          </View>\n        </View>\n\n        <View style={styles.balanceGrid}>\n          <View style={styles.balanceItem}>\n            <Text style={styles.balanceLabel}>{t('leavePolicy.perYear')}</Text>\n            <Text style={styles.balanceValue}>\n              {user?.vacationDaysPerYear || 25}\n            </Text>\n          </View>\n          <View style={[styles.balanceDivider, { backgroundColor: theme.colors.border }]} />\n          <View style={styles.balanceItem}>\n            <Text style={styles.balanceLabel}>{t('leavePolicy.remaining')}</Text>\n            <Text style={[styles.balanceValue, { color: theme.colors.primary }]}>\n              {user?.remainingVacationDays ?? 25}\n            </Text>\n          </View>\n          <View style={[styles.balanceDivider, { backgroundColor: theme.colors.border }]} />\n          <View style={styles.balanceItem}>\n            <Text style={styles.balanceLabel}>{t('home.statePaidLeaves')}</Text>\n            <Text style={styles.balanceValue}>\n              {user?.statePaidLeaves || 0}\n            </Text>\n          </View>\n        </View>\n\n        {user?.hiringDate && (\n          <View style={styles.senioritySection}>\n            <View style={styles.seniorityRow}>\n              <View style={styles.seniorityItem}>\n                <Text style={styles.countryLabel}>{t('home.hiringDate')}</Text>\n                <Text style={styles.countryValue}>\n                  {formatDate(user.hiringDate)}\n                </Text>\n              </View>\n              <View style={[styles.seniorityItem, { alignItems: 'flex-end' }]}>\n                <Text style={styles.countryLabel}>{t('home.seniority')}</Text>\n                <Text style={styles.countryValue}>\n                  {(() => {\n                    const start = new Date(user.hiringDate);\n                    const now = new Date();\n                    let years = now.getFullYear() - start.getFullYear();\n                    let months = now.getMonth() - start.getMonth();\n                    if (months < 0) {\n                      years--;\n                      months += 12;\n                    }\n                    const parts = [];\n                    if (years > 0)\n                      parts.push(\n                        `${years} ${years > 1\n                          ? t('common.yearsUnit')\n                          : t('common.yearUnit')\n                        }`,\n                      );\n                    if (months > 0)\n                      parts.push(\n                        `${months} ${months > 1\n                          ? t('common.monthsUnit')\n                          : t('common.monthUnit')\n                        }`,\n                      );\n                    return parts.join(', ') || `0 ${t('common.monthUnit')}`;\n                  })()}\n                </Text>\n              </View>\n            </View>\n          </View>\n        )}\n      </View>\n\n      <Text style={styles.sectionTitle}>{t('home.quickActions')}</Text>\n      <View style={styles.quickActions}>\n        <TouchableOpacity\n          style={styles.quickActionItem}\n          onPress={() => navigateToTab('Claims', 'AddClaim')}\n        >\n          <View style={[styles.quickActionIcon, { backgroundColor: theme.colors.secondary + '15' }]}>\n            <Text style={{ fontSize: 20 }}>📝</Text>\n          </View>\n          <Text style={styles.quickActionText}>{t('claims.newClaim')}</Text>\n          <Text style={{ color: theme.colors.subText }}>›</Text>\n        </TouchableOpacity>\n\n        <TouchableOpacity\n          style={styles.quickActionItem}\n          onPress={() => navigateToTab('Leaves', 'AddLeave')}\n        >\n          <View style={[styles.quickActionIcon, { backgroundColor: theme.colors.success + '15' }]}>\n            <Text style={{ fontSize: 20 }}>📅</Text>\n          </View>\n          <Text style={styles.quickActionText}>{t('home.scheduleLeave')}</Text>\n          <Text style={{ color: theme.colors.subText }}>›</Text>\n        </TouchableOpacity>\n\n        <TouchableOpacity\n          style={styles.quickActionItem}\n          onPress={() => navigateToTab('Profile', 'CareerHub')}\n        >\n          <View style={[styles.quickActionIcon, { backgroundColor: theme.colors.primary + '15' }]}>\n            <Text style={{ fontSize: 20 }}>🚀</Text>\n          </View>\n          <Text style={styles.quickActionText}>{t('navigation.careerHub')}</Text>\n          <Text style={{ color: theme.colors.subText }}>›</Text>\n        </TouchableOpacity>\n      </View>\n\n      {!hasNotificationPermission && (\n        <TouchableOpacity\n          style={styles.tipCard}\n          onPress={handleEnableNotifications}\n        >\n          <Text style={styles.tipIcon}>💡</Text>\n          <Text style={styles.tipText}>{t('home.tip')}</Text>\n        </TouchableOpacity>\n      )}\n    </View>\n  );\n};\n\n// ======= Main HomeScreen =======\n\nexport const HomeScreen = () => {\n  const { user } = useAuth();\n  const { theme } = useTheme();\n  const { t } = useTranslation();\n  const navigation = useNavigation<NativeStackNavigationProp<any>>();\n  const { setActiveTab } = useContext(WebNavigationContext);\n  const styles = useMemo(() => createStyles(theme), [theme]);\n\n  const [summary, setSummary] = useState<HomeSummary>({\n    payroll: 0,\n    upcomingLeaves: 0,\n    expiringIllness: 0,\n    totalEmployees: 0,\n    pendingLeaves: 0,\n    pendingClaims: 0,\n    totalPayroll: 0,\n  });\n  const [recentActivity, setRecentActivity] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [hasNotificationPermission, setHasNotificationPermission] =\n    useState(true);\n\n  const loadData = async () => {\n    try {\n      if (user?.role === 'admin' || user?.role === 'rh') {\n        const [employees, allLeaves, allClaims, allPayroll] = await Promise.all([\n          employeesDb.getAll(),\n          leavesDb.getAll(),\n          claimsDb.getAll(),\n          payrollDb.getAll(),\n        ]);\n\n        const pendingLeaves = allLeaves.filter(l => l.status === 'pending');\n        const pendingClaims = allClaims.filter(c => c.status === 'pending');\n\n        setSummary(prev => ({\n          ...prev,\n          totalEmployees: employees.length,\n          pendingLeaves: pendingLeaves.length,\n          pendingClaims: pendingClaims.length,\n          totalPayroll: allPayroll.length,\n        }));\n\n        const activity = [\n          ...pendingLeaves.map(l => ({\n            icon: '📅',\n            title: `${t('leaves.approvals')}: ${l.employeeName || t('common.unknown')}`,\n            subtitle: l.title,\n            date: l.createdAt,\n          })),\n          ...pendingClaims.map(c => ({\n            icon: '📝',\n            title: t('claims.newClaim'),\n            subtitle: c.description,\n            date: c.createdAt,\n          })),\n          ...employees.slice(-5).map(e => ({\n            icon: '👤',\n            title: t('employees.add'),\n            subtitle: e.name,\n            date: e.createdAt || new Date().toISOString(),\n          })),\n          ...allPayroll.slice(-3).map(p => ({\n            icon: '💰',\n            title: t('navigation.payroll'),\n            subtitle: `${p.employeeId}: ${p.amount} ${p.currency || ''}`,\n            date: p.createdAt || new Date().toISOString(),\n          })),\n        ].sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime())\n          .slice(0, 10);\n\n        setRecentActivity(activity);\n      } else {\n        let [allPayroll, upcomingLeaves, expiringIllnesses] = await Promise.all([\n          payrollDb.getAll(),\n          leavesDb.getUpcoming(),\n          illnessesDb.getExpiringSoon(),\n        ]);\n\n        if (user?.employeeId) {\n          allPayroll = allPayroll.filter(p => p.employeeId === user.employeeId);\n          upcomingLeaves = upcomingLeaves.filter(l => l.employeeId === user.employeeId);\n          expiringIllnesses = expiringIllnesses.filter(i => i.employeeId === user.employeeId);\n        }\n\n        setSummary(prev => ({\n          ...prev,\n          payroll: allPayroll.length,\n          upcomingLeaves: upcomingLeaves.length,\n          expiringIllness: expiringIllnesses.length,\n        }));\n      }\n\n      const status = await permissionsService.checkNotificationPermission();\n      setHasNotificationPermission(status === 'granted');\n    } catch (error) {\n      console.error('Error loading home data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useFocusEffect(\n    useCallback(() => {\n      loadData();\n    }, [user]),\n  );\n\n  const handleEnableNotifications = async () => {\n    const status = await permissionsService.requestNotificationPermission();\n    setHasNotificationPermission(status === 'granted');\n  };\n\n  const navigateToTab = (tab: string, screen?: string) => {\n    if (Platform.OS === 'web') {\n      setActiveTab(tab, screen);\n    } else {\n      const stackScreen =\n        tab === 'Payroll'\n          ? 'PayrollTab'\n          : tab === 'Leaves'\n            ? 'LeavesTab'\n            : tab === 'Analytics'\n              ? 'Analytics'\n              : tab === 'Employees'\n                ? 'Employees'\n                : tab === 'Claims'\n                  ? 'Claims'\n                  : undefined;\n\n      if (stackScreen) {\n        navigation.navigate('Main', {\n          screen: stackScreen,\n          params: screen ? { screen } : undefined,\n        });\n      }\n    }\n  };\n\n  if (loading) {\n    return (\n      <View style={styles.loadingContainer}>\n        <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n      </View>\n    );\n  }\n\n  return (\n    <View style={styles.container}>\n      <ScrollView\n        contentContainerStyle={styles.scrollContent}\n        showsVerticalScrollIndicator={false}\n      >\n        <View style={{ height: Platform.OS === 'web' ? 20 : 0 }} />\n\n        {user?.role === 'admin' || user?.role === 'rh' ? (\n          <AdminDashboard\n            summary={summary}\n            recentActivity={recentActivity}\n            navigateToTab={navigateToTab}\n            styles={styles}\n            theme={theme}\n          />\n        ) : (\n          <EmployeeDashboard\n            user={user}\n            summary={summary}\n            navigateToTab={navigateToTab}\n            hasNotificationPermission={hasNotificationPermission}\n            handleEnableNotifications={handleEnableNotifications}\n            styles={styles}\n            theme={theme}\n          />\n        )}\n      </ScrollView>\n    </View>\n  );\n};\n\nconst createStyles = (theme: Theme) =>\n  StyleSheet.create({\n    container: {\n      flex: 1,\n    },\n    dashboardContainer: {\n      flex: 1,\n      paddingHorizontal: 24,\n    },\n    welcomeSection: {\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      padding: 24,\n      borderRadius: 24,\n      marginVertical: 24,\n      ...theme.shadows.medium,\n      ...(Platform.OS === 'web' && {\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        backgroundImage: 'linear-gradient(135deg, #0052CC 0%, #00A3BF 100%)' as any,\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n      } as any),\n    },\n    welcomeTitle: {\n      fontSize: 24,\n      fontWeight: 'bold',\n      color: '#FFFFFF',\n      marginBottom: 4,\n    },\n    welcomeSubtitle: {\n      fontSize: 14,\n      color: 'rgba(255, 255, 255, 0.8)',\n    },\n    statsContainer: {\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      marginBottom: 16,\n      gap: 16,\n    },\n    statCard: {\n      flex: 1,\n      padding: 20,\n      borderRadius: 20,\n      flexDirection: 'row',\n      alignItems: 'center',\n      borderWidth: 1,\n      ...theme.shadows.small,\n      ...(Platform.OS === 'web' && {\n        backdropFilter: 'blur(10px)',\n        WebkitBackdropFilter: 'blur(10px)',\n        transition: 'all 0.3s ease',\n        cursor: 'pointer',\n        background: 'rgba(255, 255, 255, 0.7)',\n        '&:hover': {\n          transform: 'translateY(-5px)',\n          boxShadow: '0 10px 20px rgba(0,0,0,0.1)',\n        }\n      } as any),\n    },\n    statIconWrapper: {\n      width: 48,\n      height: 48,\n      borderRadius: 14,\n      justifyContent: 'center',\n      alignItems: 'center',\n      marginRight: 16,\n    },\n    statIcon: {\n      fontSize: 24,\n    },\n    statInfo: {\n      flex: 1,\n    },\n    statNumber: {\n      fontSize: 22,\n      fontWeight: 'bold',\n    },\n    statLabel: {\n      fontSize: 13,\n      fontWeight: '500',\n    },\n    sectionTitle: {\n      fontSize: 18,\n      fontWeight: '700',\n      color: theme.colors.text,\n      marginTop: 24,\n      marginBottom: 16,\n    },\n    actionGrid: {\n      flexDirection: 'row',\n      flexWrap: 'wrap',\n      gap: 12,\n    },\n    actionButton: {\n      flex: 1,\n      minWidth: '45%',\n      padding: 16,\n      borderRadius: 20,\n      backgroundColor: theme.colors.surface,\n      borderWidth: 1,\n      borderColor: theme.colors.border,\n      gap: 12,\n      ...theme.shadows.small,\n      ...(Platform.OS === 'web' && {\n        transition: 'all 0.2s ease',\n        '&:hover': {\n          borderColor: theme.colors.primary,\n          transform: 'scale(1.02)',\n        }\n      } as any),\n    },\n    actionIconWrapper: {\n      width: 48,\n      height: 48,\n      borderRadius: 16,\n      justifyContent: 'center',\n      alignItems: 'center',\n    },\n    actionIcon: {\n      fontSize: 24,\n    },\n    actionLabel: {\n      fontSize: 14,\n      fontWeight: '700',\n      color: theme.colors.text,\n    },\n    activityCard: {\n      backgroundColor: theme.colors.surface,\n      borderRadius: 24,\n      padding: 8,\n      borderWidth: 1,\n      borderColor: theme.colors.border,\n      ...theme.shadows.small,\n      marginBottom: 100,\n    },\n    activityItem: {\n      flexDirection: 'row',\n      padding: 16,\n      alignItems: 'center',\n      borderBottomWidth: 1,\n    },\n    activityIconWrapper: {\n      width: 44,\n      height: 44,\n      borderRadius: 12,\n      justifyContent: 'center',\n      alignItems: 'center',\n      marginRight: 16,\n    },\n    activityIcon: {\n      fontSize: 20,\n    },\n    activityContent: {\n      flex: 1,\n      gap: 2,\n    },\n    activityTitle: {\n      fontSize: 15,\n      fontWeight: '600',\n    },\n    activitySubtitle: {\n      fontSize: 13,\n    },\n    activityTime: {\n      fontSize: 11,\n      marginTop: 2,\n    },\n    scrollContent: {\n      paddingBottom: 40,\n    },\n    loadingContainer: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n    },\n    header: {\n      padding: 24,\n      paddingTop: Platform.OS === 'ios' ? 20 : 40,\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      display: 'none', // Hidden as we use GlassHeader\n    },\n    emptyState: {\n      padding: 20,\n      alignItems: 'center',\n    },\n    emptyText: {\n      color: theme.colors.subText,\n      fontSize: 14,\n    },\n  });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/analytics/AnalyticsScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'opacity' is assigned a value but never used.","line":90,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":90,"endColumn":25}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useMemo } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  ScrollView,\n  Dimensions,\n  ActivityIndicator,\n} from 'react-native';\nimport { useTranslation } from 'react-i18next';\nimport { LineChart, BarChart } from 'react-native-chart-kit';\nimport {\n  analyticsService,\n  AnalyticsData,\n} from '../../services/analyticsService';\nimport { googleAnalytics } from '../../services/googleAnalytics';\nimport { useTheme } from '../../context/ThemeContext';\nimport { Theme } from '../../theme';\nimport { useSelector } from 'react-redux';\nimport { selectQuestionOccurrences } from '../../store/slices/analyticsSlice';\nimport { selectAllDevices } from '../../store/slices/devicesSlice';\nimport { useAuth } from '../../context/AuthContext';\n\nconst screenWidth = Dimensions.get('window').width;\n\nexport const AnalyticsScreen = () => {\n  const { t } = useTranslation();\n  const { theme } = useTheme();\n  const { user } = useAuth();\n  const styles = useMemo(() => createStyles(theme), [theme]);\n\n  const questionOccurrences = useSelector(selectQuestionOccurrences);\n  const allDevices = useSelector(selectAllDevices);\n  const [analytics, setAnalytics] = useState<AnalyticsData | null>(null);\n  const [adherenceChart, setAdherenceChart] = useState<{\n    labels: string[];\n    data: number[];\n  } | null>(null);\n  const [leavesChart, setLeavesChart] = useState<{\n    labels: string[];\n    data: number[];\n  } | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    // Log screen view for analytics\n    googleAnalytics.logScreenView('AnalyticsScreen', 'analytics');\n    loadAnalytics();\n  }, []);\n\n  const loadAnalytics = async () => {\n    try {\n      const [data, adherence, leaves] = await Promise.all([\n        analyticsService.getAnalytics(),\n        analyticsService.getPayrollAdherence(),\n        analyticsService.getUpcomingLeavesChart(),\n      ]);\n\n      setAnalytics(data);\n      setAdherenceChart(adherence);\n      setLeavesChart(leaves);\n\n      // Log analytics view event\n      googleAnalytics.logEvent('view_analytics_dashboard', {\n        total_payroll: data.totalPayroll,\n        upcoming_leaves: data.upcomingLeaves,\n        adherence_rate: data.payrollAdherence,\n      });\n    } catch (error) {\n      console.error('Error loading analytics:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading || !analytics) {\n    return (\n      <View style={styles.loadingContainer}>\n        <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n      </View>\n    );\n  }\n\n  const chartConfig = {\n    backgroundColor: theme.colors.surface,\n    backgroundGradientFrom: theme.colors.surface,\n    backgroundGradientTo: theme.colors.surface,\n    decimalPlaces: 0,\n    color: (opacity = 1) => `rgba(0, 122, 255, ${opacity})`, // Keep brand blue for chart line\n    labelColor: (opacity = 1) => theme.colors.text, // Adapt text color\n    style: {\n      borderRadius: 16,\n    },\n    propsForDots: {\n      r: '6',\n      strokeWidth: '2',\n      stroke: theme.colors.primary,\n    },\n  };\n\n  // Responsive width\n  const chartWidth = Math.min(screenWidth - 32, 800); // Max 800px on web\n\n  return (\n    <View style={styles.container}>\n      <ScrollView contentContainerStyle={styles.content}>\n        <Text style={styles.title}>{t('analytics.hrAnalytics')}</Text>\n\n        {/* Summary Cards */}\n        <View style={styles.cardsRow}>\n          <View style={[styles.card, styles.cardBlue]}>\n            <Text style={styles.cardNumber}>{analytics.totalPayroll}</Text>\n            <Text style={styles.cardLabel}>{t('analytics.payroll')}</Text>\n          </View>\n\n          <View style={[styles.card, styles.cardGreen]}>\n            <Text style={styles.cardNumber}>\n              {analytics.upcomingLeaves}\n            </Text>\n            <Text style={styles.cardLabel}>{t('analytics.leaves')}</Text>\n          </View>\n        </View>\n\n        <View style={styles.cardsRow}>\n          <View style={[styles.card, styles.cardOrange]}>\n            <Text style={styles.cardNumber}>\n              {analytics.expiringIllness}\n            </Text>\n            <Text style={styles.cardLabel}>{t('analytics.illnessExpiring')}</Text>\n          </View>\n\n          <View style={[styles.card, styles.cardPurple]}>\n            <Text style={styles.cardNumber}>\n              {analytics.payrollAdherence}%\n            </Text>\n            <Text style={styles.cardLabel}>{t('analytics.adherence')}</Text>\n          </View>\n        </View>\n\n        {/* Payroll Adherence Chart */}\n        {adherenceChart && adherenceChart.data.length > 0 && (\n          <View style={styles.chartSection}>\n            <Text style={styles.chartTitle}>\n              {t('analytics.adherenceChart')}\n            </Text>\n            <LineChart\n              data={{\n                labels: adherenceChart.labels,\n                datasets: [{ data: adherenceChart.data }],\n              }}\n              width={chartWidth}\n              height={220}\n              chartConfig={chartConfig}\n              bezier\n              style={styles.chart}\n              withInnerLines={false}\n              withOuterLines={true}\n              withVerticalLabels={true}\n              withHorizontalLabels={true}\n            />\n          </View>\n        )}\n\n        {/* Upcoming Leaves Chart */}\n        {leavesChart && leavesChart.data.some(val => val > 0) && (\n          <View style={styles.chartSection}>\n            <Text style={styles.chartTitle}>\n              {t('analytics.upcomingLeavesChart')}\n            </Text>\n            <BarChart\n              data={{\n                labels: leavesChart.labels,\n                datasets: [{ data: leavesChart.data }],\n              }}\n              width={chartWidth}\n              height={220}\n              yAxisLabel=\"\"\n              yAxisSuffix=\"\"\n              chartConfig={{\n                ...chartConfig,\n                color: (opacity = 1) => `rgba(52, 199, 89, ${opacity})`, // Keep green for success/leaves\n              }}\n              style={styles.chart}\n              showValuesOnTopOfBars\n              withInnerLines={false}\n            />\n          </View>\n        )}\n\n        {/* HR Insights */}\n        <View style={styles.insightsSection}>\n          <Text style={styles.sectionTitle}>\n            {t('analytics.hrInsights')}\n          </Text>\n\n          {analytics.payrollAdherence >= 90 && (\n            <View style={[styles.insightCard, styles.insightGood]}>\n              <Text style={styles.insightEmoji}>✅</Text>\n              <Text style={styles.insightText}>\n                {t('analytics.excellentAdherence', {\n                  adherence: analytics.payrollAdherence,\n                })}\n              </Text>\n            </View>\n          )}\n\n          {analytics.expiringIllness > 0 && (\n            <View style={[styles.insightCard, styles.insightWarning]}>\n              <Text style={styles.insightEmoji}>⚠️</Text>\n              <Text style={styles.insightText}>\n                {t('analytics.illnessesExpiring', {\n                  count: analytics.expiringIllness,\n                })}\n              </Text>\n            </View>\n          )}\n\n          {analytics.upcomingLeaves > 0 && (\n            <View style={[styles.insightCard, styles.insightInfo]}>\n              <Text style={styles.insightEmoji}>📅</Text>\n              <Text style={styles.insightText}>\n                {t('analytics.upcomingLeavesInsight', {\n                  count: analytics.upcomingLeaves,\n                })}\n              </Text>\n            </View>\n          )}\n        </View>\n\n        {/* AI Question Analytics Section (Admin only) */}\n        {(user?.role === 'admin' || user?.role === 'rh') && questionOccurrences.length > 0 && (\n          <View style={styles.insightsSection}>\n            <Text style={styles.sectionTitle}>\n              {t('analytics.questionOccurrences') || 'Question Occurrences'}\n            </Text>\n            {questionOccurrences.map((occurrence, index) => (\n              <View key={index} style={[styles.insightCard, { backgroundColor: theme.colors.surface, justifyContent: 'space-between' }]}>\n                <View style={{ flexDirection: 'row', alignItems: 'center', flex: 1 }}>\n                  <Text style={styles.insightEmoji}>📊</Text>\n                  <Text style={[styles.insightText, { fontStyle: 'italic' }]}>\"{occurrence.text}\"</Text>\n                </View>\n                <View style={[styles.occurrenceBadge, { backgroundColor: theme.colors.primary }]}>\n                  <Text style={styles.occurrenceText}>{occurrence.count}</Text>\n                </View>\n              </View>\n            ))}\n          </View>\n        )}\n\n        {/* Material Distribution (Admin only) */}\n        {(user?.role === 'admin' || user?.role === 'rh') && (\n          <View style={styles.insightsSection}>\n            <Text style={styles.sectionTitle}>Material Distribution</Text>\n            <View style={styles.cardsRow}>\n              <View style={[styles.card, { backgroundColor: theme.colors.success }]}>\n                <Text style={styles.cardNumber}>{allDevices.length}</Text>\n                <Text style={styles.cardLabel}>Total Material</Text>\n              </View>\n              <View style={[styles.card, { backgroundColor: theme.colors.error }]}>\n                <Text style={styles.cardNumber}>\n                  {allDevices.filter(d => d.condition === 'faulty').length}\n                </Text>\n                <Text style={styles.cardLabel}>Faulty Material</Text>\n              </View>\n            </View>\n          </View>\n        )}\n      </ScrollView >\n    </View >\n  );\n};\n\nconst createStyles = (theme: Theme) =>\n  StyleSheet.create({\n    container: {\n      flex: 1,\n      backgroundColor: theme.colors.background,\n    },\n    content: {\n      padding: 16,\n      paddingBottom: 32,\n      maxWidth: 1200, // Max width for web\n      alignSelf: 'center',\n      width: '100%',\n    },\n    loadingContainer: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      backgroundColor: theme.colors.background,\n    },\n    title: {\n      ...theme.textVariants.header,\n      color: theme.colors.text,\n      marginBottom: 20,\n    },\n    cardsRow: {\n      flexDirection: 'row',\n      gap: 12,\n      marginBottom: 12,\n    },\n    card: {\n      flex: 1,\n      padding: 20,\n      borderRadius: 16,\n      alignItems: 'center',\n      ...theme.shadows.medium,\n    },\n    cardBlue: {\n      backgroundColor: '#007AFF', // Keep solid colors for stats cards\n    },\n    cardGreen: {\n      backgroundColor: '#34C759',\n    },\n    cardOrange: {\n      backgroundColor: '#FF9500',\n    },\n    cardPurple: {\n      backgroundColor: '#AF52DE',\n    },\n    cardNumber: {\n      fontSize: 32,\n      fontWeight: 'bold',\n      color: '#FFF',\n      marginBottom: 4,\n    },\n    cardLabel: {\n      fontSize: 14,\n      color: '#FFF',\n      opacity: 0.9,\n    },\n    chartSection: {\n      marginTop: 24,\n      marginBottom: 16,\n    },\n    chartTitle: {\n      ...theme.textVariants.subheader,\n      color: theme.colors.text,\n      marginBottom: 12,\n    },\n    chart: {\n      borderRadius: 16,\n    },\n    insightsSection: {\n      marginTop: 24,\n    },\n    sectionTitle: {\n      ...theme.textVariants.subheader,\n      color: theme.colors.text,\n      marginBottom: 16,\n    },\n    insightCard: {\n      flexDirection: 'row',\n      padding: 16,\n      borderRadius: 12,\n      marginBottom: 12,\n      alignItems: 'center',\n    },\n    insightGood: {\n      backgroundColor: theme.colors.successBackground,\n    },\n    insightWarning: {\n      backgroundColor: theme.colors.warningBackground,\n    },\n    insightInfo: {\n      backgroundColor: theme.colors.primaryBackground,\n    },\n    insightEmoji: {\n      fontSize: 24,\n      marginRight: 12,\n    },\n    insightText: {\n      flex: 1,\n      fontSize: 14,\n      color: theme.colors.text,\n      lineHeight: 20,\n    },\n    timestamp: {\n      fontSize: 12,\n      marginTop: 4,\n    },\n    occurrenceBadge: {\n      paddingHorizontal: 12,\n      paddingVertical: 4,\n      borderRadius: 12,\n      marginLeft: 12,\n    },\n    occurrenceText: {\n      color: '#FFF',\n      fontSize: 12,\n      fontWeight: 'bold',\n    },\n  });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/analytics/PerformanceReviewScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Platform' is defined but never used.","line":10,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":10,"endColumn":13}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useMemo, useState } from 'react';\nimport {\n    View,\n    Text,\n    StyleSheet,\n    ScrollView,\n    TouchableOpacity,\n    TextInput,\n    Modal,\n    Platform,\n    FlatList,\n} from 'react-native';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useTheme } from '../../context/ThemeContext';\nimport { RootState } from '../../store';\nimport { useAuth } from '../../context/AuthContext';\nimport { PerformanceReview, Employee, Company, Team } from '../../database/schema';\nimport { addReview } from '../../store/slices/performanceSlice';\nimport { selectAllCompanies } from '../../store/slices/companiesSlice';\nimport { selectAllTeams } from '../../store/slices/teamsSlice';\nimport { Theme } from '../../theme';\nimport { formatDate } from '../../utils/dateUtils';\n\nexport const PerformanceReviewScreen = () => {\n    const { theme } = useTheme();\n    const { t } = useTranslation();\n    const { user } = useAuth();\n    const dispatch = useDispatch();\n    const styles = useMemo(() => createStyles(theme), [theme]);\n\n    const isManagerOrAdmin = user?.role === 'admin' || user?.role === 'rh' || user?.role === 'chef_dequipe';\n\n    const reviews = useSelector((state: RootState) => {\n        if (user?.role === 'admin' || user?.role === 'rh') return state.performance.reviews;\n        if (user?.role === 'chef_dequipe') return state.performance.reviews.filter((r: PerformanceReview) => r.reviewerId === (user?.id ? Number(user.id) : 0));\n        return state.performance.reviews.filter((r: PerformanceReview) => r.employeeId === (user?.id ? Number(user.id) : 0));\n    });\n\n    const companies = useSelector(selectAllCompanies);\n    const allTeams = useSelector(selectAllTeams);\n    const employees = useSelector((state: RootState) => state.employees.items);\n\n    const [isModalVisible, setModalVisible] = useState(false);\n\n    // Filter States for Modal\n    const [tempCompanyId, setTempCompanyId] = useState<number | 'none' | null>(null);\n    const [tempTeamId, setTempTeamId] = useState<number | 'none' | null>(null);\n    const [selectedEmployeeId, setSelectedEmployeeId] = useState<number | null>(null);\n\n    const [score, setScore] = useState('5');\n    const [comments, setComments] = useState('');\n    const [period, setPeriod] = useState('Q4 2025');\n\n    // Filtered lists for the modal\n    const filteredTeams = useMemo(() => {\n        if (!tempCompanyId || tempCompanyId === 'none') return [];\n        return allTeams.filter(t => t.companyId === tempCompanyId);\n    }, [allTeams, tempCompanyId]);\n\n    const filteredEmployees = useMemo(() => {\n        return employees.filter(emp => {\n            const matchesCompany = tempCompanyId === 'none' ? !emp.companyId : (!tempCompanyId || emp.companyId === tempCompanyId);\n            const matchesTeam = tempTeamId === 'none' ? !emp.teamId : (!tempTeamId || emp.teamId === tempTeamId);\n            return matchesCompany && matchesTeam;\n        });\n    }, [employees, tempCompanyId, tempTeamId]);\n\n    const handleSaveReview = () => {\n        if (!selectedEmployeeId || !comments.trim()) return;\n\n        const reviewData: PerformanceReview = {\n            id: Date.now(),\n            employeeId: selectedEmployeeId,\n            reviewerId: user?.id ? Number(user.id) : 0,\n            period,\n            score: Number(score),\n            comments,\n            date: new Date().toISOString().split('T')[0],\n            createdAt: new Date().toISOString(),\n        };\n\n        dispatch(addReview(reviewData));\n        setModalVisible(false);\n        resetForm();\n    };\n\n    const resetForm = () => {\n        setTempCompanyId(null);\n        setTempTeamId(null);\n        setSelectedEmployeeId(null);\n        setScore('5');\n        setComments('');\n        setPeriod('Q4 2025');\n    };\n\n    const renderReviewCard = ({ item }: { item: PerformanceReview }) => {\n        const employee = employees.find((e: Employee) => e.id === item.employeeId);\n        return (\n            <View style={styles.reviewCard}>\n                <View style={styles.reviewHeader}>\n                    <View>\n                        <Text style={styles.periodText}>{item.period}</Text>\n                        <Text style={styles.employeeName}>{employee?.name || `Employee #${item.employeeId}`}</Text>\n                    </View>\n                    <View style={[styles.scoreBadge, { backgroundColor: theme.colors.primary }]}>\n                        <Text style={styles.scoreText}>{item.score}/5</Text>\n                    </View>\n                </View>\n                <Text style={styles.commentsText}>{item.comments}</Text>\n                <Text style={styles.dateText}>{formatDate(item.date)}</Text>\n            </View>\n        );\n    };\n\n    return (\n        <View style={styles.container}>\n            <View style={styles.header}>\n                <View>\n                    <Text style={styles.title}>{t('performance.title') || 'Évaluations Performance'}</Text>\n                    <Text style={styles.subtitle}>{isManagerOrAdmin ? t('performance.managerSubtitle') : t('performance.employeeSubtitle')}</Text>\n                </View>\n                {isManagerOrAdmin && (\n                    <TouchableOpacity\n                        style={styles.addButton}\n                        onPress={() => setModalVisible(true)}\n                    >\n                        <Text style={styles.addButtonLabel}>{t('common.add')}</Text>\n                    </TouchableOpacity>\n                )}\n            </View>\n\n            <FlatList\n                data={reviews}\n                renderItem={renderReviewCard}\n                keyExtractor={item => item.id!.toString()}\n                contentContainerStyle={styles.listContent}\n                ListEmptyComponent={\n                    <View style={styles.emptyState}>\n                        <Text style={styles.emptyText}>{t('common.noData')}</Text>\n                    </View>\n                }\n            />\n\n            <Modal\n                visible={isModalVisible}\n                animationType=\"slide\"\n                transparent={true}\n            >\n                <View style={styles.modalOverlay}>\n                    <View style={styles.modalContent}>\n                        <Text style={styles.modalTitle}>{t('performance.newReview')}</Text>\n\n                        <ScrollView style={styles.modalScroll} showsVerticalScrollIndicator={false}>\n                            <Text style={styles.inputLabel}>{t('common.company') || 'Entreprise'}</Text>\n                            <ScrollView horizontal showsHorizontalScrollIndicator={false} style={styles.selectorScroll}>\n                                <TouchableOpacity\n                                    onPress={() => { setTempCompanyId('none'); setTempTeamId(null); setSelectedEmployeeId(null); }}\n                                    style={[styles.chip, tempCompanyId === 'none' && styles.activeChip]}\n                                >\n                                    <Text style={[styles.chipText, tempCompanyId === 'none' && styles.activeChipText]}>{t('common.none') || 'Aucune'}</Text>\n                                </TouchableOpacity>\n                                {companies.map((c: Company) => (\n                                    <TouchableOpacity\n                                        key={c.id}\n                                        onPress={() => { setTempCompanyId(c.id!); setTempTeamId(null); setSelectedEmployeeId(null); }}\n                                        style={[styles.chip, tempCompanyId === c.id && styles.activeChip]}\n                                    >\n                                        <Text style={[styles.chipText, tempCompanyId === c.id && styles.activeChipText]}>{c.name}</Text>\n                                    </TouchableOpacity>\n                                ))}\n                            </ScrollView>\n\n                            {tempCompanyId && tempCompanyId !== 'none' && (\n                                <>\n                                    <Text style={styles.inputLabel}>{t('common.team') || 'Équipe'}</Text>\n                                    <ScrollView horizontal showsHorizontalScrollIndicator={false} style={styles.selectorScroll}>\n                                        <TouchableOpacity\n                                            onPress={() => { setTempTeamId('none'); setSelectedEmployeeId(null); }}\n                                            style={[styles.chip, tempTeamId === 'none' && styles.activeChip]}\n                                        >\n                                            <Text style={[styles.chipText, tempTeamId === 'none' && styles.activeChipText]}>{t('common.none') || 'Aucune'}</Text>\n                                        </TouchableOpacity>\n                                        {filteredTeams.map((t: Team) => (\n                                            <TouchableOpacity\n                                                key={t.id}\n                                                onPress={() => { setTempTeamId(t.id!); setSelectedEmployeeId(null); }}\n                                                style={[styles.chip, tempTeamId === t.id && styles.activeChip]}\n                                            >\n                                                <Text style={[styles.chipText, tempTeamId === t.id && styles.activeChipText]}>{t.name}</Text>\n                                            </TouchableOpacity>\n                                        ))}\n                                    </ScrollView>\n                                </>\n                            )}\n\n                            <Text style={styles.inputLabel}>{t('performance.employee')}</Text>\n                            <ScrollView horizontal showsHorizontalScrollIndicator={false} style={styles.selectorScroll}>\n                                {filteredEmployees.map((emp: Employee) => (\n                                    <TouchableOpacity\n                                        key={emp.id}\n                                        onPress={() => setSelectedEmployeeId(emp.id!)}\n                                        style={[styles.chip, selectedEmployeeId === emp.id && styles.activeChip]}\n                                    >\n                                        <Text style={[styles.chipText, selectedEmployeeId === emp.id && styles.activeChipText]}>{emp.name}</Text>\n                                    </TouchableOpacity>\n                                ))}\n                                {filteredEmployees.length === 0 && (\n                                    <Text style={styles.emptyFilterText}>{t('common.noData')}</Text>\n                                )}\n                            </ScrollView>\n\n                            <Text style={styles.inputLabel}>{t('performance.period')}</Text>\n                            <TextInput\n                                style={styles.input}\n                                value={period}\n                                onChangeText={setPeriod}\n                                placeholder={t('performance.periodPlaceholder') || \"e.g. Q4 2025\"}\n                                placeholderTextColor={theme.colors.subText}\n                            />\n\n                            <Text style={styles.inputLabel}>{t('performance.score')}</Text>\n                            <View style={styles.scoreContainer}>\n                                {['1', '2', '3', '4', '5'].map(val => (\n                                    <TouchableOpacity\n                                        key={val}\n                                        onPress={() => setScore(val)}\n                                        style={[styles.scoreOption, score === val && styles.activeScore]}\n                                    >\n                                        <Text style={[styles.scoreOptionText, score === val && styles.activeScoreText]}>{val}</Text>\n                                    </TouchableOpacity>\n                                ))}\n                            </View>\n\n                            <Text style={styles.inputLabel}>{t('performance.comments')}</Text>\n                            <TextInput\n                                style={[styles.input, styles.textArea]}\n                                value={comments}\n                                onChangeText={setComments}\n                                placeholder={t('performance.feedbackPlaceholder')}\n                                placeholderTextColor={theme.colors.subText}\n                                multiline\n                            />\n                        </ScrollView>\n\n                        <View style={styles.modalActions}>\n                            <TouchableOpacity style={styles.cancelBtn} onPress={() => setModalVisible(false)}>\n                                <Text style={styles.cancelBtnText}>{t('common.cancel')}</Text>\n                            </TouchableOpacity>\n                            <TouchableOpacity\n                                style={[styles.saveBtn, !selectedEmployeeId && { opacity: 0.5 }]}\n                                onPress={handleSaveReview}\n                                disabled={!selectedEmployeeId}\n                            >\n                                <Text style={styles.saveBtnText}>{t('common.save')}</Text>\n                            </TouchableOpacity>\n                        </View>\n                    </View>\n                </View>\n            </Modal>\n        </View>\n    );\n};\n\nconst createStyles = (theme: Theme) => StyleSheet.create({\n    container: {\n        backgroundColor: theme.colors.background,\n    },\n    header: {\n        padding: theme.spacing.m,\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        backgroundColor: theme.colors.surface,\n        borderBottomWidth: 1,\n        borderBottomColor: theme.colors.border,\n    },\n    title: {\n        ...theme.textVariants.header,\n        fontSize: 20,\n        color: theme.colors.text,\n    },\n    subtitle: {\n        ...theme.textVariants.caption,\n        color: theme.colors.subText,\n    },\n    addButton: {\n        backgroundColor: theme.colors.primary,\n        paddingHorizontal: theme.spacing.m,\n        paddingVertical: theme.spacing.s,\n        borderRadius: theme.spacing.s,\n    },\n    addButtonLabel: {\n        color: '#FFF',\n        fontWeight: 'bold',\n    },\n    listContent: {\n        padding: theme.spacing.m,\n    },\n    reviewCard: {\n        backgroundColor: theme.colors.surface,\n        borderRadius: theme.spacing.m,\n        padding: theme.spacing.m,\n        marginBottom: theme.spacing.m,\n        ...theme.shadows.small,\n    },\n    reviewHeader: {\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        marginBottom: theme.spacing.s,\n    },\n    periodText: {\n        fontSize: 12,\n        color: theme.colors.primary,\n        fontWeight: 'bold',\n        textTransform: 'uppercase',\n    },\n    employeeName: {\n        fontSize: 16,\n        fontWeight: 'bold',\n        color: theme.colors.text,\n    },\n    scoreBadge: {\n        width: 40,\n        height: 40,\n        borderRadius: 20,\n        justifyContent: 'center',\n        alignItems: 'center',\n    },\n    scoreText: {\n        color: '#FFF',\n        fontWeight: 'bold',\n    },\n    commentsText: {\n        ...theme.textVariants.body,\n        color: theme.colors.text,\n        fontSize: 14,\n        lineHeight: 20,\n        marginBottom: theme.spacing.s,\n    },\n    dateText: {\n        fontSize: 10,\n        color: theme.colors.subText,\n        textAlign: 'right',\n    },\n    emptyState: {\n        padding: 40,\n        alignItems: 'center',\n    },\n    emptyText: {\n        color: theme.colors.subText,\n    },\n    modalOverlay: {\n        flex: 1,\n        backgroundColor: 'rgba(0,0,0,0.5)',\n        justifyContent: 'center',\n        padding: theme.spacing.m,\n    },\n    modalContent: {\n        backgroundColor: theme.colors.surface,\n        borderRadius: theme.spacing.l,\n        padding: theme.spacing.l,\n        maxHeight: '85%',\n    },\n    modalScroll: {\n        maxHeight: '100%',\n    },\n    modalTitle: {\n        ...theme.textVariants.header,\n        color: theme.colors.text,\n        marginBottom: theme.spacing.m,\n    },\n    inputLabel: {\n        fontSize: 14,\n        fontWeight: '600',\n        color: theme.colors.text,\n        marginBottom: 8,\n        marginTop: theme.spacing.m,\n    },\n    selectorScroll: {\n        flexDirection: 'row',\n        marginBottom: 8,\n    },\n    chip: {\n        paddingHorizontal: 12,\n        paddingVertical: 6,\n        borderRadius: 16,\n        borderWidth: 1,\n        borderColor: theme.colors.border,\n        marginRight: 8,\n        backgroundColor: theme.colors.background,\n    },\n    activeChip: {\n        backgroundColor: theme.colors.primary,\n        borderColor: theme.colors.primary,\n    },\n    chipText: {\n        fontSize: 12,\n        color: theme.colors.text,\n    },\n    activeChipText: {\n        color: '#FFF',\n    },\n    emptyFilterText: {\n        fontSize: 12,\n        color: theme.colors.subText,\n        fontStyle: 'italic',\n        marginTop: 4,\n    },\n    input: {\n        borderWidth: 1,\n        borderColor: theme.colors.border,\n        borderRadius: theme.spacing.s,\n        padding: theme.spacing.m,\n        backgroundColor: theme.colors.background,\n        color: theme.colors.text,\n    },\n    scoreContainer: {\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        marginTop: 8,\n    },\n    scoreOption: {\n        width: 44,\n        height: 44,\n        borderRadius: 22,\n        borderWidth: 1,\n        borderColor: theme.colors.border,\n        backgroundColor: theme.colors.background,\n        justifyContent: 'center',\n        alignItems: 'center',\n    },\n    activeScore: {\n        backgroundColor: theme.colors.primary,\n        borderColor: theme.colors.primary,\n    },\n    scoreOptionText: {\n        fontWeight: 'bold',\n        color: theme.colors.text,\n    },\n    activeScoreText: {\n        color: '#FFF',\n    },\n    textArea: {\n        height: 100,\n        textAlignVertical: 'top',\n    },\n    modalActions: {\n        flexDirection: 'row',\n        justifyContent: 'flex-end',\n        marginTop: theme.spacing.xl,\n        gap: theme.spacing.m,\n    },\n    cancelBtn: {\n        padding: theme.spacing.m,\n    },\n    cancelBtnText: {\n        color: theme.colors.subText,\n    },\n    saveBtn: {\n        backgroundColor: theme.colors.primary,\n        paddingHorizontal: theme.spacing.l,\n        paddingVertical: theme.spacing.m,\n        borderRadius: theme.spacing.s,\n    },\n    saveBtnText: {\n        color: '#FFF',\n        fontWeight: 'bold',\n    },\n});\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/auth/ForgotPasswordScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":16,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[592,595],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[592,595],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useMemo } from 'react';\nimport {\n  Text,\n  TouchableOpacity,\n  StyleSheet,\n  ActivityIndicator,\n} from 'react-native';\nimport { useTranslation } from 'react-i18next';\nimport { useTheme } from '../../context/ThemeContext';\nimport { notificationService } from '../../services/notificationService';\nimport { Theme } from '../../theme';\nimport { isValidEmail } from '../../utils/validation';\nimport { AuthLayout } from '../../components/auth/AuthLayout';\nimport { AuthInput } from '../../components/auth/AuthInput';\n\nexport const ForgotPasswordScreen = ({ navigation }: any) => {\n  const { theme } = useTheme();\n  const { t } = useTranslation();\n  const styles = useMemo(() => createStyles(theme), [theme]);\n  const [email, setEmail] = useState('');\n  const [emailError, setEmailError] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleReset = async () => {\n    if (!email) {\n      setEmailError(t('forgotPassword.errorEmptyEmail'));\n      return;\n    } else if (!isValidEmail(email)) {\n      setEmailError(t('forgotPassword.errorInvalidEmail'));\n      return;\n    }\n    setEmailError('');\n\n    setLoading(true);\n    // Simulate API call\n    setTimeout(() => {\n      setLoading(false);\n      notificationService.showAlert(\n        t('forgotPassword.successTitle'),\n        t('forgotPassword.successMessage'),\n      );\n      navigation.goBack();\n    }, 1500);\n  };\n\n  return (\n    <AuthLayout\n      title={t('forgotPassword.title')}\n      subtitle={t('forgotPassword.subtitle')}\n    >\n      <AuthInput\n        label={t('forgotPassword.emailLabel')}\n        value={email}\n        onChangeText={setEmail}\n        placeholder={t('forgotPassword.emailPlaceholder')}\n        autoCapitalize=\"none\"\n        keyboardType=\"email-address\"\n        error={emailError}\n      />\n\n      <TouchableOpacity\n        style={[styles.button, loading && styles.buttonDisabled]}\n        onPress={handleReset}\n        disabled={loading}\n      >\n        {loading ? (\n          <ActivityIndicator color=\"#FFF\" />\n        ) : (\n          <Text style={styles.buttonText}>\n            {t('forgotPassword.sendInstructionsButton')}\n          </Text>\n        )}\n      </TouchableOpacity>\n\n      <TouchableOpacity\n        onPress={() => navigation.goBack()}\n        style={styles.backButton}\n      >\n        <Text style={styles.backButtonText}>\n          {t('forgotPassword.backToLogin')}\n        </Text>\n      </TouchableOpacity>\n    </AuthLayout>\n  );\n};\n\nconst createStyles = (theme: Theme) =>\n  StyleSheet.create({\n    button: {\n      backgroundColor: theme.colors.primary,\n      padding: theme.spacing.m,\n      borderRadius: theme.spacing.m, // Consistent with AuthInput\n      alignItems: 'center',\n      marginTop: theme.spacing.m,\n      marginBottom: theme.spacing.l,\n      ...theme.shadows.small,\n    },\n    buttonDisabled: {\n      opacity: 0.7,\n    },\n    buttonText: {\n      ...theme.textVariants.button,\n      color: theme.colors.surface,\n    },\n    backButton: {\n      alignItems: 'center',\n    },\n    backButtonText: {\n      ...theme.textVariants.body,\n      color: theme.colors.subText,\n    },\n  });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/auth/LoginScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":20,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[757,760],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[757,760],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'showToast' is assigned a value but never used.","line":22,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":22,"endColumn":20},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":59,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":59,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1865,1868],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1865,1868],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useMemo } from 'react';\nimport {\n  Text,\n  TouchableOpacity,\n  StyleSheet,\n  ActivityIndicator,\n  View,\n} from 'react-native';\nimport { useTranslation } from 'react-i18next';\nimport { authService } from '../../services/authService';\nimport { notificationService } from '../../services/notificationService';\nimport { useTheme } from '../../context/ThemeContext';\nimport { useAuth } from '../../context/AuthContext';\nimport { useToast } from '../../context/ToastContext';\nimport { Theme } from '../../theme';\nimport { isValidEmail } from '../../utils/validation';\nimport { AuthLayout } from '../../components/auth/AuthLayout';\nimport { AuthInput } from '../../components/auth/AuthInput';\n\nexport const LoginScreen = ({ navigation }: any) => {\n  const { theme } = useTheme();\n  const { showToast } = useToast();\n  const { t } = useTranslation();\n  const { signIn } = useAuth();\n  const styles = useMemo(() => createStyles(theme), [theme]);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [errors, setErrors] = useState({ email: '', password: '' });\n  const [loading, setLoading] = useState(false);\n\n  const validateForm = () => {\n    let isValid = true;\n    const newErrors = { email: '', password: '' };\n\n    if (!email) {\n      newErrors.email = t('login.errorEmptyEmail');\n      isValid = false;\n    } else if (!isValidEmail(email)) {\n      newErrors.email = t('login.errorInvalidEmail');\n      isValid = false;\n    }\n\n    if (!password) {\n      newErrors.password = t('login.errorEmptyPassword');\n      isValid = false;\n    }\n\n    setErrors(newErrors);\n    return isValid;\n  };\n\n  const handleLogin = async () => {\n    if (!validateForm()) return;\n\n    setLoading(true);\n    try {\n      const user = await authService.login(email, password);\n      await signIn(user);\n    } catch (error: any) {\n      notificationService.showAlert(\n        t('login.errorTitle'),\n        error.message || t('login.errorLoginFailed'),\n      );\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <AuthLayout\n      title={t('login.welcomeBack')}\n      subtitle={t('login.signInSubtitle')}\n    >\n      <AuthInput\n        label={t('login.emailLabel')}\n        value={email}\n        onChangeText={setEmail}\n        placeholder={t('login.emailPlaceholder')}\n        autoCapitalize=\"none\"\n        keyboardType=\"email-address\"\n        error={errors.email}\n      />\n\n      <AuthInput\n        label={t('login.passwordLabel')}\n        value={password}\n        onChangeText={setPassword}\n        placeholder={t('login.passwordPlaceholder')}\n        secureTextEntry\n        error={errors.password}\n      />\n\n      <TouchableOpacity\n        onPress={() => navigation.navigate('ForgotPassword')}\n        style={styles.forgotPassword}\n      >\n        <Text style={styles.forgotPasswordText}>\n          {t('login.forgotPassword')}\n        </Text>\n      </TouchableOpacity>\n\n      <TouchableOpacity\n        style={[styles.button, loading && styles.buttonDisabled]}\n        onPress={handleLogin}\n        disabled={loading}\n      >\n        {loading ? (\n          <ActivityIndicator color=\"#FFF\" />\n        ) : (\n          <Text style={styles.buttonText}>{t('login.signInButton')}</Text>\n        )}\n      </TouchableOpacity>\n\n      <View style={styles.tipContainer}>\n        <Text style={styles.tipTitle}>{t('login.tipTitle')}</Text>\n        <View style={styles.demoTable}>\n          <View style={styles.demoRow}>\n            <Text style={[styles.demoCell, styles.demoHeader]}>{t('login.role')}</Text>\n            <Text style={[styles.demoCell, styles.demoHeader]}>{t('login.emailLabel')}</Text>\n            <Text style={[styles.demoCell, styles.demoHeader]}>{t('login.passwordLabel')}</Text>\n          </View>\n          <View style={styles.demoRow}>\n            <Text style={styles.demoCell}>{t('login.admin')}</Text>\n            <Text style={styles.demoCell}>admin@demo.com</Text>\n            <Text style={styles.demoCell}>admin123</Text>\n          </View>\n          <View style={styles.demoRow}>\n            <Text style={styles.demoCell}>{t('login.hr')}</Text>\n            <Text style={styles.demoCell}>hr@demo.com</Text>\n            <Text style={styles.demoCell}>hr123</Text>\n          </View>\n          <View style={styles.demoRow}>\n            <Text style={styles.demoCell}>{t('login.team')}</Text>\n            <Text style={styles.demoCell}>chef@demo.com</Text>\n            <Text style={styles.demoCell}>chef123</Text>\n          </View>\n          <View style={styles.demoRow}>\n            <Text style={styles.demoCell}>{t('login.user')}</Text>\n            <Text style={styles.demoCell}>employee@demo.com</Text>\n            <Text style={styles.demoCell}>employee123</Text>\n          </View>\n        </View>\n      </View>\n\n      <View style={styles.footer}>\n        <Text style={styles.footerText}>{t('login.noAccount')} </Text>\n        <TouchableOpacity onPress={() => navigation.navigate('SignUp')}>\n          <Text style={styles.link}>{t('login.signUp')}</Text>\n        </TouchableOpacity>\n      </View>\n    </AuthLayout>\n  );\n};\n\nconst createStyles = (theme: Theme) =>\n  StyleSheet.create({\n    forgotPassword: {\n      alignSelf: 'flex-end',\n      marginBottom: theme.spacing.l,\n    },\n    forgotPasswordText: {\n      ...theme.textVariants.caption,\n      color: theme.colors.primary,\n      fontWeight: '600',\n    },\n    button: {\n      backgroundColor: theme.colors.primary,\n      padding: theme.spacing.m,\n      borderRadius: theme.spacing.m, // Consistent with AuthInput\n      alignItems: 'center',\n      marginBottom: theme.spacing.l,\n      ...theme.shadows.small,\n    },\n    buttonDisabled: {\n      opacity: 0.7,\n    },\n    buttonText: {\n      ...theme.textVariants.button,\n      color: theme.colors.surface,\n    },\n    footer: {\n      flexDirection: 'row',\n      justifyContent: 'center',\n      marginTop: theme.spacing.s,\n    },\n    footerText: {\n      ...theme.textVariants.body,\n      color: theme.colors.subText,\n    },\n    link: {\n      ...theme.textVariants.body,\n      color: theme.colors.primary,\n      fontWeight: '600',\n    },\n    tipContainer: {\n      backgroundColor: theme.colors.primaryBackground, // Use primary background for tip\n      padding: theme.spacing.m,\n      borderRadius: theme.spacing.m,\n      marginBottom: theme.spacing.l,\n      alignItems: 'center',\n      borderWidth: 1,\n      borderColor: theme.colors.primary + '30', // Transparent primary border\n    },\n    tipTitle: {\n      ...theme.textVariants.caption,\n      fontWeight: 'bold',\n      color: theme.colors.primary,\n      marginBottom: 4,\n    },\n    tipText: {\n      ...theme.textVariants.caption,\n      color: theme.colors.text,\n      textAlign: 'center',\n    },\n    demoTable: {\n      width: '100%',\n      marginTop: theme.spacing.s,\n    },\n    demoRow: {\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      paddingVertical: 4,\n      borderBottomWidth: 1,\n      borderBottomColor: theme.colors.primary + '15',\n    },\n    demoCell: {\n      ...theme.textVariants.caption,\n      fontSize: 10,\n      flex: 1,\n      color: theme.colors.text,\n      textAlign: 'center',\n    },\n    demoHeader: {\n      fontWeight: 'bold',\n      color: theme.colors.primary,\n    },\n  });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/auth/SignUpScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":22,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[905,908],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[905,908],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'showToast' is assigned a value but never used.","line":24,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":24,"endColumn":20},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":38,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":38,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1607,1610],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1607,1610],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":95,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":95,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3087,3090],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3087,3090],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useMemo } from 'react';\nimport {\n  Text,\n  TouchableOpacity,\n  StyleSheet,\n  ActivityIndicator,\n  View,\n} from 'react-native';\nimport { useTranslation } from 'react-i18next';\nimport { authService } from '../../services/authService';\nimport { notificationService } from '../../services/notificationService';\nimport { useTheme } from '../../context/ThemeContext';\nimport { useAuth } from '../../context/AuthContext';\nimport { useToast } from '../../context/ToastContext';\nimport { Theme } from '../../theme';\nimport { isValidEmail, isValidPassword } from '../../utils/validation';\nimport { AuthLayout } from '../../components/auth/AuthLayout';\nimport { AuthInput } from '../../components/auth/AuthInput';\nimport { Dropdown } from '../../components/Dropdown';\nimport { DateTimePickerField } from '../../components/DateTimePickerField';\n\nexport const SignUpScreen = ({ navigation }: any) => {\n  const { theme } = useTheme();\n  const { showToast } = useToast();\n  const { t } = useTranslation();\n  const { signUp } = useAuth();\n  const styles = useMemo(() => createStyles(theme), [theme]);\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [birthDate, setBirthDate] = useState(new Date());\n  const [country, setCountry] = useState('');\n  const [errors, setErrors] = useState<{ name?: string; email?: string; password?: string; country?: string; birthDate?: string }>({});\n  const [loading, setLoading] = useState(false);\n\n  const validateForm = () => {\n    let isValid = true;\n    const newErrors: any = {};\n\n    if (!name.trim()) {\n      newErrors.name = t('signUp.errorEmptyName');\n      isValid = false;\n    }\n\n    if (!country) {\n      newErrors.country = t('common.required');\n      isValid = false;\n    }\n\n    if (!email.trim()) {\n      newErrors.email = t('signUp.errorEmptyEmail');\n      isValid = false;\n    } else if (!isValidEmail(email)) {\n      newErrors.email = t('signUp.errorInvalidEmail');\n      isValid = false;\n    }\n\n    if (!password) {\n      newErrors.password = t('signUp.errorEmptyPassword');\n      isValid = false;\n    } else if (!isValidPassword(password)) {\n      newErrors.password = t('signUp.errorWeakPassword');\n      isValid = false;\n    }\n\n    // Age validation\n    const today = new Date();\n    let age = today.getFullYear() - birthDate.getFullYear();\n    const m = today.getMonth() - birthDate.getMonth();\n    if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {\n      age--;\n    }\n\n    if (age < 18 || age > 62) {\n      newErrors.birthDate = t('employees.ageInvalid');\n      isValid = false;\n    }\n\n    setErrors(newErrors);\n    return isValid;\n  };\n\n  const handleSignUp = async () => {\n    if (!validateForm()) return;\n\n    setLoading(true);\n    try {\n      // Register with pending status and additional fields\n      const user = await authService.register(name, email, password, 'employee', {\n        country,\n        birthDate: birthDate.toISOString().split('T')[0]\n      });\n\n      await signUp(user);\n    } catch (error: any) {\n      notificationService.showAlert(\n        t('signUp.errorTitle'),\n        error.message || t('signUp.errorRegistrationFailed'),\n      );\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <AuthLayout\n      title={t('signUp.title')}\n      subtitle={t('signUp.subtitle')}\n    >\n      <AuthInput\n        label={t('signUp.nameLabel')}\n        value={name}\n        onChangeText={setName}\n        placeholder={t('signUp.namePlaceholder')}\n        error={errors.name}\n      />\n\n      <View style={{ marginBottom: theme.spacing.m }}>\n        <DateTimePickerField\n          label={t('employees.birthDate')}\n          value={birthDate}\n          onChange={setBirthDate}\n          mode=\"date\"\n          maximumDate={new Date()}\n          error={errors.birthDate}\n        />\n      </View>\n\n      <View style={{ marginBottom: theme.spacing.m }}>\n        <Dropdown\n          label={t('employees.country')}\n          data={[\n            { label: 'France', value: 'France' },\n            { label: 'Tunisie', value: 'Tunisia' },\n            { label: 'Allemagne', value: 'Germany' },\n            { label: 'Espagne', value: 'Spain' },\n            { label: 'UK', value: 'UK' },\n            { label: 'USA', value: 'USA' }\n          ]}\n          value={country}\n          onSelect={setCountry}\n          placeholder={t('employees.countryPlaceholder')}\n        />\n        {errors.country ? <Text style={{ color: theme.colors.error, fontSize: 12, marginTop: 4 }}>{errors.country}</Text> : null}\n      </View>\n\n      <AuthInput\n        label={t('signUp.emailLabel')}\n        value={email}\n        onChangeText={setEmail}\n        placeholder={t('signUp.emailPlaceholder')}\n        autoCapitalize=\"none\"\n        keyboardType=\"email-address\"\n        error={errors.email}\n      />\n\n      <AuthInput\n        label={t('signUp.passwordLabel')}\n        value={password}\n        onChangeText={setPassword}\n        placeholder={t('signUp.passwordPlaceholder')}\n        secureTextEntry\n        error={errors.password}\n      />\n\n      <TouchableOpacity\n        style={[styles.button, loading && styles.buttonDisabled]}\n        onPress={handleSignUp}\n        disabled={loading}\n      >\n        {loading ? (\n          <ActivityIndicator color=\"#FFF\" />\n        ) : (\n          <Text style={styles.buttonText}>{t('signUp.signUpButton')}</Text>\n        )}\n      </TouchableOpacity>\n\n      <View style={styles.footer}>\n        <Text style={styles.footerText}>{t('signUp.hasAccount')} </Text>\n        <TouchableOpacity onPress={() => navigation.navigate('Login')}>\n          <Text style={styles.link}>{t('signUp.signIn')}</Text>\n        </TouchableOpacity>\n      </View>\n    </AuthLayout>\n  );\n};\n\nconst createStyles = (theme: Theme) =>\n  StyleSheet.create({\n    button: {\n      backgroundColor: theme.colors.primary,\n      padding: theme.spacing.m,\n      borderRadius: theme.spacing.m, // Consistent with AuthInput\n      alignItems: 'center',\n      marginTop: theme.spacing.m,\n      marginBottom: theme.spacing.l,\n      ...theme.shadows.small,\n    },\n    buttonDisabled: {\n      opacity: 0.7,\n    },\n    buttonText: {\n      ...theme.textVariants.button,\n      color: theme.colors.surface,\n    },\n    footer: {\n      flexDirection: 'row',\n      justifyContent: 'center',\n      marginTop: theme.spacing.s,\n    },\n    footerText: {\n      ...theme.textVariants.body,\n      color: theme.colors.subText,\n    },\n    link: {\n      ...theme.textVariants.body,\n      color: theme.colors.primary,\n      fontWeight: '600',\n    },\n  });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/chat/CompanyChatScreen.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/claims/AddClaimScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":31,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":31,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1250,1253],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1250,1253],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'showToast' is assigned a value but never used.","line":33,"column":13,"nodeType":null,"messageId":"unusedVar","endLine":33,"endColumn":22},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":58,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":58,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2534,2537],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2534,2537],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":61,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":61,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2676,2679],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2676,2679],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":65,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":65,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2859,2862],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2859,2862],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useMemo, useContext } from 'react';\nimport {\n    View,\n    Text,\n    StyleSheet,\n    TextInput,\n    ScrollView,\n    TouchableOpacity,\n    Platform,\n    Image,\n    Switch,\n} from 'react-native';\nimport { useTranslation } from 'react-i18next';\nimport { launchCamera, launchImageLibrary } from 'react-native-image-picker';\nimport { WebNavigationContext } from '../../navigation/WebNavigationContext';\nimport { claimsDb } from '../../database/claimsDb';\nimport { notificationService } from '../../services/notificationService';\nimport { useTheme } from '../../context/ThemeContext';\nimport { Theme } from '../../theme';\nimport { useAuth } from '../../context/AuthContext';\nimport { useToast } from '../../context/ToastContext';\nimport { useModal } from '../../context/ModalContext';\nimport { ClaimType } from '../../database/schema';\nimport { Dropdown } from '../../components/Dropdown';\nimport { useSelector } from 'react-redux';\nimport { selectAllCompanies } from '../../store/slices/companiesSlice';\nimport { selectAllTeams } from '../../store/slices/teamsSlice';\nimport { selectAllEmployees } from '../../store/slices/employeesSlice';\nimport { RootState } from '../../store';\n\nexport const AddClaimScreen = ({ navigation }: any) => {\n    const { theme } = useTheme();\n    const { showToast } = useToast();\n    const { showModal } = useModal();\n    const { t } = useTranslation();\n    const { user } = useAuth();\n    const styles = useMemo(() => createStyles(theme), [theme]);\n\n    const [type, setType] = useState<ClaimType>('material');\n    const [description, setDescription] = useState('');\n    const [isUrgent, setIsUrgent] = useState(false);\n    const [photoUri, setPhotoUri] = useState('');\n    const [errors, setErrors] = useState<{ description?: string }>({});\n    const [loading, setLoading] = useState(false);\n\n    const companies = useSelector((state: RootState) => selectAllCompanies(state));\n    const teams = useSelector((state: RootState) => selectAllTeams(state));\n    const employees = useSelector((state: RootState) => selectAllEmployees(state));\n\n    const [companyId, setCompanyId] = useState<number | null>(null);\n    const [teamId, setTeamId] = useState<number | null>(null);\n    const [employeeId, setEmployeeId] = useState<number | null>(user?.role === 'employee' && user?.id ? Number(user.id) : null);\n\n    const { setActiveTab } = useContext(WebNavigationContext);\n\n    const handleTakePhoto = async () => {\n        if (Platform.OS === 'web') {\n            const input = (window as any).document.createElement('input');\n            input.type = 'file';\n            input.accept = 'image/*';\n            input.onchange = (e: any) => {\n                const file = e.target.files[0];\n                if (file) {\n                    const reader = new FileReader();\n                    reader.onload = (event: any) => setPhotoUri(event.target.result);\n                    reader.readAsDataURL(file);\n                }\n            };\n            input.click();\n            return;\n        }\n\n        showModal({\n            title: t('illnesses.addPhoto'),\n            message: t('illnesses.chooseOption'),\n            buttons: [\n                {\n                    text: t('illnesses.takePhoto'),\n                    onPress: () => {\n                        launchCamera({ mediaType: 'photo', quality: 0.8 }, response => {\n                            if (response.assets && response.assets[0]?.uri) {\n                                setPhotoUri(response.assets[0].uri);\n                            }\n                        });\n                    },\n                },\n                {\n                    text: t('illnesses.chooseFromLibrary'),\n                    onPress: () => {\n                        launchImageLibrary({ mediaType: 'photo', quality: 0.8 }, response => {\n                            if (response.assets && response.assets[0]?.uri) {\n                                setPhotoUri(response.assets[0].uri);\n                            }\n                        });\n                    },\n                },\n                { text: t('common.cancel'), style: 'cancel' },\n            ],\n        });\n    };\n\n    const handleSave = async () => {\n        const newErrors: { description?: string } = {};\n        if (!description.trim()) {\n            newErrors.description = t('common.required');\n        }\n\n        setErrors(newErrors);\n        if (Object.keys(newErrors).length > 0) return;\n\n        setLoading(true);\n        try {\n            const claimData = {\n                type,\n                description: description.trim(),\n                isUrgent,\n                status: 'pending' as const,\n                photoUri: photoUri || undefined,\n                createdAt: new Date().toISOString(),\n                updatedAt: new Date().toISOString(),\n                companyId,\n                teamId,\n                employeeId: employeeId || 0,\n            };\n\n            await claimsDb.add(claimData);\n\n            showModal({\n                title: t('common.success'),\n                message: t('claims.successMessage'),\n                buttons: [{ text: 'OK', onPress: () => goBack() }]\n            });\n        } catch (error) {\n            console.error('Error saving claim:', error);\n            notificationService.showAlert(t('common.error'), t('claims.saveError'));\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const goBack = () => {\n        if (Platform.OS === 'web') {\n            setActiveTab('Home');\n        } else {\n            navigation.goBack();\n        }\n    };\n\n    const claimTypes = [\n        { label: t('claims.typeMaterial'), value: 'material' },\n        { label: t('claims.typeAccount'), value: 'account' },\n        { label: t('claims.typeOther'), value: 'other' },\n    ];\n\n    return (\n        <View style={styles.container}>\n            <ScrollView contentContainerStyle={styles.content}>\n                <View style={styles.formContainer}>\n                    <Text style={styles.title}>{t('claims.newClaim')}</Text>\n\n                    <View style={styles.section}>\n                        <View style={styles.fieldContainer}>\n                            <Dropdown\n                                label={t('claims.type')}\n                                data={claimTypes}\n                                value={type}\n                                onSelect={(val) => setType(val as ClaimType)}\n                            />\n                        </View>\n\n                        {/* Company / Team / Employee Selection */}\n                        <View style={styles.fieldContainer}>\n                            {(user?.role === 'admin' || user?.role === 'rh') && (\n                                <View style={[styles.fieldContainer, { marginBottom: theme.spacing.m }]}>\n                                    <Dropdown\n                                        label={t('companies.selectCompany')}\n                                        data={companies.map(c => ({ label: c.name, value: String(c.id) }))}\n                                        value={companyId ? String(companyId) : ''}\n                                        onSelect={(val) => setCompanyId(Number(val))}\n                                    />\n                                </View>\n                            )}\n                            {(user?.role === 'admin' || user?.role === 'rh') && (\n                                <View style={[styles.fieldContainer, { marginBottom: theme.spacing.m }]}>\n                                    <Dropdown\n                                        label={t('teams.selectTeam')}\n                                        data={teams.map(t => ({ label: t.name, value: String(t.id) }))}\n                                        value={teamId ? String(teamId) : ''}\n                                        onSelect={(val) => setTeamId(Number(val))}\n                                    />\n                                </View>\n                            )}\n                            {(user?.role === 'admin' || user?.role === 'rh') && (\n                                <View style={styles.fieldContainer}>\n                                    <Dropdown\n                                        label={t('employees.name')}\n                                        data={employees.map(e => ({ label: e.name, value: String(e.id) }))}\n                                        value={employeeId ? String(employeeId) : ''}\n                                        onSelect={(val) => setEmployeeId(Number(val))}\n                                    />\n                                </View>\n                            )}\n                        </View>\n\n                        <View style={styles.fieldContainer}>\n                            <Text style={styles.label}>{t('claims.description')} *</Text>\n                            <TextInput\n                                style={[styles.input, styles.textArea, errors.description && { borderColor: theme.colors.error }]}\n                                value={description}\n                                onChangeText={(text) => {\n                                    setDescription(text);\n                                    if (errors.description) setErrors({ ...errors, description: '' });\n                                }}\n                                placeholder={t('claims.descriptionPlaceholder')}\n                                placeholderTextColor={theme.colors.subText}\n                                multiline\n                                numberOfLines={6}\n                            />\n                            {errors.description && (\n                                <Text style={{ color: theme.colors.error, fontSize: 12, marginTop: 4 }}>\n                                    {errors.description}\n                                </Text>\n                            )}\n                        </View>\n\n                        <View style={styles.switchRow}>\n                            <View>\n                                <Text style={[styles.label, { color: theme.colors.error }]}>{t('common.urgent')}</Text>\n                                <Text style={styles.captionText}>{t('claims.urgentNote')}</Text>\n                            </View>\n                            <Switch\n                                value={isUrgent}\n                                onValueChange={setIsUrgent}\n                                trackColor={{\n                                    false: theme.colors.border,\n                                    true: theme.colors.error,\n                                }}\n                                thumbColor={theme.colors.surface}\n                            />\n                        </View>\n\n                        <View style={styles.photoSection}>\n                            <Text style={styles.label}>{t('illnesses.addPhoto')}</Text>\n                            <TouchableOpacity style={styles.photoButton} onPress={handleTakePhoto}>\n                                {photoUri ? (\n                                    <View style={styles.photoWrapper}>\n                                        <Image source={{ uri: photoUri }} style={styles.photo} />\n                                        <View style={styles.changePhotoOverlay}>\n                                            <Text style={styles.changePhotoText}>{t('profile.changePhoto')}</Text>\n                                        </View>\n                                    </View>\n                                ) : (\n                                    <View style={styles.photoPlaceholder}>\n                                        <Text style={styles.photoPlaceholderText}>\n                                            {t('illnesses.photoButton')}\n                                        </Text>\n                                    </View>\n                                )}\n                            </TouchableOpacity>\n                        </View>\n                    </View>\n\n                    <TouchableOpacity\n                        style={[styles.saveButton, loading && styles.saveButtonDisabled]}\n                        onPress={handleSave}\n                        disabled={loading}\n                    >\n                        <Text style={styles.saveButtonText}>\n                            {loading ? t('common.loading') : t('common.submit')}\n                        </Text>\n                    </TouchableOpacity>\n                </View>\n            </ScrollView>\n        </View>\n    );\n};\n\nconst createStyles = (theme: Theme) =>\n    StyleSheet.create({\n        container: { backgroundColor: theme.colors.background },\n        content: { padding: theme.spacing.m },\n        formContainer: {\n            maxWidth: Platform.OS === 'web' ? 600 : undefined,\n            width: '100%',\n            alignSelf: 'center',\n        },\n        title: {\n            ...theme.textVariants.header,\n            color: theme.colors.text,\n            marginBottom: theme.spacing.l,\n            textAlign: 'center'\n        },\n        section: {\n            backgroundColor: theme.colors.surface,\n            borderRadius: theme.spacing.m,\n            padding: theme.spacing.l,\n            marginBottom: theme.spacing.l,\n            ...theme.shadows.small,\n        },\n        fieldContainer: {\n            marginBottom: theme.spacing.m,\n        },\n        label: {\n            ...theme.textVariants.caption,\n            fontWeight: '600',\n            color: theme.colors.text,\n            marginBottom: theme.spacing.s,\n        },\n        input: {\n            backgroundColor: theme.colors.background,\n            borderRadius: theme.spacing.s,\n            padding: theme.spacing.m,\n            fontSize: 16,\n            color: theme.colors.text,\n            borderWidth: 1,\n            borderColor: theme.colors.border,\n        },\n        textArea: {\n            height: 120,\n            textAlignVertical: 'top'\n        },\n        switchRow: {\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginTop: theme.spacing.m,\n            paddingTop: theme.spacing.m,\n            borderTopWidth: 1,\n            borderTopColor: theme.colors.border\n        },\n        captionText: {\n            ...theme.textVariants.caption,\n            color: theme.colors.subText,\n        },\n        saveButton: {\n            backgroundColor: theme.colors.primary,\n            padding: theme.spacing.m,\n            borderRadius: theme.spacing.s,\n            alignItems: 'center',\n            marginTop: theme.spacing.l,\n        },\n        saveButtonDisabled: { opacity: 0.5 },\n        saveButtonText: {\n            ...theme.textVariants.button,\n            color: theme.colors.surface,\n        },\n        photoSection: {\n            marginTop: theme.spacing.l,\n            paddingTop: theme.spacing.m,\n            borderTopWidth: 1,\n            borderTopColor: theme.colors.border,\n        },\n        photoButton: {\n            alignItems: 'center',\n            marginTop: theme.spacing.s,\n        },\n        photoWrapper: {\n            width: '100%',\n            height: 200,\n            borderRadius: theme.spacing.s,\n            overflow: 'hidden',\n        },\n        photo: {\n            width: '100%',\n            height: '100%',\n        },\n        changePhotoOverlay: {\n            position: 'absolute',\n            bottom: 0,\n            left: 0,\n            right: 0,\n            backgroundColor: 'rgba(0,0,0,0.5)',\n            padding: 8,\n            alignItems: 'center',\n        },\n        changePhotoText: {\n            color: '#FFF',\n            fontSize: 12,\n            fontWeight: '600',\n        },\n        photoPlaceholder: {\n            width: '100%',\n            height: 120,\n            borderRadius: theme.spacing.s,\n            backgroundColor: theme.colors.background,\n            justifyContent: 'center',\n            alignItems: 'center',\n            borderWidth: 2,\n            borderColor: theme.colors.border,\n            borderStyle: 'dashed',\n        },\n        photoPlaceholderText: {\n            ...theme.textVariants.body,\n            color: theme.colors.subText,\n            textAlign: 'center',\n        },\n    });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/claims/AddInvoiceScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'RootState' is defined but never used.","line":22,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":22,"endColumn":19},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":27,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1018,1021],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1018,1021],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":53,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":53,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1969,1972],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1969,1972],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":56,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":56,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2111,2114],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2111,2114],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":60,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":60,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2294,2297],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2294,2297],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useMemo, useEffect } from 'react';\nimport {\n    View,\n    Text,\n    StyleSheet,\n    TextInput,\n    ScrollView,\n    TouchableOpacity,\n    Image,\n    Platform,\n    ActivityIndicator,\n} from 'react-native';\nimport { useTranslation } from 'react-i18next';\nimport { launchCamera, launchImageLibrary } from 'react-native-image-picker';\nimport { invoicesDb } from '../../database/invoicesDb';\nimport { useTheme } from '../../context/ThemeContext';\nimport { Theme } from '../../theme';\nimport { useAuth } from '../../context/AuthContext';\nimport { useModal } from '../../context/ModalContext';\nimport { notificationService } from '../../services/notificationService';\nimport { useSelector } from 'react-redux';\nimport { RootState } from '../../store';\nimport { selectAllCurrencies } from '../../store/slices/currenciesSlice';\nimport { Dropdown } from '../../components/Dropdown';\nimport { selectAllServices } from '../../store/slices/servicesSlice';\n\nexport const AddInvoiceScreen = ({ navigation }: any) => {\n    const { theme } = useTheme();\n    const { t } = useTranslation();\n    const { user } = useAuth();\n    const { showModal } = useModal();\n    const styles = useMemo(() => createStyles(theme), [theme]);\n\n    const currencies = useSelector(selectAllCurrencies);\n    const services = useSelector(selectAllServices);\n\n    const [description, setDescription] = useState('');\n    const [amount, setAmount] = useState('');\n    const [currency, setCurrency] = useState('EUR');\n    const [photoUri, setPhotoUri] = useState('');\n    const [department, setDepartment] = useState('');\n    const [loading, setLoading] = useState(false);\n    const [errors, setErrors] = useState<{ [key: string]: string }>({});\n\n    useEffect(() => {\n        if (user?.department) {\n            setDepartment(user.department);\n        }\n    }, [user]);\n\n    const handleTakePhoto = async () => {\n        if (Platform.OS === 'web') {\n            const input = (window as any).document.createElement('input');\n            input.type = 'file';\n            input.accept = 'image/*';\n            input.onchange = (e: any) => {\n                const file = e.target.files[0];\n                if (file) {\n                    const reader = new FileReader();\n                    reader.onload = (event: any) => setPhotoUri(event.target.result);\n                    reader.readAsDataURL(file);\n                }\n            };\n            input.click();\n            return;\n        }\n\n        showModal({\n            title: t('invoices.photoButton'),\n            message: t('illnesses.chooseOption'),\n            buttons: [\n                {\n                    text: t('illnesses.takePhoto'),\n                    onPress: () => {\n                        launchCamera({ mediaType: 'photo', quality: 0.8 }, response => {\n                            if (response.assets?.[0]?.uri) setPhotoUri(response.assets[0].uri);\n                        });\n                    },\n                },\n                {\n                    text: t('illnesses.chooseFromLibrary'),\n                    onPress: () => {\n                        launchImageLibrary({ mediaType: 'photo', quality: 0.8 }, response => {\n                            if (response.assets?.[0]?.uri) setPhotoUri(response.assets[0].uri);\n                        });\n                    },\n                },\n                { text: t('common.cancel'), style: 'cancel' },\n            ],\n        });\n    };\n\n    const handleSave = async () => {\n        const newErrors: { [key: string]: string } = {};\n        if (!description.trim()) newErrors.description = t('common.required');\n        if (!amount.trim() || isNaN(Number(amount))) newErrors.amount = t('common.required');\n\n        setErrors(newErrors);\n        if (Object.keys(newErrors).length > 0) return;\n\n        setLoading(true);\n        try {\n            await invoicesDb.add({\n                employeeId: user?.employeeId || 0,\n                employeeName: user?.name,\n                amount: Number(amount),\n                currency,\n                description: description.trim(),\n                photoUri: photoUri || undefined,\n                status: 'pending',\n                companyId: user?.companyId,\n                teamId: user?.teamId,\n                department,\n            });\n\n            navigation.goBack();\n        } catch (error) {\n            console.error('Error saving invoice:', error);\n            notificationService.showAlert(t('common.error'), t('invoices.saveError'));\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <View style={styles.container}>\n            <ScrollView contentContainerStyle={styles.content}>\n                <View style={styles.section}>\n                    <Text style={styles.label}>{t('invoices.description')} *</Text>\n                    <TextInput\n                        style={[styles.input, errors.description && styles.inputError]}\n                        value={description}\n                        onChangeText={setDescription}\n                        placeholder={t('invoices.descriptionPlaceholder')}\n                        placeholderTextColor={theme.colors.subText}\n                        multiline\n                    />\n                    {errors.description && <Text style={styles.errorText}>{errors.description}</Text>}\n\n                    <View style={styles.row}>\n                        <View style={{ flex: 2, marginRight: 10 }}>\n                            <Text style={styles.label}>{t('invoices.amount')} *</Text>\n                            <TextInput\n                                style={[styles.input, errors.amount && styles.inputError]}\n                                value={amount}\n                                onChangeText={setAmount}\n                                placeholder={t('invoices.amountPlaceholder')}\n                                placeholderTextColor={theme.colors.subText}\n                                keyboardType=\"numeric\"\n                            />\n                            {errors.amount && <Text style={styles.errorText}>{errors.amount}</Text>}\n                        </View>\n                        <View style={{ flex: 1 }}>\n                            <Dropdown\n                                label={t('invoices.currency')}\n                                data={currencies.map(c => ({ label: c.code, value: c.code }))}\n                                value={currency}\n                                onSelect={setCurrency}\n                            />\n                        </View>\n                    </View>\n\n                    <Dropdown\n                        label={t('common.service')}\n                        data={services.map(s => ({ label: s.name, value: s.name }))}\n                        value={department}\n                        onSelect={setDepartment}\n                    />\n\n                    <TouchableOpacity style={styles.photoButton} onPress={handleTakePhoto}>\n                        {photoUri ? (\n                            <Image source={{ uri: photoUri }} style={styles.photo} />\n                        ) : (\n                            <View style={styles.photoPlaceholder}>\n                                <Text style={styles.photoPlaceholderText}>{t('invoices.photoButton')}</Text>\n                            </View>\n                        )}\n                    </TouchableOpacity>\n                </View>\n\n                <TouchableOpacity\n                    style={[styles.saveButton, loading && { opacity: 0.7 }]}\n                    onPress={handleSave}\n                    disabled={loading}\n                >\n                    {loading ? (\n                        <ActivityIndicator color=\"#FFF\" />\n                    ) : (\n                        <Text style={styles.saveButtonText}>{t('invoices.saveButton')}</Text>\n                    )}\n                </TouchableOpacity>\n            </ScrollView>\n        </View>\n    );\n};\n\nconst createStyles = (theme: Theme) =>\n    StyleSheet.create({\n        container: { backgroundColor: theme.colors.background },\n        content: { padding: theme.spacing.m, maxWidth: 600, width: '100%', alignSelf: 'center' },\n        section: {\n            backgroundColor: theme.colors.surface,\n            borderRadius: 12,\n            padding: theme.spacing.m,\n            ...theme.shadows.small,\n        },\n        label: {\n            ...theme.textVariants.caption,\n            fontWeight: '600',\n            color: theme.colors.text,\n            marginBottom: 8,\n            marginTop: 16,\n        },\n        input: {\n            backgroundColor: theme.colors.background,\n            borderRadius: 8,\n            padding: 12,\n            color: theme.colors.text,\n            borderWidth: 1,\n            borderColor: theme.colors.border,\n        },\n        inputError: { borderColor: theme.colors.error },\n        errorText: { color: theme.colors.error, fontSize: 12, marginTop: 4 },\n        row: { flexDirection: 'row', alignItems: 'flex-end', marginBottom: 16 },\n        photoButton: {\n            marginTop: 24,\n            alignItems: 'center',\n        },\n        photo: { width: '100%', height: 200, borderRadius: 8 },\n        photoPlaceholder: {\n            width: '100%',\n            height: 120,\n            borderRadius: 8,\n            backgroundColor: theme.colors.background,\n            justifyContent: 'center',\n            alignItems: 'center',\n            borderWidth: 1,\n            borderColor: theme.colors.primary,\n            borderStyle: 'dashed',\n        },\n        photoPlaceholderText: { color: theme.colors.primary, fontWeight: '600' },\n        saveButton: {\n            backgroundColor: theme.colors.primary,\n            padding: 16,\n            borderRadius: 8,\n            alignItems: 'center',\n            marginTop: 24,\n        },\n        saveButtonText: { color: '#FFF', fontWeight: 'bold', fontSize: 16 },\n    });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/claims/ClaimDetailsScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Platform' is defined but never used.","line":8,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":13},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'navigation' is defined but never used.","line":21,"column":38,"nodeType":null,"messageId":"unusedVar","endLine":21,"endColumn":48},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":21,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[728,731],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[728,731],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":39,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":39,"endColumn":23},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":53,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":53,"endColumn":23}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useMemo } from 'react';\nimport {\n    View,\n    Text,\n    StyleSheet,\n    ScrollView,\n    TouchableOpacity,\n    Platform,\n    Image,\n} from 'react-native';\nimport { claimsDb } from '../../database/claimsDb';\nimport { notificationService } from '../../services/notificationService';\nimport { Claim } from '../../database/schema';\nimport { useTranslation } from 'react-i18next';\nimport { useTheme } from '../../context/ThemeContext';\nimport { Theme } from '../../theme';\nimport { formatDateTime } from '../../utils/dateUtils';\nimport { useAuth } from '../../context/AuthContext';\nimport { useToast } from '../../context/ToastContext';\n\nexport const ClaimDetailsScreen = ({ navigation, route }: any) => {\n    const { user } = useAuth();\n    const { showToast } = useToast();\n    const { claimId } = route.params;\n    const { theme } = useTheme();\n    const { t } = useTranslation();\n    const styles = useMemo(() => createStyles(theme), [theme]);\n    const [claim, setClaim] = useState<Claim | null>(null);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        loadClaim();\n    }, [claimId]);\n\n    const loadClaim = async () => {\n        try {\n            const data = await claimsDb.getById(claimId);\n            setClaim(data);\n        } catch (error) {\n            showToast(t('claims.loadError'), 'error');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleUpdateStatus = async (status: 'processed' | 'rejected') => {\n        if (!claim) return;\n        try {\n            setLoading(true);\n            await claimsDb.update(claimId, { status });\n            setClaim({ ...claim, status });\n            notificationService.showAlert(t('common.success'), t('claims.statusUpdated'));\n        } catch (error) {\n            notificationService.showAlert(t('common.error'), t('claims.updateError'));\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    if (loading || !claim) {\n        return (\n            <View style={styles.container}>\n                <Text style={{ color: theme.colors.text }}>{t('common.loading')}</Text>\n            </View>\n        );\n    }\n\n    return (\n        <View style={styles.container}>\n            <ScrollView contentContainerStyle={styles.content}>\n                <View style={styles.section}>\n                    <View style={styles.headerRow}>\n                        <View style={styles.typeTag}>\n                            <Text style={styles.typeText}>\n                                {t(`claims.type${claim.type.charAt(0).toUpperCase() + claim.type.slice(1)}`)}\n                            </Text>\n                        </View>\n                        {claim.isUrgent && (\n                            <View style={styles.urgentTag}>\n                                <Text style={styles.urgentText}>{t('common.urgent').toUpperCase()}</Text>\n                            </View>\n                        )}\n                    </View>\n\n                    <Text style={styles.date}>{formatDateTime(claim.createdAt)}</Text>\n\n                    <View style={[styles.statusBadge, { backgroundColor: getStatusColor(claim.status, theme) + '20' }]}>\n                        <Text style={[styles.statusText, { color: getStatusColor(claim.status, theme) }]}>\n                            {t(`claims.status${claim.status.charAt(0).toUpperCase() + claim.status.slice(1)}`)}\n                        </Text>\n                    </View>\n                </View>\n\n                <View style={styles.section}>\n                    <Text style={styles.label}>{t('claims.description')}</Text>\n                    <Text style={styles.value}>{claim.description}</Text>\n                </View>\n\n                {claim.photoUri && (\n                    <View style={styles.section}>\n                        <Text style={styles.label}>{t('illnesses.photoButton')}</Text>\n                        <TouchableOpacity\n                            onPress={() => {\n                                // Potentially add full screen view later\n                            }}\n                        >\n                            <Image source={{ uri: claim.photoUri }} style={styles.photo} resizeMode=\"contain\" />\n                        </TouchableOpacity>\n                    </View>\n                )}\n\n                {(user?.role === 'admin' || user?.role === 'rh') && claim.status === 'pending' && (\n                    <View style={styles.adminActions}>\n                        <TouchableOpacity\n                            style={[styles.button, styles.approveButton]}\n                            onPress={() => handleUpdateStatus('processed')}\n                        >\n                            <Text style={styles.buttonText}>{t('claims.process')}</Text>\n                        </TouchableOpacity>\n                        <TouchableOpacity\n                            style={[styles.button, styles.rejectButton]}\n                            onPress={() => handleUpdateStatus('rejected')}\n                        >\n                            <Text style={styles.buttonText}>{t('claims.reject')}</Text>\n                        </TouchableOpacity>\n                    </View>\n                )}\n            </ScrollView>\n        </View>\n    );\n};\n\nconst getStatusColor = (status: string, theme: Theme) => {\n    switch (status) {\n        case 'processed': return theme.colors.success;\n        case 'rejected': return theme.colors.error;\n        default: return theme.colors.warning;\n    }\n};\n\nconst createStyles = (theme: Theme) =>\n    StyleSheet.create({\n        container: {\n            backgroundColor: theme.colors.background,\n        },\n        content: {\n            padding: theme.spacing.m,\n            paddingBottom: 40,\n            maxWidth: 600,\n            width: '100%',\n            alignSelf: 'center',\n        },\n        section: {\n            backgroundColor: theme.colors.surface,\n            borderRadius: 20,\n            padding: theme.spacing.l,\n            marginBottom: theme.spacing.m,\n            ...theme.shadows.small,\n            borderWidth: 1,\n            borderColor: theme.colors.border,\n        },\n        headerRow: {\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: theme.spacing.m,\n        },\n        typeTag: {\n            backgroundColor: theme.colors.background,\n            paddingHorizontal: 12,\n            paddingVertical: 6,\n            borderRadius: 10,\n        },\n        typeText: {\n            ...theme.textVariants.caption,\n            fontWeight: '700',\n            color: theme.colors.text,\n            textTransform: 'uppercase',\n            fontSize: 11,\n        },\n        urgentTag: {\n            backgroundColor: theme.colors.error,\n            paddingHorizontal: 10,\n            paddingVertical: 6,\n            borderRadius: 8,\n        },\n        urgentText: {\n            fontSize: 10,\n            fontWeight: 'bold',\n            color: '#FFF',\n            textTransform: 'uppercase',\n        },\n        date: {\n            ...theme.textVariants.body,\n            color: theme.colors.subText,\n            marginBottom: theme.spacing.m,\n            fontSize: 14,\n            fontWeight: '500',\n        },\n        label: {\n            ...theme.textVariants.caption,\n            marginBottom: 6,\n            color: theme.colors.subText,\n            fontWeight: '700',\n            textTransform: 'uppercase',\n            fontSize: 11,\n            letterSpacing: 0.5,\n        },\n        value: {\n            ...theme.textVariants.body,\n            color: theme.colors.text,\n            lineHeight: 24,\n        },\n        statusBadge: {\n            alignSelf: 'flex-start',\n            paddingHorizontal: 16,\n            paddingVertical: 6,\n            borderRadius: 12,\n            marginTop: theme.spacing.s,\n        },\n        statusText: {\n            fontSize: 13,\n            fontWeight: 'bold',\n            textTransform: 'uppercase',\n            letterSpacing: 0.5,\n        },\n        adminActions: {\n            flexDirection: 'row',\n            gap: theme.spacing.m,\n            marginTop: theme.spacing.m,\n        },\n        button: {\n            flex: 1,\n            padding: theme.spacing.m,\n            borderRadius: 12,\n            alignItems: 'center',\n            ...theme.shadows.small,\n        },\n        approveButton: {\n            backgroundColor: theme.colors.success,\n        },\n        rejectButton: {\n            backgroundColor: theme.colors.error,\n        },\n        buttonText: {\n            ...theme.textVariants.button,\n            color: '#FFF',\n            textTransform: 'uppercase',\n            letterSpacing: 1,\n        },\n        photo: {\n            width: '100%',\n            height: 350,\n            borderRadius: 16,\n            marginTop: theme.spacing.m,\n        },\n    });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/claims/ClaimsListScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'FlatList' is defined but never used.","line":6,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":11},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":23,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":23,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[836,839],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[836,839],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":74,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":74,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2474,2477],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2474,2477],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":226,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":226,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6940,6943],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6940,6943],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":234,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":234,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7302,7305],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7302,7305],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":388,"column":10,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":388,"endColumn":13,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11376,11379],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11376,11379],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useCallback, useMemo } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  FlatList,\n  TouchableOpacity,\n  ActivityIndicator,\n  ScrollView,\n} from 'react-native';\nimport { useFocusEffect } from '@react-navigation/native';\nimport { useTranslation } from 'react-i18next';\nimport { claimsDb } from '../../database/claimsDb';\nimport { employeesDb } from '../../database/employeesDb';\nimport { companiesDb } from '../../database/companiesDb';\nimport { teamsDb } from '../../database/teamsDb';\nimport { Claim, Employee, Company, Team } from '../../database/schema';\nimport { useTheme } from '../../context/ThemeContext';\nimport { Theme } from '../../theme';\nimport { useAuth } from '../../context/AuthContext';\nimport { formatDate } from '../../utils/dateUtils';\n\nexport const ClaimsListScreen = ({ navigation }: any) => {\n  const { user } = useAuth();\n  const { theme } = useTheme();\n  const { t } = useTranslation();\n  const styles = useMemo(() => createStyles(theme), [theme]);\n\n  const [claims, setClaims] = useState<Claim[]>([]);\n  const [employees, setEmployees] = useState<Employee[]>([]);\n  const [companies, setCompanies] = useState<Company[]>([]);\n  const [teams, setTeams] = useState<Team[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  const loadData = async () => {\n    try {\n      const [claimsData, employeesData, companiesData, teamsData] = await Promise.all([\n        claimsDb.getAll(),\n        employeesDb.getAll(),\n        companiesDb.getAll(),\n        teamsDb.getAll(),\n      ]);\n\n      let filteredClaims = claimsData;\n      if (user?.role === 'employee' && user?.employeeId) {\n        filteredClaims = claimsData.filter(c => c.employeeId === user.employeeId);\n      }\n\n      // Sort by urgency and date\n      filteredClaims.sort((a, b) => {\n        if (a.isUrgent && !b.isUrgent) return -1;\n        if (!a.isUrgent && b.isUrgent) return 1;\n        return (\n          new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()\n        );\n      });\n\n      setClaims([...filteredClaims]);\n      setEmployees(employeesData);\n      setCompanies(companiesData);\n      setTeams(teamsData);\n    } catch (error) {\n      console.error('Error loading data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const groupedData = useMemo(() => {\n    if (user?.role !== 'admin' && user?.role !== 'rh') {\n      return [{ type: 'direct', items: claims }];\n    }\n\n    const companiesMap = new Map<number | string, any>();\n\n    claims.forEach(claim => {\n      const employee = employees.find(e => e.id === claim.employeeId);\n      const companyId = employee?.companyId || 'other';\n      const teamId = employee?.teamId || 'other';\n\n      if (!companiesMap.has(companyId)) {\n        const company = companies.find(c => c.id === companyId);\n        companiesMap.set(companyId, {\n          id: companyId,\n          name: company?.name || 'Autres Entreprises',\n          teams: new Map(),\n        });\n      }\n\n      const companyGroup = companiesMap.get(companyId);\n      if (!companyGroup.teams.has(teamId)) {\n        const team = teams.find(t => t.id === teamId);\n        const manager = employees.find(e => e.id === team?.managerId);\n        companyGroup.teams.set(teamId, {\n          id: teamId,\n          name: team?.name || 'Sans Équipe',\n          managerName: manager?.name || 'N/A',\n          items: [],\n        });\n      }\n\n      companyGroup.teams.get(teamId).items.push(claim);\n    });\n\n    return Array.from(companiesMap.values()).map(c => ({\n      ...c,\n      teams: Array.from(c.teams.values()),\n    }));\n  }, [claims, user?.role, employees, companies, teams]);\n\n  const handleUpdateStatus = async (\n    id: number,\n    status: 'processed' | 'rejected',\n  ) => {\n    try {\n      await claimsDb.update(id, { status });\n      loadData(); // Reload list\n    } catch (error) {\n      console.error('Failed to update status', error);\n    }\n  };\n\n  useFocusEffect(\n    useCallback(() => {\n      loadData();\n    }, [user]),\n  );\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'processed':\n        return theme.colors.success;\n      case 'rejected':\n        return theme.colors.error;\n      default:\n        return theme.colors.warning;\n    }\n  };\n\n  const renderClaim = (item: Claim) => (\n    <TouchableOpacity\n      key={item.id}\n      style={styles.card}\n      onPress={() => navigation.navigate('ClaimDetails', { claimId: item.id })}\n    >\n      <View style={styles.cardHeader}>\n        <View style={styles.typeTag}>\n          <Text style={styles.typeText}>\n            {t(\n              `claims.type${item.type.charAt(0).toUpperCase() + item.type.slice(1)\n              }`,\n            )}\n          </Text>\n        </View>\n        <View\n          style={[\n            styles.statusTag,\n            { backgroundColor: getStatusColor(item.status) + '20' },\n          ]}\n        >\n          <Text\n            style={[styles.statusText, { color: getStatusColor(item.status) }]}\n          >\n            {t(\n              `claims.status${item.status.charAt(0).toUpperCase() + item.status.slice(1)\n              }`,\n            )}\n          </Text>\n        </View>\n      </View>\n\n      <Text style={styles.description} numberOfLines={2}>\n        {item.description}\n      </Text>\n\n      <View style={styles.footer}>\n        <Text style={styles.date}>\n          {formatDate(item.createdAt)}\n        </Text>\n        {item.isUrgent && (\n          <View style={styles.urgentTag}>\n            <Text style={styles.urgentText}>\n              {t('common.urgent').toUpperCase()}\n            </Text>\n          </View>\n        )}\n      </View>\n\n      {/* Admin Actions */}\n      {(user?.role === 'admin' || user?.role === 'rh') &&\n        item.status === 'pending' && (\n          <View style={styles.adminActions}>\n            <TouchableOpacity\n              style={[styles.actionBtn, styles.approveBtn]}\n              onPress={() => handleUpdateStatus(item.id!, 'processed')}\n            >\n              <Text style={styles.actionBtnText}>{t('claims.process')}</Text>\n            </TouchableOpacity>\n            <TouchableOpacity\n              style={[styles.actionBtn, styles.rejectBtn]}\n              onPress={() => handleUpdateStatus(item.id!, 'rejected')}\n            >\n              <Text style={styles.actionBtnText}>{t('claims.reject')}</Text>\n            </TouchableOpacity>\n          </View>\n        )}\n    </TouchableOpacity>\n  );\n\n  return (\n    <View style={styles.container}>\n      {loading ? (\n        <ActivityIndicator\n          size=\"large\"\n          color={theme.colors.primary}\n          style={{ marginTop: 20 }}\n        />\n      ) : (\n        <ScrollView contentContainerStyle={styles.listContent}>\n          {groupedData.length === 0 && (\n            <View style={styles.emptyContainer}>\n              <Text style={styles.emptyText}>{t('claims.empty')}</Text>\n            </View>\n          )}\n\n          {groupedData.map((companyGroup: any) => (\n            <View key={companyGroup.id} style={styles.companySection}>\n              {companyGroup.name !== 'direct' && (\n                <View style={styles.companyHeader}>\n                  <Text style={styles.companyName}>{companyGroup.name}</Text>\n                </View>\n              )}\n\n              {(companyGroup.teams || []).map((teamGroup: any) => (\n                <View key={teamGroup.id} style={styles.teamSection}>\n                  {teamGroup.name && (\n                    <View style={styles.teamHeader}>\n                      <View style={styles.teamInfo}>\n                        <Text style={styles.teamName}>{teamGroup.name}</Text>\n                        <Text style={styles.teamManager}>Chef: {teamGroup.managerName}</Text>\n                      </View>\n                    </View>\n                  )}\n                  {teamGroup.items.map((claim: Claim) => renderClaim(claim))}\n                </View>\n              ))}\n\n              {companyGroup.type === 'direct' && companyGroup.items.map((claim: Claim) => renderClaim(claim))}\n            </View>\n          ))}\n        </ScrollView>\n      )}\n\n      {/* Add Claim FAB */}\n      <TouchableOpacity\n        style={styles.fab}\n        onPress={() => navigation.navigate('AddClaim')}\n      >\n        <Text style={styles.fabText}>+</Text>\n      </TouchableOpacity>\n    </View>\n  );\n};\n\nconst createStyles = (theme: Theme) =>\n  StyleSheet.create({\n    container: {\n      flex: 1,\n      backgroundColor: theme.colors.background,\n    },\n    listContent: {\n      padding: theme.spacing.m,\n      maxWidth: 800,\n      width: '100%',\n      alignSelf: 'center',\n    },\n    card: {\n      backgroundColor: theme.colors.surface,\n      borderRadius: 16,\n      padding: theme.spacing.m,\n      marginBottom: theme.spacing.m,\n      ...theme.shadows.small,\n      borderLeftWidth: 4,\n      borderLeftColor: theme.colors.primary,\n      borderWidth: 1,\n      borderColor: theme.colors.border,\n    },\n    cardHeader: {\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      marginBottom: theme.spacing.m,\n    },\n    typeTag: {\n      backgroundColor: theme.colors.background,\n      paddingHorizontal: 10,\n      paddingVertical: 4,\n      borderRadius: 8,\n    },\n    typeText: {\n      ...theme.textVariants.caption,\n      fontWeight: '700',\n      color: theme.colors.text,\n      fontSize: 11,\n      textTransform: 'uppercase',\n    },\n    statusTag: {\n      paddingHorizontal: 10,\n      paddingVertical: 4,\n      borderRadius: 8,\n    },\n    statusText: {\n      fontSize: 11,\n      fontWeight: 'bold',\n      textTransform: 'uppercase',\n    },\n    description: {\n      ...theme.textVariants.body,\n      color: theme.colors.text,\n      marginBottom: theme.spacing.m,\n      lineHeight: 20,\n    },\n    footer: {\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      borderTopWidth: 1,\n      borderTopColor: theme.colors.border,\n      paddingTop: theme.spacing.m,\n    },\n    date: {\n      ...theme.textVariants.caption,\n      color: theme.colors.subText,\n      fontWeight: '500',\n    },\n    urgentTag: {\n      backgroundColor: theme.colors.error,\n      paddingHorizontal: 8,\n      paddingVertical: 4,\n      borderRadius: 4,\n    },\n    urgentText: {\n      fontSize: 9,\n      fontWeight: 'bold',\n      color: theme.colors.background,\n    },\n    emptyContainer: {\n      alignItems: 'center',\n      marginTop: 40,\n    },\n    emptyText: {\n      ...theme.textVariants.body,\n      color: theme.colors.subText,\n    },\n    adminActions: {\n      flexDirection: 'row',\n      marginTop: theme.spacing.m,\n      paddingTop: theme.spacing.s,\n      borderTopWidth: 1,\n      borderTopColor: theme.colors.border,\n      justifyContent: 'flex-end',\n      gap: theme.spacing.s,\n    },\n    actionBtn: {\n      paddingHorizontal: 12,\n      paddingVertical: 6,\n      borderRadius: 4,\n    },\n    approveBtn: { backgroundColor: theme.colors.success },\n    rejectBtn: { backgroundColor: theme.colors.error },\n    actionBtnText: {\n      fontSize: 12,\n      fontWeight: '600',\n      color: theme.colors.background,\n    },\n    fab: {\n      position: 'absolute',\n      bottom: 24,\n      right: 24,\n      width: 56,\n      height: 56,\n      borderRadius: 28,\n      backgroundColor: theme.colors.primary,\n      justifyContent: 'center',\n      alignItems: 'center',\n      ...theme.shadows.large,\n      zIndex: 999,\n    } as any,\n    fabText: {\n      fontSize: 32,\n      color: theme.colors.background,\n      marginTop: -2,\n    },\n    companySection: {\n      marginBottom: theme.spacing.l,\n    },\n    companyHeader: {\n      flexDirection: 'row',\n      alignItems: 'center',\n      paddingVertical: theme.spacing.s,\n      borderBottomWidth: 2,\n      borderBottomColor: theme.colors.primary,\n      marginBottom: theme.spacing.m,\n    },\n    companyName: {\n      ...theme.textVariants.header,\n      color: theme.colors.primary,\n      fontSize: 20,\n    },\n    teamSection: {\n      marginLeft: theme.spacing.m,\n      marginBottom: theme.spacing.m,\n    },\n    teamHeader: {\n      flexDirection: 'row',\n      alignItems: 'center',\n      marginBottom: theme.spacing.s,\n      backgroundColor: theme.colors.background,\n      padding: theme.spacing.s,\n      borderRadius: theme.spacing.s,\n    },\n    teamInfo: {\n      flex: 1,\n    },\n    teamName: {\n      ...theme.textVariants.subheader,\n      color: theme.colors.text,\n      fontSize: 16,\n    },\n    teamManager: {\n      ...theme.textVariants.caption,\n      color: theme.colors.subText,\n      fontStyle: 'italic',\n    },\n  });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/claims/InvoiceListScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'FlatList' is defined but never used.","line":6,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":13},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":23,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":23,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[857,860],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[857,860],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":90,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":90,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3298,3301],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3298,3301],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":213,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":213,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8297,8300],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8297,8300],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":221,"column":77,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":221,"endColumn":80,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8859,8862],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8859,8862],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useCallback, useMemo } from 'react';\nimport {\n    View,\n    Text,\n    StyleSheet,\n    FlatList,\n    TouchableOpacity,\n    ActivityIndicator,\n    ScrollView,\n} from 'react-native';\nimport { useFocusEffect } from '@react-navigation/native';\nimport { useTranslation } from 'react-i18next';\nimport { invoicesDb } from '../../database/invoicesDb';\nimport { employeesDb } from '../../database/employeesDb';\nimport { companiesDb } from '../../database/companiesDb';\nimport { teamsDb } from '../../database/teamsDb';\nimport { Invoice, Employee, Company, Team } from '../../database/schema';\nimport { useTheme } from '../../context/ThemeContext';\nimport { Theme } from '../../theme';\nimport { useAuth } from '../../context/AuthContext';\nimport { formatDate } from '../../utils/dateUtils';\n\nexport const InvoiceListScreen = ({ navigation }: any) => {\n    const { user } = useAuth();\n    const { theme } = useTheme();\n    const { t } = useTranslation();\n    const styles = useMemo(() => createStyles(theme), [theme]);\n\n    const [invoices, setInvoices] = useState<Invoice[]>([]);\n    const [employees, setEmployees] = useState<Employee[]>([]);\n    const [companies, setCompanies] = useState<Company[]>([]);\n    const [teams, setTeams] = useState<Team[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [activeView, setActiveView] = useState<'all' | 'mine'>('mine');\n\n    const loadData = async () => {\n        try {\n            const [invoicesData, employeesData, companiesData, teamsData] = await Promise.all([\n                invoicesDb.getAll(),\n                employeesDb.getAll(),\n                companiesDb.getAll(),\n                teamsDb.getAll(),\n            ]);\n\n            setInvoices(invoicesData);\n            setEmployees(employeesData);\n            setCompanies(companiesData);\n            setTeams(teamsData);\n        } catch (error) {\n            console.error('Error loading data:', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    useFocusEffect(\n        useCallback(() => {\n            loadData();\n        }, [user]),\n    );\n\n    const filteredInvoices = useMemo(() => {\n        if (activeView === 'mine') {\n            return invoices.filter(i => i.employeeId === user?.employeeId);\n        }\n\n        if (user?.role === 'admin' || user?.role === 'rh') {\n            return invoices;\n        }\n\n        if (user?.role === 'chef_dequipe') {\n            // Find team members\n            const teamEmployees = employees.filter(e => e.teamId === user?.teamId);\n            const teamEmployeeIds = teamEmployees.map(e => e.id);\n            return invoices.filter(i => teamEmployeeIds.includes(i.employeeId));\n        }\n\n        return invoices.filter(i => i.employeeId === user?.employeeId);\n    }, [invoices, user, activeView, employees]);\n\n    const groupedData = useMemo(() => {\n        if (activeView === 'mine' || (user?.role !== 'admin' && user?.role !== 'rh' && user?.role !== 'chef_dequipe')) {\n            return [{ id: 'mine', name: t('invoices.myInvoices'), items: filteredInvoices }];\n        }\n\n        if (user?.role === 'chef_dequipe') {\n            return [{ id: 'team', name: t('invoices.teamInvoices'), items: filteredInvoices }];\n        }\n\n        const companiesMap = new Map<number | string, any>();\n\n        filteredInvoices.forEach(invoice => {\n            const employee = employees.find(e => e.id === invoice.employeeId);\n            const companyId = employee?.companyId || 'other';\n            const teamId = employee?.teamId || 'other';\n\n            if (!companiesMap.has(companyId)) {\n                const company = companies.find(c => c.id === companyId);\n                companiesMap.set(companyId, {\n                    id: companyId,\n                    name: company?.name || 'Autres Entreprises',\n                    teams: new Map(),\n                });\n            }\n\n            const companyGroup = companiesMap.get(companyId);\n            if (!companyGroup.teams.has(teamId)) {\n                const team = teams.find(t => t.id === teamId);\n                const manager = employees.find(e => e.id === team?.managerId);\n                companyGroup.teams.set(teamId, {\n                    id: teamId,\n                    name: team?.name || 'Sans Équipe',\n                    managerName: manager?.name || 'N/A',\n                    items: [],\n                });\n            }\n\n            companyGroup.teams.get(teamId).items.push(invoice);\n        });\n\n        return Array.from(companiesMap.values()).map(c => ({\n            ...c,\n            teams: Array.from(c.teams.values()),\n        }));\n    }, [filteredInvoices, user, activeView, employees, companies, teams, t]);\n\n    const getStatusColor = (status: string) => {\n        switch (status) {\n            case 'approved':\n                return theme.colors.success;\n            case 'rejected':\n                return theme.colors.error;\n            default:\n                return theme.colors.warning;\n        }\n    };\n\n    const renderInvoice = (item: Invoice) => (\n        <TouchableOpacity\n            key={item.id}\n            style={styles.card}\n            onPress={() => navigation.navigate('InvoiceDetails', { invoiceId: item.id })}\n        >\n            <View style={styles.cardHeader}>\n                <Text style={styles.amount}>\n                    {item.amount} {item.currency}\n                </Text>\n                <View\n                    style={[\n                        styles.statusTag,\n                        { backgroundColor: getStatusColor(item.status) + '20' },\n                    ]}\n                >\n                    <Text\n                        style={[styles.statusText, { color: getStatusColor(item.status) }]}\n                    >\n                        {t(`invoices.status${item.status.charAt(0).toUpperCase() + item.status.slice(1)}`)}\n                    </Text>\n                </View>\n            </View>\n\n            <Text style={styles.description} numberOfLines={2}>\n                {item.description}\n            </Text>\n\n            <View style={styles.footer}>\n                <Text style={styles.date}>\n                    {formatDate(item.createdAt)}\n                </Text>\n                {activeView === 'all' && user?.role !== 'employee' && (\n                    <Text style={styles.employeeName}>{item.employeeName}</Text>\n                )}\n            </View>\n        </TouchableOpacity>\n    );\n\n    return (\n        <View style={styles.container}>\n            {(user?.role === 'admin' || user?.role === 'rh' || user?.role === 'chef_dequipe') && (\n                <View style={styles.tabContainer}>\n                    <TouchableOpacity\n                        style={[styles.tab, activeView === 'mine' && styles.activeTab]}\n                        onPress={() => setActiveView('mine')}\n                    >\n                        <Text style={[styles.tabText, activeView === 'mine' && styles.activeTabText]}>\n                            {t('invoices.myInvoices')}\n                        </Text>\n                    </TouchableOpacity>\n                    <TouchableOpacity\n                        style={[styles.tab, activeView === 'all' && styles.activeTab]}\n                        onPress={() => setActiveView('all')}\n                    >\n                        <Text style={[styles.tabText, activeView === 'all' && styles.activeTabText]}>\n                            {user?.role === 'chef_dequipe' ? t('invoices.teamInvoices') : t('invoices.allInvoices')}\n                        </Text>\n                    </TouchableOpacity>\n                </View>\n            )}\n\n            {loading ? (\n                <ActivityIndicator\n                    size=\"large\"\n                    color={theme.colors.primary}\n                    style={{ marginTop: 20 }}\n                />\n            ) : (\n                <ScrollView contentContainerStyle={styles.listContent}>\n                    {groupedData.length === 0 || (groupedData[0].items && groupedData[0].items.length === 0) ? (\n                        <View style={styles.emptyContainer}>\n                            <Text style={styles.emptyText}>{t('invoices.empty')}</Text>\n                        </View>\n                    ) : (\n                        groupedData.map((companyGroup: any) => (\n                            <View key={companyGroup.id} style={styles.companySection}>\n                                {companyGroup.name !== t('invoices.myInvoices') && companyGroup.name !== t('invoices.teamInvoices') && (\n                                    <View style={styles.companyHeader}>\n                                        <Text style={styles.companyName}>{companyGroup.name}</Text>\n                                    </View>\n                                )}\n\n                                {(companyGroup.teams || []).map((teamGroup: any) => (\n                                    <View key={teamGroup.id} style={styles.teamSection}>\n                                        {teamGroup.name && companyGroup.name !== t('invoices.myInvoices') && (\n                                            <View style={styles.teamHeader}>\n                                                <View style={styles.teamInfo}>\n                                                    <Text style={styles.teamName}>{teamGroup.name}</Text>\n                                                    <Text style={styles.teamManager}>Chef: {teamGroup.managerName}</Text>\n                                                </View>\n                                            </View>\n                                        )}\n                                        {teamGroup.items.map((invoice: Invoice) => renderInvoice(invoice))}\n                                    </View>\n                                ))}\n\n                                {companyGroup.items && companyGroup.items.map((invoice: Invoice) => renderInvoice(invoice))}\n                            </View>\n                        ))\n                    )}\n                </ScrollView>\n            )}\n\n            <TouchableOpacity\n                style={styles.fab}\n                onPress={() => navigation.navigate('AddInvoice')}\n            >\n                <Text style={styles.fabText}>+</Text>\n            </TouchableOpacity>\n        </View>\n    );\n};\n\nconst createStyles = (theme: Theme) =>\n    StyleSheet.create({\n        container: {\n            backgroundColor: theme.colors.background,\n        },\n        tabContainer: {\n            flexDirection: 'row',\n            padding: theme.spacing.m,\n            backgroundColor: theme.colors.surface,\n            borderBottomWidth: 1,\n            borderBottomColor: theme.colors.border,\n        },\n        tab: {\n            flex: 1,\n            paddingVertical: 10,\n            alignItems: 'center',\n            borderRadius: 8,\n        },\n        activeTab: {\n            backgroundColor: theme.colors.primary + '20',\n        },\n        tabText: {\n            ...theme.textVariants.body,\n            color: theme.colors.subText,\n            fontWeight: '600',\n        },\n        activeTabText: {\n            color: theme.colors.primary,\n        },\n        listContent: {\n            padding: theme.spacing.m,\n            maxWidth: 800,\n            width: '100%',\n            alignSelf: 'center',\n        },\n        card: {\n            backgroundColor: theme.colors.surface,\n            borderRadius: 16,\n            padding: theme.spacing.m,\n            marginBottom: theme.spacing.m,\n            ...theme.shadows.small,\n            borderLeftWidth: 4,\n            borderLeftColor: theme.colors.primary,\n            borderWidth: 1,\n            borderColor: theme.colors.border,\n        },\n        cardHeader: {\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: theme.spacing.m,\n        },\n        amount: {\n            ...theme.textVariants.header,\n            fontSize: 18,\n            color: theme.colors.primary,\n        },\n        statusTag: {\n            paddingHorizontal: 10,\n            paddingVertical: 4,\n            borderRadius: 8,\n        },\n        statusText: {\n            fontSize: 11,\n            fontWeight: 'bold',\n            textTransform: 'uppercase',\n        },\n        description: {\n            ...theme.textVariants.body,\n            color: theme.colors.text,\n            marginBottom: theme.spacing.m,\n        },\n        footer: {\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            borderTopWidth: 1,\n            borderTopColor: theme.colors.border,\n            paddingTop: theme.spacing.m,\n        },\n        date: {\n            ...theme.textVariants.caption,\n            color: theme.colors.subText,\n        },\n        employeeName: {\n            ...theme.textVariants.caption,\n            color: theme.colors.primary,\n            fontWeight: '600',\n        },\n        emptyContainer: {\n            alignItems: 'center',\n            marginTop: 40,\n        },\n        emptyText: {\n            ...theme.textVariants.body,\n            color: theme.colors.subText,\n        },\n        fab: {\n            position: 'absolute',\n            bottom: 24,\n            right: 24,\n            width: 56,\n            height: 56,\n            borderRadius: 28,\n            backgroundColor: theme.colors.primary,\n            justifyContent: 'center',\n            alignItems: 'center',\n            ...theme.shadows.medium,\n        },\n        fabText: {\n            fontSize: 32,\n            color: '#FFF',\n            marginTop: -2,\n        },\n        companySection: {\n            marginBottom: theme.spacing.l,\n        },\n        companyHeader: {\n            paddingVertical: theme.spacing.s,\n            borderBottomWidth: 2,\n            borderBottomColor: theme.colors.primary,\n            marginBottom: theme.spacing.m,\n        },\n        companyName: {\n            ...theme.textVariants.header,\n            color: theme.colors.primary,\n            fontSize: 18,\n        },\n        teamSection: {\n            marginBottom: theme.spacing.m,\n        },\n        teamHeader: {\n            backgroundColor: theme.colors.surface,\n            padding: theme.spacing.s,\n            borderRadius: 8,\n            marginBottom: theme.spacing.s,\n        },\n        teamInfo: {\n            flex: 1,\n        },\n        teamName: {\n            ...theme.textVariants.subheader,\n            fontSize: 14,\n        },\n        teamManager: {\n            ...theme.textVariants.caption,\n            fontStyle: 'italic',\n        },\n    });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/companies/AddCompanyScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'useEffect' is defined but never used.","line":1,"column":48,"nodeType":null,"messageId":"unusedVar","endLine":1,"endColumn":57},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'useModal' is defined but never used.","line":17,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":17,"endColumn":18},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":22,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[844,847],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[844,847],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":30,"column":66,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":30,"endColumn":69,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1159,1162],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1159,1162],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\+.","line":73,"column":32,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":73,"endColumn":33,"suggestions":[{"messageId":"removeEscape","fix":{"range":[2481,2482],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[2481,2481],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":106,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":106,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3415,3418],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3415,3418],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useMemo, useContext, useEffect } from 'react';\nimport {\n    View,\n    Text,\n    TextInput,\n    TouchableOpacity,\n    StyleSheet,\n    ScrollView,\n    Platform,\n} from 'react-native';\nimport { useTranslation } from 'react-i18next';\nimport { useTheme } from '../../context/ThemeContext';\nimport { companiesDb } from '../../database/companiesDb';\nimport { notificationService } from '../../services/notificationService';\nimport { Theme } from '../../theme';\nimport { useToast } from '../../context/ToastContext';\nimport { useModal } from '../../context/ModalContext';\nimport { WebNavigationContext } from '../../navigation/WebNavigationContext';\nimport { CountryPicker } from '../../components/CountryPicker';\nimport { isValidEmail } from '../../utils/validation';\n\nexport const AddCompanyScreen = ({ navigation, route }: any) => {\n    const editId = route?.params?.id;\n    const isEdit = !!editId;\n\n    const { theme } = useTheme();\n    const { t } = useTranslation();\n    const { showToast } = useToast();\n    const styles = useMemo(() => createStyles(theme), [theme]);\n    const { setActiveTab } = useContext(WebNavigationContext) as any;\n\n    const [name, setName] = useState('');\n    const [address, setAddress] = useState('');\n    const [country, setCountry] = useState('');\n    const [email, setEmail] = useState('');\n    const [phone, setPhone] = useState('');\n\n    // Validation state\n    const [errors, setErrors] = useState<Record<string, string>>({});\n\n    React.useEffect(() => {\n        if (isEdit) {\n            loadCompanyData();\n        }\n    }, [editId]);\n\n    const loadCompanyData = async () => {\n        try {\n            const company = await companiesDb.getById(editId);\n            if (company) {\n                setName(company.name);\n                setAddress(company.address || '');\n                setCountry(company.country || '');\n                setEmail(company.email || '');\n                setPhone(company.phone || '');\n            }\n        } catch (error) {\n            console.error('Error loading company data:', error);\n        }\n    };\n\n    const validateForm = () => {\n        const newErrors: Record<string, string> = {};\n\n        if (!name.trim()) newErrors.name = t('common.required');\n\n        // Email validation\n        if (email && !isValidEmail(email)) {\n            newErrors.email = t('common.invalidEmail') || 'Invalid email address';\n        }\n\n        // Phone validation\n        if (phone && !/^[\\d\\s\\-\\+]+$/.test(phone)) {\n            newErrors.phone = t('common.invalidPhone') || 'Invalid phone number';\n        }\n\n        setErrors(newErrors);\n        return Object.keys(newErrors).length === 0;\n    };\n\n    const handleSave = async () => {\n        if (!validateForm()) return;\n\n        try {\n            const companyData = {\n                name,\n                address,\n                country,\n                email,\n                phone,\n                logo: '', // Optional or future enhancement\n            };\n\n            if (isEdit) {\n                await companiesDb.update(editId, companyData);\n            } else {\n                await companiesDb.add(companyData);\n            }\n\n            showToast(t('common.success'), 'success');\n            if (Platform.OS === 'web') {\n                setActiveTab('Companies');\n            } else {\n                navigation.goBack();\n            }\n        } catch (error: any) {\n            console.error('Error saving company:', error);\n            const errorMessage = error?.message || t('common.saveError');\n            notificationService.showAlert(t('common.error'), errorMessage);\n        }\n    };\n\n    return (\n        <View style={styles.container}>\n            <ScrollView contentContainerStyle={styles.scrollContent}>\n                <View style={styles.card}>\n                    <Text style={styles.title}>{isEdit ? t('companies.edit') || 'Edit Company' : t('companies.add') || t('companies.title')}</Text>\n\n                    {/* Name */}\n                    <View style={styles.fieldContainer}>\n                        <Text style={styles.label}>{t('companies.name') || t('common.name')}</Text>\n                        <TextInput\n                            style={[styles.input, errors.name && styles.inputError]}\n                            value={name}\n                            onChangeText={setName}\n                            placeholder={t('companies.namePlaceholder') || 'e.g. Acme Corp'}\n                            placeholderTextColor={theme.colors.subText}\n                        />\n                        {errors.name && <Text style={styles.errorText}>{errors.name}</Text>}\n                    </View>\n\n                    {/* Address */}\n                    <View style={styles.fieldContainer}>\n                        <Text style={styles.label}>{t('companies.address') || t('common.address')}</Text>\n                        <TextInput\n                            style={styles.input}\n                            value={address}\n                            onChangeText={setAddress}\n                            placeholder={t('companies.addressPlaceholder') || 'e.g. 123 Business St'}\n                            placeholderTextColor={theme.colors.subText}\n                        />\n                    </View>\n\n                    {/* Country */}\n                    <View style={styles.fieldContainer}>\n                        <CountryPicker\n                            label={t('companies.country') || 'Country'}\n                            value={country}\n                            onSelect={setCountry}\n                            placeholder={t('companies.countryPlaceholder') || 'Select a country'}\n                        />\n                    </View>\n\n                    {/* Email */}\n                    <View style={styles.fieldContainer}>\n                        <Text style={styles.label}>{t('companies.email') || t('common.email')}</Text>\n                        <TextInput\n                            style={[styles.input, errors.email && styles.inputError]}\n                            value={email}\n                            onChangeText={(text) => {\n                                setEmail(text);\n                                if (errors.email) setErrors({ ...errors, email: '' });\n                            }}\n                            keyboardType=\"email-address\"\n                            autoCapitalize=\"none\"\n                            placeholder={t('companies.emailPlaceholder') || 'e.g. contact@acme.com'}\n                            placeholderTextColor={theme.colors.subText}\n                        />\n                        {errors.email && <Text style={styles.errorText}>{errors.email}</Text>}\n                    </View>\n\n                    {/* Phone */}\n                    <View style={styles.fieldContainer}>\n                        <Text style={styles.label}>{t('companies.phone') || t('common.phone')}</Text>\n                        <TextInput\n                            style={[styles.input, errors.phone && styles.inputError]}\n                            value={phone}\n                            onChangeText={(text) => {\n                                setPhone(text);\n                                if (errors.phone) setErrors({ ...errors, phone: '' });\n                            }}\n                            keyboardType=\"phone-pad\"\n                            placeholder={t('companies.phonePlaceholder') || 'e.g. +1 234 567 890'}\n                            placeholderTextColor={theme.colors.subText}\n                        />\n                        {errors.phone && <Text style={styles.errorText}>{errors.phone}</Text>}\n                    </View>\n\n                    <TouchableOpacity style={styles.saveButton} onPress={handleSave}>\n                        <Text style={styles.saveButtonText}>{t('common.save')}</Text>\n                    </TouchableOpacity>\n                </View>\n            </ScrollView>\n        </View>\n    );\n};\n\nconst createStyles = (theme: Theme) =>\n    StyleSheet.create({\n        container: {\n            backgroundColor: theme.colors.background,\n        },\n        scrollContent: {\n            padding: theme.spacing.m,\n        },\n        card: {\n            backgroundColor: theme.colors.surface,\n            borderRadius: theme.spacing.m,\n            padding: theme.spacing.l,\n            ...theme.shadows.medium,\n            maxWidth: 600,\n            width: '100%',\n            alignSelf: 'center',\n        },\n        title: {\n            ...theme.textVariants.header,\n            color: theme.colors.text,\n            marginBottom: theme.spacing.l,\n            textAlign: 'center',\n        },\n        fieldContainer: {\n            marginBottom: theme.spacing.m,\n        },\n        label: {\n            ...theme.textVariants.body,\n            color: theme.colors.text,\n            marginBottom: theme.spacing.s,\n            fontWeight: '600',\n        },\n        input: {\n            backgroundColor: theme.colors.background,\n            borderRadius: theme.spacing.s,\n            padding: theme.spacing.m,\n            borderWidth: 1,\n            borderColor: theme.colors.border,\n            color: theme.colors.text,\n        },\n        inputError: {\n            borderColor: theme.colors.error,\n        },\n        errorText: {\n            color: theme.colors.error,\n            fontSize: 12,\n            marginTop: 4,\n        },\n        saveButton: {\n            backgroundColor: theme.colors.primary,\n            borderRadius: theme.spacing.m,\n            padding: theme.spacing.m,\n            alignItems: 'center',\n            marginTop: theme.spacing.m,\n            ...theme.shadows.small,\n        },\n        saveButtonText: {\n            color: '#FFFFFF',\n            fontWeight: 'bold',\n            fontSize: 16,\n        },\n    });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/companies/CompanyListScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Image' is defined but never used.","line":8,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":10},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'useSelector' is defined but never used.","line":18,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":18,"endColumn":21},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":23,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":23,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[808,811],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[808,811],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":29,"column":66,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":69,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1093,1096],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1093,1096],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":236,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":236,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7755,7758],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7755,7758],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import {\n    View,\n    Text,\n    StyleSheet,\n    FlatList,\n    TouchableOpacity,\n    ActivityIndicator,\n    Image,\n    Platform,\n} from 'react-native';\nimport { useFocusEffect } from '@react-navigation/native';\nimport { useTranslation } from 'react-i18next';\nimport { companiesDb } from '../../database/companiesDb';\nimport { Company } from '../../database/schema';\nimport { useTheme } from '../../context/ThemeContext';\nimport { Theme } from '../../theme';\nimport { useContext, useMemo, useState, useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport { WebNavigationContext } from '../../navigation/WebNavigationContext';\nimport { useModal } from '../../context/ModalContext';\nimport { useToast } from '../../context/ToastContext';\n\nexport const CompanyListScreen = ({ navigation }: any) => {\n    const { theme } = useTheme();\n    const { t } = useTranslation();\n    const { showModal } = useModal();\n    const { showToast } = useToast();\n    const styles = useMemo(() => createStyles(theme), [theme]);\n    const { setActiveTab } = useContext(WebNavigationContext) as any;\n\n    const [companies, setCompanies] = useState<Company[]>([]);\n    const [loading, setLoading] = useState(true);\n\n    const loadCompanies = async () => {\n        try {\n            const data = await companiesDb.getAll();\n            setCompanies(data);\n        } catch (error) {\n            console.error('Error loading companies:', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    useFocusEffect(\n        useCallback(() => {\n            loadCompanies();\n        }, []),\n    );\n\n    const handleEdit = (company: Company) => {\n        if (Platform.OS === 'web') {\n            setActiveTab('Companies', 'AddCompany', { id: company.id });\n        } else {\n            navigation.navigate('AddCompany', { id: company.id });\n        }\n    };\n\n    const handleDelete = (company: Company) => {\n        showModal({\n            title: t('common.deleteTitle'),\n            message: `${t('common.deleteMessage')}\\n\"${company.name}\"`,\n            buttons: [\n                {\n                    text: t('common.cancel'),\n                    style: 'cancel',\n                },\n                {\n                    text: t('common.delete'),\n                    style: 'destructive',\n                    onPress: async () => {\n                        try {\n                            await companiesDb.delete(company.id);\n                            showToast(t('common.success'), 'success');\n                            loadCompanies();\n                        } catch (error) {\n                            console.error('Error deleting company:', error);\n                            showToast(t('common.deleteFailed'), 'error');\n                        }\n                    },\n                },\n            ],\n        });\n    };\n\n    const renderItem = ({ item }: { item: Company }) => (\n        <View style={styles.card}>\n            <View style={styles.cardHeader}>\n                <View style={styles.info}>\n                    <Text style={styles.name}>{item.name}</Text>\n                    {item.address && (\n                        <Text style={styles.detailText}>📍 {item.address}</Text>\n                    )}\n                    {item.email && (\n                        <Text style={styles.detailText}>✉️ {item.email}</Text>\n                    )}\n                    {item.phone && (\n                        <Text style={styles.detailText}>📞 {item.phone}</Text>\n                    )}\n                </View>\n                <View style={styles.actions}>\n                    <TouchableOpacity\n                        style={[styles.actionButton, styles.editButton]}\n                        onPress={() => handleEdit(item)}\n                    >\n                        <Text style={styles.actionText}>{t('common.edit')}</Text>\n                    </TouchableOpacity>\n                    <TouchableOpacity\n                        style={[styles.actionButton, styles.deleteButton]}\n                        onPress={() => handleDelete(item)}\n                    >\n                        <Text style={styles.actionText}>{t('common.delete')}</Text>\n                    </TouchableOpacity>\n                </View>\n            </View>\n        </View>\n    );\n\n    return (\n        <View style={styles.container}>\n            {loading ? (\n                <ActivityIndicator\n                    size=\"large\"\n                    color={theme.colors.primary}\n                    style={{ marginTop: 20 }}\n                />\n            ) : (\n                <FlatList\n                    data={companies}\n                    renderItem={renderItem}\n                    keyExtractor={(item) => item.id.toString()}\n                    contentContainerStyle={styles.listContent}\n                    ListEmptyComponent={\n                        <View style={styles.emptyContainer}>\n                            <Text style={styles.emptyText}>{t('companies.empty')}</Text>\n                        </View>\n                    }\n                />\n            )}\n\n            <TouchableOpacity\n                style={styles.fab}\n                onPress={() => {\n                    if (Platform.OS === 'web') {\n                        setActiveTab('Companies', 'AddCompany');\n                    } else {\n                        navigation.navigate('AddCompany');\n                    }\n                }}\n            >\n                <Text style={styles.fabText}>+</Text>\n            </TouchableOpacity>\n        </View>\n    );\n};\n\nconst createStyles = (theme: Theme) =>\n    StyleSheet.create({\n        container: {\n            flex: 1,\n            backgroundColor: theme.colors.background,\n        },\n        listContent: {\n            padding: theme.spacing.m,\n            maxWidth: 800,\n            width: '100%',\n            alignSelf: 'center',\n        },\n        card: {\n            backgroundColor: theme.colors.surface,\n            borderRadius: 16,\n            padding: theme.spacing.m,\n            marginBottom: theme.spacing.m,\n            ...theme.shadows.small,\n            borderLeftWidth: 4,\n            borderLeftColor: theme.colors.primary,\n        },\n        cardHeader: {\n            flexDirection: 'row',\n            alignItems: 'center',\n        },\n        info: {\n            flex: 1,\n        },\n        actions: {\n            flexDirection: 'row',\n            gap: 8,\n        },\n        actionButton: {\n            paddingVertical: 6,\n            paddingHorizontal: 12,\n            borderRadius: 8,\n        },\n        editButton: {\n            backgroundColor: theme.colors.primary + '20',\n        },\n        deleteButton: {\n            backgroundColor: theme.colors.error + '20',\n        },\n        actionText: {\n            ...theme.textVariants.caption,\n            fontSize: 12,\n            fontWeight: '600',\n        },\n        name: {\n            ...theme.textVariants.subheader,\n            color: theme.colors.text,\n            fontSize: 18,\n            marginBottom: 4,\n        },\n        detailText: {\n            ...theme.textVariants.caption,\n            color: theme.colors.subText,\n            marginTop: 2,\n        },\n        emptyContainer: {\n            alignItems: 'center',\n            marginTop: 40,\n        },\n        emptyText: {\n            ...theme.textVariants.body,\n            color: theme.colors.subText,\n        },\n        fab: {\n            position: 'absolute',\n            bottom: 24,\n            right: 24,\n            width: 56,\n            height: 56,\n            borderRadius: 28,\n            backgroundColor: theme.colors.primary,\n            justifyContent: 'center',\n            alignItems: 'center',\n            ...theme.shadows.medium,\n            zIndex: 999,\n        } as any,\n        fabText: {\n            fontSize: 32,\n            color: '#FFF',\n            marginTop: -2,\n        },\n    });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/companies/OrgChartScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Image' is defined but never used.","line":8,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":10},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'width' is assigned a value but never used.","line":19,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":19,"endColumn":14},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":24,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":24,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[696,699],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[696,699],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":50,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":50,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1712,1715],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1712,1715],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":76,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":76,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3237,3240],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3237,3240],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useMemo } from 'react';\nimport {\n    View,\n    Text,\n    StyleSheet,\n    ScrollView,\n    TouchableOpacity,\n    Image,\n    Dimensions,\n} from 'react-native';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector } from 'react-redux';\nimport { useTheme } from '../../context/ThemeContext';\nimport { RootState } from '../../store';\nimport { Employee } from '../../database/schema';\nimport { useNavigation } from '@react-navigation/native';\nimport { Theme } from '../../theme';\n\nconst { width } = Dimensions.get('window');\n\nexport const OrgChartScreen = () => {\n    const { theme } = useTheme();\n    const { t } = useTranslation();\n    const navigation = useNavigation<any>();\n    const styles = useMemo(() => createStyles(theme), [theme]);\n\n    const employees = useSelector((state: RootState) => state.employees.items);\n    const teams = useSelector((state: RootState) => state.teams.items);\n\n    const hierarchy = useMemo(() => {\n        const admin = employees.find((e: Employee) => e.role === 'admin');\n        if (!admin) return null;\n\n        const managers = employees.filter((e: Employee) => e.role === 'chef_dequipe');\n\n        return {\n            ...admin,\n            children: managers.map((manager: Employee) => ({\n                ...manager,\n                children: employees.filter((e: Employee) => e.role === 'employee' && e.teamId === manager.teamId)\n            }))\n        };\n    }, [employees]);\n\n    // Helper function to count supervised employees\n    const getSupervisedCount = (managerId: number) => {\n        return employees.filter((e: Employee) => e.teamId === teams.find(t => t.managerId === managerId)?.id).length;\n    };\n\n    const renderNode = (emp: any, level: number = 0) => {\n        return (\n            <View key={emp.id} style={[styles.nodeContainer, { marginLeft: level * 20 }]}>\n                {level > 0 && <View style={styles.connector} />}\n                <TouchableOpacity\n                    style={[styles.card, level === 0 && styles.adminCard, level === 1 && styles.managerCard]}\n                    onPress={() => navigation.navigate('Employees', { screen: 'EmployeeDetails', params: { id: emp.id } })}\n                >\n                    <View style={styles.cardHeader}>\n                        <View style={styles.avatarPlaceholder}>\n                            <Text style={styles.avatarText}>{emp.name.substring(0, 1)}</Text>\n                        </View>\n                        <View style={styles.info}>\n                            <Text style={styles.name}>{emp.name}</Text>\n                            <Text style={styles.position}>{emp.position || t(`roles.${emp.role}`)}</Text>\n                            {emp.role === 'chef_dequipe' && (\n                                <Text style={styles.supervisionCount}>\n                                    👥 {getSupervisedCount(emp.id)} {t('teams.supervised')}\n                                </Text>\n                            )}\n                        </View>\n                    </View>\n                </TouchableOpacity>\n\n                {emp.children && emp.children.length > 0 && (\n                    <View style={styles.childrenContainer}>\n                        {emp.children.map((child: any) => renderNode(child, level + 1))}\n                    </View>\n                )}\n            </View>\n        );\n    };\n\n    return (\n        <View style={styles.container}>\n            <View style={styles.header}>\n                <Text style={styles.title}>{t('navigation.orgChart') || 'Organigramme'}</Text>\n                <Text style={styles.subtitle}>Structure hiérarchique de l'entreprise</Text>\n            </View>\n\n            <ScrollView contentContainerStyle={styles.scrollContent} horizontal>\n                <ScrollView contentContainerStyle={styles.verticalScroll}>\n                    {hierarchy ? renderNode(hierarchy) : (\n                        <Text style={styles.emptyText}>{t('common.noData')}</Text>\n                    )}\n                </ScrollView>\n            </ScrollView>\n        </View>\n    );\n};\n\nconst createStyles = (theme: Theme) => StyleSheet.create({\n    container: {\n        backgroundColor: theme.colors.background,\n    },\n    header: {\n        padding: theme.spacing.m,\n        backgroundColor: theme.colors.surface,\n        borderBottomWidth: 1,\n        borderBottomColor: theme.colors.border,\n    },\n    title: {\n        ...theme.textVariants.header,\n        fontSize: 20,\n    },\n    subtitle: {\n        ...theme.textVariants.caption,\n        color: theme.colors.subText,\n    },\n    scrollContent: {\n        padding: theme.spacing.m,\n    },\n    verticalScroll: {\n        paddingBottom: 40,\n    },\n    nodeContainer: {\n        position: 'relative',\n        marginBottom: theme.spacing.m,\n    },\n    connector: {\n        position: 'absolute',\n        left: -15,\n        top: 0,\n        bottom: 30,\n        width: 2,\n        backgroundColor: theme.colors.border,\n    },\n    card: {\n        backgroundColor: theme.colors.surface,\n        padding: theme.spacing.m,\n        borderRadius: theme.spacing.s,\n        width: 240,\n        ...theme.shadows.small,\n        borderLeftWidth: 4,\n        borderLeftColor: theme.colors.subText,\n    },\n    adminCard: {\n        borderLeftColor: theme.colors.primary,\n        borderLeftWidth: 6,\n    },\n    managerCard: {\n        borderLeftColor: theme.colors.secondary,\n    },\n    cardHeader: {\n        flexDirection: 'row',\n        alignItems: 'center',\n    },\n    avatarPlaceholder: {\n        width: 40,\n        height: 40,\n        borderRadius: 20,\n        backgroundColor: theme.colors.border,\n        justifyContent: 'center',\n        alignItems: 'center',\n        marginRight: theme.spacing.m,\n    },\n    avatarText: {\n        fontWeight: 'bold',\n        color: theme.colors.text,\n    },\n    info: {\n        flex: 1,\n    },\n    name: {\n        fontSize: 14,\n        fontWeight: 'bold',\n        color: theme.colors.text,\n    },\n    position: {\n        fontSize: 12,\n        color: theme.colors.subText,\n    },\n    childrenContainer: {\n        marginTop: theme.spacing.m,\n    },\n    emptyText: {\n        padding: 20,\n        color: theme.colors.subText,\n    },\n    supervisionCount: {\n        fontSize: 11,\n        color: theme.colors.primary,\n        fontWeight: '600',\n        marginTop: 4,\n    },\n});\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/departments/AddDepartmentScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":20,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[744,747],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[744,747],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":25,"column":72,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":75,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[997,1000],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[997,1000],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'err' is defined but never used.","line":57,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":57,"endColumn":21},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'err' is defined but never used.","line":83,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":83,"endColumn":21}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useMemo } from 'react';\nimport {\n    View,\n    Text,\n    StyleSheet,\n    TextInput,\n    TouchableOpacity,\n    Platform,\n} from 'react-native';\nimport { useTranslation } from 'react-i18next';\nimport { useToast } from '../../context/ToastContext';\nimport { useTheme } from '../../context/ThemeContext';\nimport { departmentsDb } from '../../database/departmentsDb';\nimport { Theme } from '../../theme';\nimport { WebNavigationContext } from '../../navigation/WebNavigationContext';\nimport { useSelector } from 'react-redux';\nimport { selectAllCompanies } from '../../store/slices/companiesSlice';\nimport { Dropdown } from '../../components/Dropdown';\n\nexport const AddDepartmentScreen = ({ navigation, route }: any) => {\n    const { theme } = useTheme();\n    const { t } = useTranslation();\n    const { showToast } = useToast();\n    const styles = useMemo(() => createStyles(theme), [theme]);\n    const { setActiveTab } = React.useContext(WebNavigationContext) as any;\n\n    const departmentId = route?.params?.departmentId;\n    const companyId = route?.params?.companyId;\n    const isEdit = !!departmentId;\n\n    const [name, setName] = useState('');\n    const [selectedCompanyId, setSelectedCompanyId] = useState<number | undefined>(companyId);\n    const [error, setError] = useState('');\n\n    const companies = useSelector(selectAllCompanies);\n    const companyOptions = useMemo(() => [\n        { label: t('common.allCompanies') || 'All Companies / Global', value: 'global' },\n        ...companies.map(c => ({ label: c.name, value: c.id.toString() }))\n    ], [companies, t]);\n\n    useEffect(() => {\n        if (isEdit) {\n            loadDepartment();\n        }\n    }, [departmentId]);\n\n    const loadDepartment = async () => {\n        try {\n            const departments = companyId\n                ? await departmentsDb.getByCompany(companyId)\n                : await departmentsDb.getAll();\n            const dept = departments.find(d => d.id === departmentId);\n            if (dept) {\n                setName(dept.name);\n                setSelectedCompanyId(dept.companyId);\n            }\n        } catch (err) {\n            showToast(t('common.error'), 'error');\n        }\n    };\n\n    const handleSave = async () => {\n        if (!name.trim()) {\n            setError(t('common.required'));\n            return;\n        }\n\n        try {\n            if (isEdit) {\n                await departmentsDb.update(departmentId, name.trim(), selectedCompanyId);\n                showToast(t('common.success'), 'success');\n            } else {\n                await departmentsDb.add(name.trim(), selectedCompanyId);\n                showToast(t('common.success'), 'success');\n            }\n\n            // Navigate back\n            if (Platform.OS === 'web') {\n                setActiveTab?.('Departments', '', { companyId: selectedCompanyId });\n            } else {\n                navigation.goBack();\n            }\n        } catch (err) {\n            showToast(t('common.saveError'), 'error');\n        }\n    };\n\n    const handleCancel = () => {\n        if (Platform.OS === 'web') {\n            setActiveTab?.('Departments');\n        } else {\n            navigation.goBack();\n        }\n    };\n\n    return (\n        <View style={styles.container}>\n            <View style={styles.card}>\n                <View style={styles.headerRow}>\n                    <TouchableOpacity onPress={handleCancel} style={styles.backButton}>\n                        <Text style={styles.backButtonText}>‹ {t('common.back')}</Text>\n                    </TouchableOpacity>\n                    <Text style={styles.title}>\n                        {isEdit ? t('common.edit') : t('departments.add')}\n                    </Text>\n                </View>\n\n                <View style={styles.fieldContainer}>\n                    <Dropdown\n                        label={t('companies.select')}\n                        data={companyOptions}\n                        value={selectedCompanyId ? selectedCompanyId.toString() : 'global'}\n                        onSelect={(val) => setSelectedCompanyId(val === 'global' ? undefined : Number(val))}\n                    />\n                </View>\n\n                <View style={styles.fieldContainer}>\n                    <Text style={styles.label}>{t('common.department')} *</Text>\n                    <TextInput\n                        style={[styles.input, error && styles.inputError]}\n                        value={name}\n                        onChangeText={(text) => {\n                            setName(text);\n                            if (error) setError('');\n                        }}\n                        placeholder={t('departments.namePlaceholder')}\n                        placeholderTextColor={theme.colors.subText}\n                    />\n                    {error && <Text style={styles.errorText}>{error}</Text>}\n                </View>\n\n                <View style={styles.actions}>\n                    <TouchableOpacity\n                        style={[styles.button, styles.cancelButton]}\n                        onPress={handleCancel}\n                    >\n                        <Text style={styles.cancelButtonText}>{t('common.cancel')}</Text>\n                    </TouchableOpacity>\n                    <TouchableOpacity\n                        style={[styles.button, styles.saveButton]}\n                        onPress={handleSave}\n                    >\n                        <Text style={styles.saveButtonText}>{t('common.save')}</Text>\n                    </TouchableOpacity>\n                </View>\n            </View>\n        </View>\n    );\n};\n\nconst createStyles = (theme: Theme) =>\n    StyleSheet.create({\n        container: {\n            backgroundColor: theme.colors.background,\n            padding: theme.spacing.m,\n        },\n        card: {\n            backgroundColor: theme.colors.surface,\n            borderRadius: theme.spacing.m,\n            padding: theme.spacing.l,\n            ...theme.shadows.medium,\n        },\n        title: {\n            ...theme.textVariants.header,\n            color: theme.colors.text,\n            fontSize: 24,\n        },\n        headerRow: {\n            flexDirection: 'row',\n            alignItems: 'center',\n            gap: theme.spacing.m,\n            marginBottom: theme.spacing.l,\n        },\n        backButton: {\n            padding: theme.spacing.s,\n        },\n        backButtonText: {\n            color: theme.colors.primary,\n            fontSize: 18,\n            fontWeight: '600',\n        },\n        fieldContainer: {\n            marginBottom: theme.spacing.l,\n        },\n        label: {\n            ...theme.textVariants.body,\n            color: theme.colors.text,\n            marginBottom: theme.spacing.xs,\n            fontWeight: '600',\n        },\n        input: {\n            backgroundColor: theme.colors.background,\n            borderRadius: theme.spacing.s,\n            padding: theme.spacing.m,\n            borderWidth: 1,\n            borderColor: theme.colors.border,\n            color: theme.colors.text,\n            fontSize: 16,\n        },\n        inputError: {\n            borderColor: theme.colors.error,\n        },\n        errorText: {\n            color: theme.colors.error,\n            fontSize: 12,\n            marginTop: theme.spacing.xs,\n        },\n        actions: {\n            flexDirection: 'row',\n            justifyContent: 'flex-end',\n            gap: theme.spacing.m,\n        },\n        button: {\n            paddingHorizontal: theme.spacing.l,\n            paddingVertical: theme.spacing.m,\n            borderRadius: theme.spacing.s,\n            minWidth: 100,\n            alignItems: 'center',\n        },\n        cancelButton: {\n            backgroundColor: theme.colors.border,\n        },\n        cancelButtonText: {\n            color: theme.colors.text,\n            fontWeight: '600',\n        },\n        saveButton: {\n            backgroundColor: theme.colors.primary,\n        },\n        saveButtonText: {\n            color: '#FFFFFF',\n            fontWeight: 'bold',\n        },\n    });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/departments/DepartmentListScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":19,"column":61,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":64,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[684,687],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[684,687],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":25,"column":72,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":75,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[975,978],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[975,978],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'name' is defined but never used.","line":61,"column":37,"nodeType":null,"messageId":"unusedVar","endLine":61,"endColumn":41},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":83,"column":34,"nodeType":null,"messageId":"unusedVar","endLine":83,"endColumn":39}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useMemo } from 'react';\nimport {\n    View,\n    Text,\n    StyleSheet,\n    TouchableOpacity,\n    ScrollView,\n    Platform,\n} from 'react-native';\nimport { useTranslation } from 'react-i18next';\nimport { useModal } from '../../context/ModalContext';\nimport { useToast } from '../../context/ToastContext';\nimport { useTheme } from '../../context/ThemeContext';\nimport { departmentsDb } from '../../database/departmentsDb';\nimport { Department } from '../../database/schema';\nimport { Theme } from '../../theme';\nimport { WebNavigationContext } from '../../navigation/WebNavigationContext';\n\nexport const DepartmentListScreen = ({ navigation, route }: any) => {\n    const { theme } = useTheme();\n    const { t } = useTranslation();\n    const { showModal } = useModal();\n    const { showToast } = useToast();\n    const styles = useMemo(() => createStyles(theme), [theme]);\n    const { setActiveTab } = React.useContext(WebNavigationContext) as any;\n\n    const companyId = route?.params?.companyId;\n\n    const [departments, setDepartments] = useState<Department[]>([]);\n\n    useEffect(() => {\n        loadDepartments();\n    }, [companyId]);\n\n    const loadDepartments = async () => {\n        if (companyId) {\n            const all = await departmentsDb.getByCompany(companyId);\n            setDepartments(all);\n        } else {\n            const all = await departmentsDb.getAll();\n            setDepartments(all);\n        }\n    };\n\n    const handleBack = () => {\n        if (Platform.OS === 'web') {\n            setActiveTab?.('Settings', 'CompanySettings');\n        } else {\n            navigation.goBack();\n        }\n    };\n\n    const handleAdd = () => {\n        if (Platform.OS === 'web') {\n            setActiveTab?.('Departments', 'AddDepartment', { companyId });\n        } else {\n            navigation.navigate('AddDepartment', { companyId });\n        }\n    };\n\n    const handleEdit = (id: number, name: string) => {\n        if (Platform.OS === 'web') {\n            setActiveTab?.('Departments', 'AddDepartment', { departmentId: id, companyId });\n        } else {\n            navigation.navigate('AddDepartment', { departmentId: id, companyId });\n        }\n    };\n\n    const handleDelete = (id: number) => {\n        showModal({\n            title: t('common.confirm'),\n            message: t('common.confirmDelete'),\n            buttons: [\n                { text: t('common.cancel'), style: 'cancel' },\n                {\n                    text: t('common.delete'),\n                    style: 'destructive',\n                    onPress: async () => {\n                        try {\n                            await departmentsDb.delete(id);\n                            loadDepartments();\n                            showToast(t('common.success'), 'success');\n                        } catch (error) {\n                            showToast(t('common.error'), 'error');\n                        }\n                    }\n                },\n            ]\n        });\n    };\n\n    return (\n        <View style={styles.container}>\n            <View style={styles.header}>\n                <View style={styles.headerLeft}>\n                    <TouchableOpacity onPress={handleBack} style={styles.backButton}>\n                        <Text style={styles.backButtonText}>‹ {t('common.back')}</Text>\n                    </TouchableOpacity>\n                    <Text style={styles.title}>{t('departments.title')}</Text>\n                </View>\n                <TouchableOpacity style={styles.addButton} onPress={handleAdd}>\n                    <Text style={styles.addButtonText}>+ {t('common.add')}</Text>\n                </TouchableOpacity>\n            </View>\n\n            <ScrollView style={styles.list}>\n                {departments.length === 0 ? (\n                    <View style={styles.emptyContainer}>\n                        <Text style={styles.emptyText}>{t('departments.empty')}</Text>\n                    </View>\n                ) : (\n                    departments.map(dept => (\n                        <View key={dept.id} style={styles.item}>\n                            <View style={styles.row}>\n                                <Text style={styles.name}>{dept.name}</Text>\n                                <View style={styles.actions}>\n                                    <TouchableOpacity onPress={() => handleEdit(dept.id, dept.name)}>\n                                        <Text style={styles.editText}>{t('common.edit')}</Text>\n                                    </TouchableOpacity>\n                                    <TouchableOpacity onPress={() => handleDelete(dept.id)}>\n                                        <Text style={styles.deleteText}>{t('common.delete')}</Text>\n                                    </TouchableOpacity>\n                                </View>\n                            </View>\n                        </View>\n                    ))\n                )}\n            </ScrollView>\n        </View>\n    );\n};\n\nconst createStyles = (theme: Theme) =>\n    StyleSheet.create({\n        container: {\n            backgroundColor: theme.colors.background,\n            padding: theme.spacing.m\n        },\n        header: {\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: theme.spacing.l,\n        },\n        title: {\n            ...theme.textVariants.header,\n            color: theme.colors.text,\n            fontSize: 24,\n        },\n        headerLeft: {\n            flexDirection: 'row',\n            alignItems: 'center',\n            gap: theme.spacing.m,\n        },\n        backButton: {\n            padding: theme.spacing.s,\n        },\n        backButtonText: {\n            color: theme.colors.primary,\n            fontSize: 18,\n            fontWeight: '600',\n        },\n        addButton: {\n            backgroundColor: theme.colors.primary,\n            borderRadius: theme.spacing.s,\n            paddingHorizontal: theme.spacing.l,\n            paddingVertical: theme.spacing.s,\n        },\n        addButtonText: {\n            color: '#FFF',\n            fontWeight: 'bold',\n            fontSize: 16,\n        },\n        list: { flex: 1 },\n        emptyContainer: {\n            alignItems: 'center',\n            justifyContent: 'center',\n            padding: theme.spacing.xl,\n        },\n        emptyText: {\n            ...theme.textVariants.body,\n            color: theme.colors.subText,\n        },\n        item: {\n            backgroundColor: theme.colors.surface,\n            borderRadius: theme.spacing.s,\n            padding: theme.spacing.m,\n            marginBottom: theme.spacing.s,\n            ...theme.shadows.small,\n        },\n        row: {\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            alignItems: 'center'\n        },\n        name: {\n            fontSize: 16,\n            color: theme.colors.text,\n            flex: 1,\n        },\n        actions: {\n            flexDirection: 'row',\n            gap: 16\n        },\n        editText: {\n            color: theme.colors.primary,\n            fontSize: 14,\n            fontWeight: '600',\n        },\n        deleteText: {\n            color: theme.colors.error,\n            fontSize: 14,\n            fontWeight: '600',\n        },\n    });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/employees/AddEmployeeScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":33,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":33,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1399,1402],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1399,1402],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":137,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":137,"endColumn":19},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\+.","line":174,"column":21,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":174,"endColumn":22,"suggestions":[{"messageId":"removeEscape","fix":{"range":[6697,6698],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[6697,6697],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":265,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":265,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":288,"column":22,"nodeType":null,"messageId":"unusedVar","endLine":288,"endColumn":27},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":389,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":389,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[14035,14038],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[14035,14038],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useMemo, useEffect, useContext } from 'react';\nimport {\n  View,\n  Text,\n  TextInput,\n  TouchableOpacity,\n  StyleSheet,\n  ScrollView,\n  Image,\n  Platform,\n} from 'react-native';\nimport { useTheme } from '../../context/ThemeContext';\nimport { useTranslation } from 'react-i18next';\nimport { employeesDb } from '../../database';\nimport { notificationService } from '../../services/notificationService';\nimport { Theme } from '../../theme';\nimport { ROLES, UserRole } from '../../services/authService';\nimport { isValidEmail } from '../../utils/validation';\nimport { Dropdown } from '../../components/Dropdown';\nimport { useAuth } from '../../context/AuthContext';\nimport { useToast } from '../../context/ToastContext';\nimport { useModal } from '../../context/ModalContext';\nimport { WebNavigationContext } from '../../navigation/WebNavigationContext';\nimport { permissionsService } from '../../services/permissions';\nimport { DateTimePickerField } from '../../components/DateTimePickerField';\nimport { useSelector } from 'react-redux';\nimport { selectAllCompanies } from '../../store/slices/companiesSlice';\nimport { selectAllTeams } from '../../store/slices/teamsSlice';\nimport { RootState } from '../../store';\nimport { servicesDb } from '../../database/servicesDb';\nimport { Service } from '../../database/schema';\n\nexport const AddEmployeeScreen = ({ route, navigation }: any) => {\n  const { theme } = useTheme();\n  const { t } = useTranslation();\n  const { user: currentUser } = useAuth();\n  const { showToast } = useToast();\n  const { showModal } = useModal();\n  const styles = useMemo(() => createStyles(theme), [theme]);\n\n  const { setActiveTab } = useContext(WebNavigationContext);\n\n  const employeeId = route.params?.id || route.params?.employeeId;\n\n  const [name, setName] = useState('');\n  const [position, setPosition] = useState('');\n  const [phone, setPhone] = useState('');\n  const [email, setEmail] = useState('');\n  const [address, setAddress] = useState('');\n  const [notes, setNotes] = useState('');\n  const [department, setDepartment] = useState('');\n  const [location, setLocation] = useState('');\n  const [services, setServices] = useState<Service[]>([]);\n  const [photoUri, setPhotoUri] = useState<string | undefined>(undefined);\n  const [role, setRole] = useState<UserRole>('employee');\n  const [loading, setLoading] = useState(false);\n  const [vacationDays, setVacationDays] = useState('25');\n  const [country, setCountry] = useState('France');\n  const [hiringDate, setHiringDate] = useState<Date | null>(new Date());\n\n  // Extended fields\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [age, setAge] = useState('');\n  const [gender, setGender] = useState<'male' | 'female' | 'other'>('male');\n  const [emergencyName, setEmergencyName] = useState('');\n  const [emergencyPhone, setEmergencyPhone] = useState('');\n  const [emergencyRelationship, setEmergencyRelationship] = useState('');\n  const [linkedin, setLinkedin] = useState('');\n  const [skype, setSkype] = useState('');\n  const [website, setWebsite] = useState('');\n  const [skills, setSkills] = useState('');\n\n  const [companyId, setCompanyId] = useState<number | null>(null);\n  const [teamId, setTeamId] = useState<number | null>(null);\n\n  const companies = useSelector((state: RootState) => selectAllCompanies(state));\n  const teams = useSelector((state: RootState) => selectAllTeams(state));\n\n  const [errors, setErrors] = useState<Record<string, string>>({});\n\n  useEffect(() => {\n    const fetchData = async () => {\n      if (employeeId) {\n        await loadEmployee();\n      }\n      await loadServices();\n      setLoading(false);\n    };\n    fetchData();\n  }, [employeeId]);\n\n  const loadServices = async () => {\n    const allServices = await servicesDb.getAll();\n    setServices(allServices);\n  };\n\n  const loadEmployee = async () => {\n    try {\n      const employee = await employeesDb.getById(employeeId);\n      if (employee) {\n        setName(employee.name);\n        setPosition(employee.position || '');\n        setPhone(employee.phone || '');\n        setEmail(employee.email || '');\n        setAddress(employee.address || '');\n        setNotes(employee.notes || '');\n        setPhotoUri(employee.photoUri || undefined);\n        setRole((employee.role as UserRole) || 'employee');\n        setDepartment(employee.department || '');\n        setLocation(employee.location || '');\n        setVacationDays(String(employee.vacationDaysPerYear || 25));\n        setCountry(employee.country || 'France');\n        if (employee.hiringDate) {\n          setHiringDate(new Date(employee.hiringDate));\n        }\n        setCompanyId(employee.companyId || null);\n        setTeamId(employee.teamId || null);\n\n        // Load extended fields\n        setFirstName(employee.firstName || '');\n        setLastName(employee.lastName || '');\n        setAge(employee.age ? String(employee.age) : '');\n        setGender(employee.gender || 'male');\n        if (employee.emergencyContact) {\n          setEmergencyName(employee.emergencyContact.name);\n          setEmergencyPhone(employee.emergencyContact.phone);\n          setEmergencyRelationship(employee.emergencyContact.relationship);\n        }\n        if (employee.socialLinks) {\n          setLinkedin(employee.socialLinks.linkedin || '');\n          setSkype(employee.socialLinks.skype || '');\n          setWebsite(employee.socialLinks.website || '');\n        }\n        setSkills(employee.skills?.join(', ') || '');\n      }\n    } catch (error) {\n      showToast(t('employees.loadError'));\n    }\n  };\n\n\n  const validatePhone = (phone: string, country: string) => {\n    // Simple regex patterns for demonstration\n    const patterns: Record<string, RegExp> = {\n      'France': /^(?:(?:\\+|00)33|0)\\s*[1-9](?:[\\s.-]*\\d{2}){4}$/,\n      'Tunisia': /^(?:(?:\\+|00)216|0)?\\s*[2459]\\d{7}$/, // Starts with 216 optional, then 8 digits\n      'Germany': /^(?:(?:\\+|00)49|0)\\s*[1-9]\\d{1,14}$/,\n      'Spain': /^(?:(?:\\+|00)34|0)\\s*[679]\\d{8}$/,\n    };\n\n    // Default to a generous generic pattern if country not found or strictly empty\n    const pattern = patterns[country] || /^\\+?\\d{8,15}$/;\n    return pattern.test(phone.replace(/\\s/g, ''));\n  };\n\n\n  const validateForm = () => {\n    const newErrors: Record<string, string> = {};\n\n    // Name validation\n    if (!name.trim()) newErrors.name = t('employees.nameRequired');\n\n    // Email validation\n    if (email) {\n      if (!isValidEmail(email)) {\n        newErrors.email = t('common.invalidEmail');\n      }\n    }\n\n    // Phone validation\n    if (phone) {\n      // Check if phone contains only allowed characters (digits, spaces, +, -)\n      if (!/^[\\d\\s\\-\\+]+$/.test(phone)) {\n        newErrors.phone = t('common.invalidPhone'); // \"Must be a number\" implicitly\n      } else if (!validatePhone(phone, country)) {\n        newErrors.phone = t('common.invalidPhone');\n      }\n    }\n\n    // Age validation\n    if (age) {\n      if (!/^\\d+$/.test(age)) {\n        newErrors.age = t('employees.ageInvalid');\n      } else {\n        const ageNum = parseInt(age, 10);\n        if (ageNum < 18 || ageNum > 62) {\n          newErrors.age = t('employees.ageInvalid');\n        }\n      }\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const navigateBack = () => {\n    if (Platform.OS === 'web') {\n      setActiveTab('Employees');\n    } else {\n      navigation.goBack();\n    }\n  };\n\n  const handleTakePhoto = async () => {\n    const status = await permissionsService.requestCameraPermission();\n    if (status !== 'granted') {\n      notificationService.showAlert(t('profile.permissionDenied'), t('profile.permissionBlockedMessage'));\n      return;\n    }\n    showToast('Camera integration would go here', 'info');\n  };\n\n  const handleSave = async () => {\n    if (!validateForm()) return;\n\n    setLoading(true);\n    try {\n      const employeeData = {\n        name: name.trim(),\n        position,\n        phone,\n        email,\n        address,\n        notes,\n        photoUri,\n        role,\n        department,\n        location,\n        vacationDaysPerYear: parseInt(vacationDays) || 25,\n        remainingVacationDays: parseInt(vacationDays) || 25,\n        statePaidLeaves: 0,\n        country,\n        hiringDate: hiringDate ? hiringDate.toISOString() : undefined,\n        companyId: companyId || undefined,\n        teamId: teamId || undefined,\n\n        // Extended fields\n        firstName,\n        lastName,\n        age: parseInt(age) || undefined,\n        gender,\n        emergencyContact: emergencyName ? {\n          name: emergencyName,\n          phone: emergencyPhone,\n          relationship: emergencyRelationship\n        } : undefined,\n        socialLinks: (linkedin || skype || website) ? {\n          linkedin,\n          skype,\n          website\n        } : undefined,\n        skills: skills ? skills.split(',').map(s => s.trim()).filter(s => s) : undefined,\n      };\n\n      if (employeeId) {\n        await employeesDb.update(employeeId, employeeData);\n        showToast(t('employees.updated'));\n      } else {\n        const companyName = companies.find(c => c.id === companyId)?.name;\n        await employeesDb.add(employeeData, companyName);\n        showToast(t('employees.added'));\n      }\n      navigateBack();\n    } catch (error) {\n      showToast(t('employees.saveError'));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDelete = () => {\n    showModal({\n      title: t('common.delete'),\n      message: t('employees.deleteConfirm'),\n      buttons: [\n        { text: t('common.cancel'), style: 'cancel' },\n        {\n          text: t('common.delete'),\n          style: 'destructive',\n          onPress: async () => {\n            try {\n              if (employeeId) {\n                await employeesDb.delete(employeeId);\n                showToast(t('employees.deletedSuccessfully'), 'success');\n                navigateBack();\n              }\n            } catch (error) {\n              showToast(t('common.error'), 'info');\n            }\n          },\n        },\n      ],\n    });\n  };\n\n  const departmentOptions = [\n    { label: t('roles.rh'), value: 'rh' },\n    { label: t('roles.chef_dequipe'), value: 'chef_dequipe' },\n    { label: t('roles.employee'), value: 'employee' },\n  ];\n\n  return (\n    <View style={styles.container}>\n      <ScrollView contentContainerStyle={styles.content}>\n        <View style={styles.formContainer}>\n          {/* Section: Personal Information */}\n          <View style={styles.section}>\n            <Text style={styles.sectionTitle}>{t('navigation.personalInfo')}</Text>\n\n            <TouchableOpacity style={styles.photoButton} onPress={handleTakePhoto}>\n              {photoUri ? (\n                <Image source={{ uri: photoUri }} style={styles.photo} />\n              ) : (\n                <View style={styles.photoPlaceholder}>\n                  <Text style={styles.photoPlaceholderText}>\n                    {t('illnesses.photoButton')}\n                  </Text>\n                </View>\n              )}\n            </TouchableOpacity>\n\n            <View style={styles.fieldContainer}>\n              <Text style={styles.label}>{t('employees.name')} *</Text>\n              <TextInput\n                style={[styles.input, errors.name && styles.inputError]}\n                value={name}\n                onChangeText={setName}\n                placeholder={t('employees.namePlaceholder')}\n                placeholderTextColor={theme.colors.subText}\n              />\n              {errors.name && <Text style={styles.errorText}>{errors.name}</Text>}\n            </View>\n\n            <View style={styles.responsiveRow}>\n              <View style={styles.fieldContainer}>\n                <Text style={styles.label}>{t('employees.firstName')}</Text>\n                <TextInput\n                  style={styles.input}\n                  value={firstName}\n                  onChangeText={text => {\n                    setFirstName(text);\n                    if (!name && text && lastName) setName(`${text} ${lastName}`);\n                  }}\n                  placeholder={t('employees.firstName')}\n                  placeholderTextColor={theme.colors.subText}\n                />\n              </View>\n              <View style={styles.fieldContainer}>\n                <Text style={styles.label}>{t('employees.lastName')}</Text>\n                <TextInput\n                  style={styles.input}\n                  value={lastName}\n                  onChangeText={text => {\n                    setLastName(text);\n                    if (!name && firstName && text) setName(`${firstName} ${text}`);\n                  }}\n                  placeholder={t('employees.lastName')}\n                  placeholderTextColor={theme.colors.subText}\n                />\n              </View>\n            </View>\n\n            <View style={styles.responsiveRow}>\n              <View style={styles.fieldContainer}>\n                <Text style={styles.label}>{t('employees.age')}</Text>\n                <TextInput\n                  style={[styles.input, errors.age && styles.inputError]}\n                  value={age}\n                  onChangeText={(text) => {\n                    setAge(text);\n                    if (errors.age) setErrors({ ...errors, age: '' });\n                  }}\n                  placeholder=\"25\"\n                  keyboardType=\"numeric\"\n                  placeholderTextColor={theme.colors.subText}\n                />\n                {errors.age && <Text style={styles.errorText}>{errors.age}</Text>}\n              </View>\n              <View style={styles.fieldContainer}>\n                <Dropdown\n                  label={t('employees.gender')}\n                  data={[\n                    { label: t('employees.genderMale'), value: 'male' },\n                    { label: t('employees.genderFemale'), value: 'female' },\n                    { label: t('employees.genderOther'), value: 'other' },\n                  ]}\n                  value={gender}\n                  onSelect={(val) => setGender(val as any)}\n                />\n              </View>\n            </View>\n\n            <View style={styles.responsiveRow}>\n              <View style={styles.fieldContainer}>\n                <Text style={styles.label}>{t('employees.email')}</Text>\n                <TextInput\n                  style={[styles.input, errors.email && styles.inputError]}\n                  value={email}\n                  onChangeText={text => {\n                    setEmail(text);\n                    if (errors.email) setErrors({ ...errors, email: '' });\n                  }}\n                  placeholder={t('employees.emailPlaceholder')}\n                  placeholderTextColor={theme.colors.subText}\n                  keyboardType=\"email-address\"\n                  autoCapitalize=\"none\"\n                />\n                {errors.email && <Text style={styles.errorText}>{errors.email}</Text>}\n              </View>\n              <View style={styles.fieldContainer}>\n                <Text style={styles.label}>{t('employees.phone')}</Text>\n                <TextInput\n                  style={[styles.input, errors.phone && styles.inputError]}\n                  value={phone}\n                  onChangeText={(text) => {\n                    setPhone(text);\n                    if (errors.phone) setErrors({ ...errors, phone: '' });\n                  }}\n                  placeholder={t('employees.phonePlaceholder')}\n                  placeholderTextColor={theme.colors.subText}\n                  keyboardType=\"phone-pad\"\n                />\n                {errors.phone && <Text style={styles.errorText}>{errors.phone}</Text>}\n              </View>\n            </View>\n\n            <View style={styles.responsiveRow}>\n              <View style={styles.fieldContainer}>\n                <Dropdown\n                  label={t('employees.country')}\n                  data={[\n                    { label: 'France', value: 'France' },\n                    { label: 'Tunisie', value: 'Tunisia' },\n                    { label: 'Allemagne', value: 'Germany' },\n                    { label: 'Espagne', value: 'Spain' },\n                  ]}\n                  value={country}\n                  onSelect={setCountry}\n                />\n              </View>\n            </View>\n\n            <View style={styles.responsiveRow}>\n              <View style={styles.fieldContainer}>\n                <Text style={styles.label}>{t('employees.address')}</Text>\n                <TextInput\n                  style={styles.input}\n                  value={address}\n                  onChangeText={setAddress}\n                  placeholder={t('employees.addressPlaceholder')}\n                  placeholderTextColor={theme.colors.subText}\n                />\n              </View>\n              <View style={styles.fieldContainer}>\n                <DateTimePickerField\n                  label={t('employees.hiringDate')}\n                  value={hiringDate}\n                  onChange={setHiringDate}\n                  mode=\"date\"\n                />\n              </View>\n            </View>\n          </View>\n\n          {/* Section: Employment Details */}\n          <View style={styles.section}>\n            <Text style={styles.sectionTitle}>{t('navigation.employmentDetails')}</Text>\n\n            <View style={styles.responsiveRow}>\n              <View style={styles.fieldContainer}>\n                <View style={{ flexDirection: 'row', alignItems: 'flex-end', gap: 10 }}>\n                  <View style={{ flex: 1 }}>\n                    <Dropdown\n                      label={t('companies.title')}\n                      data={companies.map(c => ({ label: c.name, value: String(c.id) }))}\n                      value={companyId ? String(companyId) : ''}\n                      onSelect={(val) => setCompanyId(Number(val))}\n                      placeholder={t('companies.selectCompany')}\n                    />\n                  </View>\n                  <TouchableOpacity\n                    style={styles.addButton}\n                    onPress={() => {\n                      if (Platform.OS === 'web') {\n                        setActiveTab('Companies');\n                      } else {\n                        navigation.navigate('AddCompany');\n                      }\n                    }}\n                  >\n                    <Text style={styles.addButtonText}>➕</Text>\n                  </TouchableOpacity>\n                </View>\n              </View>\n\n              <View style={styles.fieldContainer}>\n                <View style={{ flexDirection: 'row', alignItems: 'flex-end', gap: 10 }}>\n                  <View style={{ flex: 1 }}>\n                    <Dropdown\n                      label={t('teams.title')}\n                      data={teams.filter(t => !companyId || t.companyId === companyId).map(t => ({ label: t.name, value: String(t.id) }))}\n                      value={teamId ? String(teamId) : ''}\n                      onSelect={(val) => setTeamId(Number(val))}\n                      placeholder={t('teams.selectTeam')}\n                    />\n                  </View>\n                  <TouchableOpacity\n                    style={styles.addButton}\n                    onPress={() => {\n                      if (Platform.OS === 'web') {\n                        setActiveTab('Teams');\n                      } else {\n                        navigation.navigate('AddTeam');\n                      }\n                    }}\n                  >\n                    <Text style={styles.addButtonText}>➕</Text>\n                  </TouchableOpacity>\n                </View>\n              </View>\n            </View>\n\n            <View style={styles.responsiveRow}>\n              <View style={styles.fieldContainer}>\n                <Dropdown\n                  label={t('employees.specialty')}\n                  data={departmentOptions}\n                  value={position}\n                  onSelect={setPosition}\n                  placeholder={t('employees.specialtyPlaceholder')}\n                />\n              </View>\n\n              <View style={styles.fieldContainer}>\n                {currentUser?.role === 'admin' && (\n                  <Dropdown\n                    label={t('signUp.roleLabel')}\n                    data={ROLES.map((r: UserRole) => ({ label: t(`roles.${r}`), value: r }))}\n                    value={role}\n                    onSelect={(val) => setRole(val as UserRole)}\n                    placeholder={t('signUp.roleLabel')}\n                  />\n                )}\n              </View>\n            </View>\n\n            <View style={styles.responsiveRow}>\n              <View style={styles.fieldContainer}>\n                <Dropdown\n                  label={t('common.service')}\n                  data={services.map(s => ({ label: s.name, value: s.name }))}\n                  value={department}\n                  onSelect={(val) => setDepartment(String(val))}\n                  placeholder={t('common.service')}\n                />\n              </View>\n\n              <View style={styles.fieldContainer}>\n                <Text style={styles.label}>{t('common.local')}</Text>\n                <TextInput\n                  style={styles.input}\n                  value={location}\n                  onChangeText={setLocation}\n                  placeholder={t('common.local')}\n                  placeholderTextColor={theme.colors.subText}\n                />\n              </View>\n            </View>\n          </View>\n\n          {/* Section: Social & Skills */}\n          <View style={styles.section}>\n            <Text style={styles.sectionTitle}>{t('employees.skills')}</Text>\n            <View style={styles.responsiveRow}>\n              <View style={styles.fieldContainer}>\n                <Text style={styles.label}>{t('employees.linkedin')}</Text>\n                <TextInput\n                  style={styles.input}\n                  value={linkedin}\n                  onChangeText={setLinkedin}\n                  placeholder=\"https://linkedin.com/in/...\"\n                  placeholderTextColor={theme.colors.subText}\n                />\n              </View>\n            </View>\n\n            <View style={styles.fieldContainer}>\n              <Text style={styles.label}>{t('employees.skills')}</Text>\n              <TextInput\n                style={styles.input}\n                value={skills}\n                onChangeText={setSkills}\n                placeholder=\"React, Node.js, HR Management\"\n                placeholderTextColor={theme.colors.subText}\n              />\n            </View>\n          </View>\n\n          {/* Section: Emergency Contact */}\n          <View style={styles.section}>\n            <Text style={styles.sectionTitle}>{t('employees.emergencyContact')}</Text>\n            <View style={styles.fieldContainer}>\n              <Text style={styles.label}>{t('employees.emergencyName')}</Text>\n              <TextInput\n                style={styles.input}\n                value={emergencyName}\n                onChangeText={setEmergencyName}\n                placeholder={t('employees.emergencyName')}\n                placeholderTextColor={theme.colors.subText}\n              />\n            </View>\n            <View style={styles.responsiveRow}>\n              <View style={styles.fieldContainer}>\n                <Text style={styles.label}>{t('employees.emergencyPhone')}</Text>\n                <TextInput\n                  style={styles.input}\n                  value={emergencyPhone}\n                  onChangeText={setEmergencyPhone}\n                  placeholder={t('employees.emergencyPhone')}\n                  placeholderTextColor={theme.colors.subText}\n                  keyboardType=\"phone-pad\"\n                />\n              </View>\n              <View style={styles.fieldContainer}>\n                <Text style={styles.label}>{t('employees.emergencyRelationship')}</Text>\n                <TextInput\n                  style={styles.input}\n                  value={emergencyRelationship}\n                  onChangeText={setEmergencyRelationship}\n                  placeholder={t('employees.emergencyRelationship')}\n                  placeholderTextColor={theme.colors.subText}\n                />\n              </View>\n            </View>\n          </View>\n          <Text style={styles.label}>{t('employees.notes')}</Text>\n          <TextInput\n            style={[styles.input, styles.notesInput]}\n            value={notes}\n            onChangeText={setNotes}\n            placeholder={t('employees.notesPlaceholder')}\n            placeholderTextColor={theme.colors.subText}\n            multiline\n            numberOfLines={3}\n          />\n        </View>\n\n        <TouchableOpacity\n          style={[styles.saveButton, loading && styles.saveButtonDisabled]}\n          onPress={handleSave}\n          disabled={loading}\n        >\n          <Text style={styles.saveButtonText}>\n            {loading ? t('common.loading') : employeeId ? t('common.save') : t('common.add')}\n          </Text>\n        </TouchableOpacity>\n\n        {employeeId && (\n          <TouchableOpacity style={styles.deleteButton} onPress={handleDelete}>\n            <Text style={styles.deleteButtonText}>{t('common.delete')}</Text>\n          </TouchableOpacity>\n        )}\n      </ScrollView>\n    </View>\n  );\n};\n\nconst createStyles = (theme: Theme) =>\n  StyleSheet.create({\n    container: { backgroundColor: theme.colors.background },\n    content: { padding: theme.spacing.m, paddingBottom: theme.spacing.xl },\n    formContainer: {\n      flex: 1,\n      maxWidth: Platform.OS === 'web' ? 800 : undefined,\n      width: '100%',\n      alignSelf: 'center',\n    },\n    section: {\n      backgroundColor: theme.colors.surface,\n      borderRadius: theme.spacing.m,\n      padding: theme.spacing.l,\n      marginBottom: theme.spacing.l,\n      ...theme.shadows.small,\n    },\n    sectionTitle: {\n      ...theme.textVariants.subheader,\n      color: theme.colors.primary,\n      marginBottom: theme.spacing.l,\n      fontSize: 18,\n      borderBottomWidth: 1,\n      borderBottomColor: theme.colors.border,\n      paddingBottom: theme.spacing.s,\n    },\n    responsiveRow: {\n      flexDirection: Platform.OS === 'web' ? 'row' : 'column',\n      gap: theme.spacing.m,\n    },\n    fieldContainer: {\n      flex: 1,\n      marginBottom: Platform.OS === 'web' ? 0 : theme.spacing.m,\n    },\n    photoButton: { alignItems: 'center', marginBottom: theme.spacing.l },\n    photo: { width: 120, height: 120, borderRadius: 60 },\n    photoPlaceholder: {\n      width: 120,\n      height: 120,\n      borderRadius: 60,\n      backgroundColor: theme.colors.surface,\n      justifyContent: 'center',\n      alignItems: 'center',\n      borderWidth: 2,\n      borderColor: theme.colors.primary,\n      borderStyle: 'dashed',\n    },\n    photoPlaceholderText: {\n      ...theme.textVariants.body,\n      color: theme.colors.primary,\n      textAlign: 'center',\n      fontSize: 12,\n      padding: 4,\n    },\n    label: {\n      ...theme.textVariants.caption,\n      fontWeight: '600',\n      color: theme.colors.text,\n      marginBottom: theme.spacing.s,\n      marginTop: theme.spacing.m,\n    },\n    input: {\n      backgroundColor: theme.colors.surface,\n      borderRadius: theme.spacing.s,\n      padding: theme.spacing.m,\n      fontSize: 16,\n      color: theme.colors.text,\n      borderWidth: 1,\n      borderColor: theme.colors.border,\n    },\n    notesInput: { height: 100, textAlignVertical: 'top' },\n    saveButton: {\n      backgroundColor: theme.colors.primary,\n      padding: theme.spacing.m,\n      borderRadius: theme.spacing.s,\n      alignItems: 'center',\n      marginTop: theme.spacing.l,\n      maxWidth: Platform.OS === 'web' ? 800 : undefined,\n      width: '100%',\n      alignSelf: 'center',\n    },\n    saveButtonDisabled: { opacity: 0.5 },\n    saveButtonText: {\n      ...theme.textVariants.button,\n      color: theme.colors.surface,\n    },\n    deleteButton: {\n      backgroundColor: theme.colors.error,\n      padding: theme.spacing.m,\n      borderRadius: theme.spacing.s,\n      alignItems: 'center',\n      marginTop: theme.spacing.m,\n      marginBottom: theme.spacing.xl,\n      maxWidth: Platform.OS === 'web' ? 800 : undefined,\n      width: '100%',\n      alignSelf: 'center',\n    },\n    deleteButtonText: {\n      ...theme.textVariants.button,\n      color: theme.colors.surface,\n    },\n    inputError: { borderColor: theme.colors.error },\n    errorText: {\n      color: theme.colors.error,\n      fontSize: 12,\n      marginTop: 4,\n      marginLeft: 4,\n    },\n    addButton: {\n      backgroundColor: theme.colors.primary,\n      width: 44,\n      height: 44,\n      borderRadius: 8,\n      justifyContent: 'center',\n      alignItems: 'center',\n      marginBottom: 2, // Align with input\n    },\n    addButtonText: {\n      fontSize: 20,\n      color: theme.colors.surface,\n    }\n  });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/employees/EmployeeDetailsScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":35,"column":62,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":35,"endColumn":65,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1250,1253],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1250,1253],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":140,"column":22,"nodeType":null,"messageId":"unusedVar","endLine":140,"endColumn":27}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useCallback, useMemo, useContext } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  ScrollView,\n  TouchableOpacity,\n  Platform,\n  Image,\n} from 'react-native';\nimport { useFocusEffect } from '@react-navigation/native';\nimport { employeesDb } from '../../database/employeesDb';\nimport { leavesDb } from '../../database/leavesDb';\nimport { notificationService } from '../../services/notificationService';\nimport { Employee, Leave } from '../../database/schema';\nimport { formatDate, formatDateTime } from '../../utils/dateUtils';\nimport { useTranslation } from 'react-i18next';\nimport { useTheme } from '../../context/ThemeContext';\nimport { Theme } from '../../theme';\nimport { LoadingScreen } from '../../components/LoadingScreen';\n\nimport { useAuth } from '../../context/AuthContext';\nimport { useToast } from '../../context/ToastContext';\nimport { useModal } from '../../context/ModalContext';\nimport { WebNavigationContext } from '../../navigation/WebNavigationContext';\n\nconst getStatusColor = (status: string) => {\n  switch (status) {\n    case 'approved': return '#4CAF50';\n    case 'declined': return '#F44336';\n    default: return '#FF9800';\n  }\n};\n\nexport const EmployeeDetailsScreen = ({ navigation, route }: any) => {\n  const { user } = useAuth();\n  const { showToast } = useToast();\n  const { employeeId } = route.params;\n  const { showModal } = useModal();\n  const { t } = useTranslation();\n  const { theme } = useTheme();\n  const styles = useMemo(() => createStyles(theme), [theme]);\n  const [employee, setEmployee] = useState<Employee | null>(null);\n  const [leaves, setLeaves] = useState<Leave[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  const { setActiveTab } = useContext(WebNavigationContext);\n\n  const navigateToAddLeave = () => {\n    if (Platform.OS === 'web') {\n      if (setActiveTab) {\n        setActiveTab('Leaves', 'AddLeave', {\n          employeeName: employee?.name || '',\n          employeeId: employeeId,\n        });\n      }\n    } else {\n      navigation.navigate('AddLeave', {\n        employeeName: employee?.name || '',\n        employeeId: employeeId,\n      });\n    }\n  };\n\n  const navigationBack = () => {\n    if (Platform.OS === 'web') {\n      if (setActiveTab) {\n        setActiveTab('Employees');\n      }\n    } else {\n      navigation.goBack();\n    }\n  };\n\n  const navigateToAddIllness = (employee: Employee) => {\n    if (Platform.OS === 'web') {\n      if (setActiveTab) {\n        setActiveTab('Illnesses', 'AddIllness', {\n          employeeName: employee.name,\n          employeeId: employee.id,\n        });\n      }\n    } else {\n      navigation.navigate('AddIllness', {\n        employeeName: employee.name,\n        employeeId: employee.id,\n      });\n    }\n  };\n\n  const loadData = async () => {\n    try {\n      const employeeData = await employeesDb.getById(employeeId);\n      const leavesData = await leavesDb.getByEmployeeId(employeeId);\n\n      if (employeeData) {\n        setEmployee(employeeData);\n      } else {\n        notificationService.showAlert(t('common.error'), t('employees.notFound'));\n        navigationBack();\n      }\n\n      setLeaves(leavesData);\n    } catch (error) {\n      console.error('Error loading employee details:', error);\n      notificationService.showAlert(t('common.error'), t('employees.loadError'));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useFocusEffect(\n    useCallback(() => {\n      loadData();\n    }, [employeeId]),\n  );\n\n  const handleEdit = () => {\n    if (Platform.OS === 'web') {\n      setActiveTab('Employees', 'AddEmployee', { id: employeeId });\n    } else {\n      navigation.navigate('AddEmployee', { employeeId });\n    }\n  };\n\n  const handleDelete = () => {\n    showModal({\n      title: t('employees.deleteConfirmTitle'),\n      message: t('employees.deleteConfirmMessage'),\n      buttons: [\n        { text: t('common.cancel'), style: 'cancel' },\n        {\n          text: t('common.delete'),\n          style: 'destructive',\n          onPress: async () => {\n            try {\n              await employeesDb.delete(employeeId);\n              showToast(t('employees.deletedSuccessfully'), 'success');\n              navigationBack();\n            } catch (error) {\n              showToast(t('common.error'), 'info');\n            }\n          },\n        },\n      ],\n    });\n  };\n\n  const renderLeave = ({ item }: { item: Leave }) => (\n    <View style={styles.leaveCard}>\n      <View style={styles.leaveHeader}>\n        <Text style={styles.leaveTitle}>{item.title}</Text>\n        <View style={[styles.statusBadge, { backgroundColor: getStatusColor(item.status) + '20' }]}>\n          <Text style={[styles.statusText, { color: getStatusColor(item.status) }]}>\n            {t(`leaveStatus.${item.status}`)}\n          </Text>\n        </View>\n      </View>\n      <Text style={styles.leaveDate}>\n        {formatDate(item.dateTime)}\n        {' '}\n        {formatDateTime(item.dateTime)}\n      </Text>\n      {item.location && (\n        <Text style={styles.leaveDetail}>📍 {item.location}</Text>\n      )}\n      {item.notes && (\n        <Text style={styles.leaveDetail}>📝 {item.notes}</Text>\n      )}\n    </View>\n  );\n\n  if (loading) {\n    return <LoadingScreen />;\n  }\n\n  if (!employee) return null;\n\n  return (\n    <View style={styles.container}>\n      <ScrollView contentContainerStyle={styles.content}>\n        <View style={styles.card}>\n          <View style={styles.header}>\n            <View style={styles.employeeInfoContainer}>\n              {employee.photoUri ? (\n                <Image source={{ uri: employee.photoUri }} style={styles.employeePhoto} />\n              ) : (\n                <View style={[styles.employeePhoto, styles.employeePhotoPlaceholder]}>\n                  <Text style={styles.employeePhotoPlaceholderText}>\n                    {employee.name.charAt(0)}\n                  </Text>\n                </View>\n              )}\n              <View>\n                <Text style={styles.name}>\n                  {employee.name}\n                </Text>\n                {employee.position && (\n                  <Text style={styles.position}>\n                    {t(`departments.${employee.position}`, {\n                      defaultValue: employee.position,\n                    })}\n                  </Text>\n                )}\n              </View>\n            </View>\n            {(user?.role === 'admin' || user?.role === 'rh') && (\n              <View style={styles.actions}>\n                <TouchableOpacity\n                  onPress={handleEdit}\n                  style={styles.actionButton}\n                >\n                  <Text style={styles.actionText}>{t('common.edit')}</Text>\n                </TouchableOpacity>\n                <TouchableOpacity\n                  onPress={handleDelete}\n                  style={[styles.actionButton, styles.deleteButton]}\n                >\n                  <Text style={[styles.actionText, styles.deleteText]}>\n                    {t('common.delete')}\n                  </Text>\n                </TouchableOpacity>\n              </View>\n            )}\n          </View>\n\n          <View style={styles.divider} />\n\n          <View style={styles.detailsSection}>\n            <View style={styles.responsiveRow}>\n              <View style={styles.fieldContainer}>\n                <Text style={styles.detailLabel}>{t('employees.phone')}</Text>\n                <Text style={styles.detailValue}>{employee.phone || '-'}</Text>\n              </View>\n              <View style={styles.fieldContainer}>\n                <Text style={styles.detailLabel}>{t('employees.email')}</Text>\n                <Text style={styles.detailValue}>{employee.email || '-'}</Text>\n              </View>\n            </View>\n\n            <View style={styles.responsiveRow}>\n              <View style={styles.fieldContainer}>\n                <Text style={styles.detailLabel}>{t('employees.age')}</Text>\n                <Text style={styles.detailValue}>{employee.age || '-'}</Text>\n              </View>\n              <View style={styles.fieldContainer}>\n                <Text style={styles.detailLabel}>{t('employees.gender')}</Text>\n                <Text style={styles.detailValue}>{employee.gender ? t(`employees.gender${employee.gender.charAt(0).toUpperCase() + employee.gender.slice(1)}`) : '-'}</Text>\n              </View>\n            </View>\n\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>{t('employees.address')}</Text>\n              <Text style={styles.detailValue}>{employee.address || '-'}</Text>\n            </View>\n\n            <View style={styles.divider} />\n\n            {/* Emergency Contact Section */}\n            <Text style={styles.subSectionTitle}>{t('employees.emergencyContact')}</Text>\n            {employee.emergencyContact ? (\n              <View style={styles.infoBox}>\n                <View style={styles.responsiveRow}>\n                  <View style={styles.fieldContainer}>\n                    <Text style={styles.detailLabel}>{t('employees.emergencyName')}</Text>\n                    <Text style={styles.detailValue}>{employee.emergencyContact.name}</Text>\n                  </View>\n                  <View style={styles.fieldContainer}>\n                    <Text style={styles.detailLabel}>{t('employees.emergencyPhone')}</Text>\n                    <Text style={styles.detailValue}>{employee.emergencyContact.phone}</Text>\n                  </View>\n                </View>\n                <View style={styles.detailRow}>\n                  <Text style={styles.detailLabel}>{t('employees.emergencyRelationship')}</Text>\n                  <Text style={styles.detailValue}>{employee.emergencyContact.relationship}</Text>\n                </View>\n              </View>\n            ) : (\n              <Text style={styles.emptyTextSmall}>{t('common.noData')}</Text>\n            )}\n\n            <View style={styles.divider} />\n\n            {/* Skills & History Section */}\n            <Text style={styles.subSectionTitle}>{t('employees.linkedin')}</Text>\n            {employee.socialLinks?.linkedin ? (\n              <Text style={[styles.detailValue, { color: theme.colors.primary }]}>{employee.socialLinks.linkedin}</Text>\n            ) : (\n              <Text style={styles.emptyTextSmall}>{t('common.noData')}</Text>\n            )}\n\n            <View style={styles.divider} />\n\n            <View style={styles.responsiveRow}>\n              <View style={styles.fieldContainer}>\n                <Text style={styles.detailLabel}>{t('employees.hiringDate')}</Text>\n                <Text style={styles.detailValue}>{employee.hiringDate ? formatDate(employee.hiringDate) : '-'}</Text>\n              </View>\n              <View style={styles.fieldContainer}>\n                <Text style={styles.detailLabel}>{t('common.service')}</Text>\n                <Text style={styles.detailValue}>{employee.department || '-'}</Text>\n              </View>\n            </View>\n\n            <View style={styles.detailRow}>\n              <Text style={styles.detailLabel}>{t('employees.skills')}</Text>\n              {employee.skills && employee.skills.length > 0 ? (\n                <View style={styles.skillsContainer}>\n                  {employee.skills.map((skill, index) => (\n                    <View key={index} style={styles.skillBadge}>\n                      <Text style={styles.skillText}>{skill}</Text>\n                    </View>\n                  ))}\n                </View>\n              ) : (\n                <Text style={styles.detailValue}>-</Text>\n              )}\n            </View>\n\n            <View style={styles.divider} />\n\n            <View style={styles.responsiveRow}>\n              <View style={styles.fieldContainer}>\n                <Text style={styles.detailLabel}>{t('leavePolicy.perYear')}</Text>\n                <Text style={styles.detailValue}>{employee.vacationDaysPerYear}</Text>\n              </View>\n              <View style={styles.fieldContainer}>\n                <Text style={styles.detailLabel}>{t('leavePolicy.remaining')}</Text>\n                <Text style={[styles.detailValue, { color: theme.colors.primary, fontWeight: 'bold' }]}>\n                  {employee.remainingVacationDays}\n                </Text>\n              </View>\n            </View>\n          </View>\n        </View>\n\n        <View style={styles.sectionHeader}>\n          <Text style={styles.sectionTitle}>{t('leaves.title')}</Text>\n          {(user?.role === 'admin' || user?.role === 'rh' || user?.role === 'chef_dequipe') && (\n            <View style={styles.headerActions}>\n              <TouchableOpacity\n                onPress={() => navigateToAddIllness(employee)}\n                style={[styles.addButton, styles.secondaryButton]}\n              >\n                <Text style={[styles.addButtonText, styles.secondaryButtonText]}>\n                  + {t('employees.addIllness')}\n                </Text>\n              </TouchableOpacity>\n              <TouchableOpacity\n                onPress={navigateToAddLeave}\n                style={styles.addButton}\n              >\n                <Text style={styles.addButtonText}>\n                  + {t('employees.addLeave')}\n                </Text>\n              </TouchableOpacity>\n            </View>\n          )}\n        </View>\n\n        {leaves.length > 0 ? (\n          leaves.map(item => (\n            <View key={item.id} style={styles.leaveWrapper}>\n              {renderLeave({ item })}\n            </View>\n          ))\n        ) : (\n          <View style={styles.emptyState}>\n            <Text style={styles.emptyText}>{t('employees.noLeaves')}</Text>\n          </View>\n        )}\n      </ScrollView>\n    </View>\n  );\n};\n\nconst createStyles = (theme: Theme) =>\n  StyleSheet.create({\n    container: {\n      backgroundColor: theme.colors.background,\n    },\n    loadingContainer: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      backgroundColor: theme.colors.background,\n    },\n    content: {\n      padding: theme.spacing.m,\n    },\n    card: {\n      backgroundColor: theme.colors.surface,\n      borderRadius: theme.spacing.m,\n      padding: theme.spacing.m,\n      ...theme.shadows.medium,\n      marginBottom: theme.spacing.l,\n    },\n    header: {\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'flex-start',\n      marginBottom: theme.spacing.m,\n    },\n    employeeInfoContainer: {\n      flex: 1,\n      flexDirection: 'row',\n      alignItems: 'center',\n      gap: theme.spacing.m,\n    },\n    employeePhoto: {\n      width: 60,\n      height: 60,\n      borderRadius: 30,\n    },\n    employeePhotoPlaceholder: {\n      backgroundColor: theme.colors.primaryBackground,\n      justifyContent: 'center',\n      alignItems: 'center',\n    },\n    employeePhotoPlaceholderText: {\n      color: theme.colors.primary,\n      fontSize: 24,\n      fontWeight: 'bold',\n    },\n    name: {\n      ...theme.textVariants.header,\n      fontSize: 24,\n      marginBottom: theme.spacing.xs,\n      color: theme.colors.text,\n    },\n    position: {\n      ...theme.textVariants.subheader,\n      color: theme.colors.primary,\n      fontSize: 18,\n    },\n    actions: {\n      flexDirection: 'row',\n      gap: theme.spacing.s,\n    },\n    actionButton: {\n      paddingHorizontal: theme.spacing.s,\n      paddingVertical: theme.spacing.xs,\n      borderRadius: theme.spacing.s,\n      backgroundColor: theme.colors.background,\n      borderWidth: 1,\n      borderColor: theme.colors.border,\n    },\n    deleteButton: {\n      backgroundColor: theme.colors.surface,\n      borderColor: theme.colors.error,\n    },\n    actionText: {\n      ...theme.textVariants.body,\n      fontSize: 14,\n      color: theme.colors.primary,\n    },\n    deleteText: {\n      color: theme.colors.error,\n    },\n    divider: {\n      height: 1,\n      backgroundColor: theme.colors.border,\n      marginVertical: theme.spacing.m,\n    },\n    detailsSection: {\n      gap: theme.spacing.m,\n    },\n    detailRow: {\n      gap: theme.spacing.xs,\n    },\n    detailLabel: {\n      ...theme.textVariants.caption,\n      fontWeight: '600',\n      textTransform: 'uppercase',\n      color: theme.colors.subText,\n    },\n    detailValue: {\n      ...theme.textVariants.body,\n      color: theme.colors.text,\n    },\n    responsiveRow: {\n      flexDirection: 'row',\n      gap: theme.spacing.m,\n      marginBottom: theme.spacing.m,\n    },\n    fieldContainer: {\n      flex: 1,\n    },\n    subSectionTitle: {\n      fontSize: 16,\n      fontWeight: 'bold',\n      color: theme.colors.primary,\n      marginBottom: theme.spacing.s,\n    },\n    infoBox: {\n      backgroundColor: theme.colors.background,\n      padding: theme.spacing.m,\n      borderRadius: theme.spacing.s,\n      borderWidth: 1,\n      borderColor: theme.colors.border,\n    },\n    emptyTextSmall: {\n      fontSize: 12,\n      color: theme.colors.subText,\n      fontStyle: 'italic',\n    },\n    skillsContainer: {\n      flexDirection: 'row',\n      flexWrap: 'wrap',\n      gap: theme.spacing.s,\n      marginTop: theme.spacing.xs,\n    },\n    skillBadge: {\n      backgroundColor: theme.colors.primary + '15',\n      paddingHorizontal: theme.spacing.s,\n      paddingVertical: 4,\n      borderRadius: theme.spacing.s,\n    },\n    skillText: {\n      fontSize: 12,\n      color: theme.colors.primary,\n      fontWeight: '600',\n    },\n    sectionHeader: {\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      marginBottom: theme.spacing.m,\n      flexWrap: 'wrap',\n      gap: theme.spacing.s,\n    },\n    sectionTitle: {\n      ...theme.textVariants.subheader,\n      color: theme.colors.text,\n    },\n    addButton: {\n      backgroundColor: theme.colors.primary,\n      paddingHorizontal: theme.spacing.m,\n      paddingVertical: theme.spacing.xs,\n      borderRadius: theme.spacing.l,\n    },\n    addButtonText: {\n      ...theme.textVariants.button,\n      fontSize: 14,\n      color: theme.colors.surface,\n    },\n    leaveWrapper: {\n      marginBottom: theme.spacing.m,\n    },\n    leaveCard: {\n      backgroundColor: theme.colors.surface,\n      borderRadius: theme.spacing.s,\n      padding: theme.spacing.m,\n      ...theme.shadows.small,\n      borderLeftWidth: 4,\n      borderLeftColor: theme.colors.secondary,\n    },\n    leaveHeader: {\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      marginBottom: theme.spacing.s,\n    },\n    leaveTitle: {\n      ...theme.textVariants.body,\n      fontWeight: '600',\n      color: theme.colors.text,\n    },\n    leaveDate: {\n      ...theme.textVariants.caption,\n      color: theme.colors.primary,\n      fontWeight: '600',\n      marginTop: 4,\n    },\n    statusBadge: {\n      paddingHorizontal: 8,\n      paddingVertical: 2,\n      borderRadius: 4,\n    },\n    statusText: {\n      fontSize: 10,\n      fontWeight: 'bold',\n      textTransform: 'uppercase',\n    },\n    leaveDetail: {\n      ...theme.textVariants.caption,\n      marginTop: theme.spacing.xs,\n      color: theme.colors.subText,\n    },\n    emptyState: {\n      alignItems: 'center',\n      padding: theme.spacing.xl,\n      backgroundColor: theme.colors.surface,\n      borderRadius: theme.spacing.m,\n    },\n    emptyText: {\n      ...theme.textVariants.body,\n      color: theme.colors.subText,\n    },\n    headerActions: {\n      flexDirection: 'row',\n      gap: theme.spacing.s,\n      flexWrap: 'wrap',\n      justifyContent: 'flex-end',\n    },\n    secondaryButton: {\n      backgroundColor: 'transparent',\n      borderWidth: 1,\n      borderColor: theme.colors.primary,\n    },\n    secondaryButtonText: {\n      color: theme.colors.primary,\n    },\n  });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/employees/EmployeeListScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'useModal' is defined but never used.","line":20,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":20,"endColumn":18},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":22,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[814,817],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[814,817],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'showToast' is assigned a value but never used.","line":24,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":24,"endColumn":20},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":204,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":204,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6035,6038],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6035,6038],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":215,"column":10,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":215,"endColumn":13,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6323,6326],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6323,6326],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useCallback, useMemo } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  FlatList,\n  TouchableOpacity,\n} from 'react-native';\nimport { useFocusEffect } from '@react-navigation/native';\nimport { useTranslation } from 'react-i18next';\nimport { employeesDb } from '../../database/employeesDb';\nimport { Employee } from '../../database/schema';\nimport { useTheme } from '../../context/ThemeContext';\nimport { Theme } from '../../theme';\nimport { SearchInput } from '../../components/SearchInput';\nimport { notificationService } from '../../services/notificationService';\n\nimport { useAuth } from '../../context/AuthContext';\nimport { useToast } from '../../context/ToastContext';\nimport { useModal } from '../../context/ModalContext';\n\nexport const EmployeeListScreen = ({ navigation }: any) => {\n  const { user } = useAuth();\n  const { showToast } = useToast();\n  const { theme } = useTheme();\n  const { t } = useTranslation();\n  const styles = useMemo(() => createStyles(theme), [theme]);\n  const [employees, setEmployees] = useState<Employee[]>([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [loading, setLoading] = useState(true);\n\n  const loadEmployees = async () => {\n    try {\n      let data = await employeesDb.getAll();\n\n      // Role-based filtering\n      if (user?.role === 'chef_dequipe' && user?.department) {\n        data = data.filter(emp => emp.department === user.department);\n      } else if (user?.role === 'employee' && user?.employeeId) {\n        data = data.filter(emp => emp.id === user.employeeId);\n      }\n\n      setEmployees(data);\n    } catch (error) {\n      console.error('Error loading employees:', error);\n      notificationService.showAlert(t('common.error'), t('employees.loadError'));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useFocusEffect(\n    useCallback(() => {\n      loadEmployees();\n    }, []),\n  );\n\n  const filteredEmployees = useMemo(() => {\n    if (!searchQuery) return employees;\n    const lowerQuery = searchQuery.toLowerCase();\n    return employees.filter(emp => {\n      const position = emp.position\n        ? t(`departments.${emp.position}`, { defaultValue: emp.position })\n        : '';\n      return (\n        emp.name.toLowerCase().includes(lowerQuery) ||\n        position.toLowerCase().includes(lowerQuery)\n      );\n    });\n  }, [employees, searchQuery, t]);\n\n  const renderEmployee = ({ item }: { item: Employee }) => {\n    return (\n      <TouchableOpacity\n        style={styles.card}\n        onPress={() =>\n          navigation.navigate('EmployeeDetails', { employeeId: item.id })\n        }\n      >\n        <View style={styles.headerRow}>\n          <Text style={styles.name}>\n            {item.name}\n          </Text>\n          {item.position && (\n            <View style={styles.positionBadge}>\n              <Text style={styles.positionText}>\n                {t(`departments.${item.position}`, {\n                  defaultValue: item.position,\n                })}\n              </Text>\n            </View>\n          )}\n        </View>\n\n        {item.phone && <Text style={styles.detail}>📞 {item.phone}</Text>}\n\n        {item.email && <Text style={styles.detail}>✉️ {item.email}</Text>}\n\n        {item.address && <Text style={styles.detail}>📍 {item.address}</Text>}\n      </TouchableOpacity>\n    );\n  };\n\n  const renderEmpty = () => (\n    <View style={styles.emptyContainer}>\n      <Text style={styles.emptyText}>{t('employees.empty')}</Text>\n      <Text style={styles.emptySubText}>{t('employees.emptySubtitle')}</Text>\n    </View>\n  );\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.searchContainer}>\n        <SearchInput\n          value={searchQuery}\n          onChangeText={setSearchQuery}\n          placeholder={t('common.searchPlaceholder')}\n        />\n      </View>\n      <FlatList\n        data={filteredEmployees}\n        renderItem={renderEmployee}\n        keyExtractor={item => item.id?.toString() || ''}\n        contentContainerStyle={styles.listContent}\n        ListEmptyComponent={!loading ? renderEmpty : null}\n      />\n\n      {(user?.role === 'admin' || user?.role === 'rh') && (\n        <TouchableOpacity\n          style={styles.fab}\n          onPress={() => navigation.navigate('AddEmployee')}\n        >\n          <Text style={styles.fabText}>+</Text>\n        </TouchableOpacity>\n      )}\n    </View>\n  );\n};\n\nconst createStyles = (theme: Theme) =>\n  StyleSheet.create({\n    container: {\n      backgroundColor: theme.colors.background,\n    },\n    listContent: {\n      padding: theme.spacing.m,\n      flexGrow: 1,\n      paddingBottom: 80, // Space for FAB\n    },\n    searchContainer: {\n      padding: theme.spacing.m,\n      paddingBottom: 0,\n    },\n    card: {\n      backgroundColor: theme.colors.surface, // Use surface for card background\n      borderRadius: theme.spacing.m,\n      padding: theme.spacing.m,\n      marginBottom: theme.spacing.m,\n      ...theme.shadows.small,\n    },\n    headerRow: {\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      marginBottom: theme.spacing.s,\n    },\n    name: {\n      ...theme.textVariants.subheader,\n      flex: 1,\n      color: theme.colors.text,\n    },\n    positionBadge: {\n      backgroundColor: theme.colors.primary,\n      paddingHorizontal: theme.spacing.s,\n      paddingVertical: theme.spacing.xs,\n      borderRadius: theme.spacing.l,\n    },\n    positionText: {\n      color: theme.colors.surface,\n      fontSize: 12,\n      fontWeight: '600',\n    },\n    detail: {\n      ...theme.textVariants.body,\n      color: theme.colors.subText,\n      marginBottom: theme.spacing.xs,\n    },\n    emptyContainer: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      paddingVertical: 60,\n    },\n    emptyText: {\n      ...theme.textVariants.subheader,\n      color: theme.colors.subText,\n      marginBottom: theme.spacing.s,\n    },\n    emptySubText: {\n      ...theme.textVariants.body,\n      color: theme.colors.subText,\n    },\n    fab: {\n      position: 'absolute' as any,\n      right: theme.spacing.l,\n      bottom: theme.spacing.l,\n      width: 56,\n      height: 56,\n      borderRadius: 28,\n      backgroundColor: theme.colors.primary,\n      justifyContent: 'center',\n      alignItems: 'center',\n      ...theme.shadows.large,\n      zIndex: 999,\n    } as any,\n    fabText: {\n      fontSize: 32,\n      color: theme.colors.surface,\n      fontWeight: '300',\n      marginTop: -2,\n    },\n  });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/home/AnnouncementsScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Platform' is defined but never used.","line":10,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":10,"endColumn":13},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'RootState' is defined but never used.","line":26,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":26,"endColumn":19}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useMemo } from 'react';\nimport {\n    View,\n    Text,\n    StyleSheet,\n    FlatList,\n    TouchableOpacity,\n    Modal,\n    TextInput,\n    Platform,\n    ScrollView,\n    ActivityIndicator,\n} from 'react-native';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { useTheme } from '../../context/ThemeContext';\nimport { Theme } from '../../theme';\nimport { useAuth } from '../../context/AuthContext';\nimport {\n    selectAllAnnouncements,\n    addAnnouncement,\n    deleteAnnouncement\n} from '../../store/slices/announcementsSlice';\nimport { Announcement } from '../../database/schema';\nimport { formatDate } from '../../utils/dateUtils';\nimport { RootState } from '../../store';\nimport { selectAllCompanies, selectSelectedCompanyId, setSelectedCompanyId } from '../../store/slices/companiesSlice';\n\nexport const AnnouncementsScreen = () => {\n    const { t } = useTranslation();\n    const { theme } = useTheme();\n    const { user } = useAuth();\n    const dispatch = useDispatch();\n    const announcements = useSelector(selectAllAnnouncements);\n    const companies = useSelector(selectAllCompanies);\n    const selectedCompanyId = useSelector(selectSelectedCompanyId);\n    const styles = useMemo(() => createStyles(theme), [theme]);\n\n    const [modalVisible, setModalVisible] = useState(false);\n    const [newTitle, setNewTitle] = useState('');\n    const [newContent, setNewContent] = useState('');\n    const [newCategory, setNewCategory] = useState<'news' | 'event' | 'alert'>('news');\n\n    const isAdmin = user?.role === 'admin' || user?.role === 'rh';\n\n    React.useEffect(() => {\n        if (!isAdmin && user?.companyId && !selectedCompanyId) {\n            dispatch(setSelectedCompanyId(user.companyId));\n        }\n    }, [isAdmin, user?.companyId, selectedCompanyId, dispatch]);\n\n    const handleCreateAnnouncement = () => {\n        if (!newTitle.trim() || !newContent.trim()) return;\n\n        const announcement: Announcement = {\n            id: Date.now(),\n            title: newTitle,\n            content: newContent,\n            category: newCategory,\n            authorId: Number(user?.id) || 0,\n            authorName: user?.name || 'Admin',\n            companyId: selectedCompanyId || 0,\n            createdAt: new Date().toISOString(),\n            date: new Date().toISOString(),\n        };\n\n        dispatch(addAnnouncement(announcement));\n        setModalVisible(false);\n        setNewTitle('');\n        setNewContent('');\n        setNewCategory('news');\n    };\n\n    const getCategoryIcon = (category: string) => {\n        switch (category) {\n            case 'event': return '📅';\n            case 'alert': return '⚠️';\n            default: return '📢';\n        }\n    };\n\n    const renderItem = ({ item }: { item: Announcement }) => (\n        <View style={[styles.card, { backgroundColor: theme.colors.surface, borderColor: theme.colors.border }]}>\n            <View style={styles.cardHeader}>\n                <View style={[styles.categoryBadge, { backgroundColor: `${theme.colors.primary}15` }]}>\n                    <Text style={styles.categoryIcon}>{getCategoryIcon(item.category)}</Text>\n                    <Text style={[styles.categoryText, { color: theme.colors.primary }]}>\n                        {item.category.toUpperCase()}\n                    </Text>\n                </View>\n                <Text style={[styles.dateText, { color: theme.colors.subText }]}>\n                    {formatDate(item.createdAt)}\n                </Text>\n            </View>\n\n            <Text style={[styles.title, { color: theme.colors.text }]}>{item.title}</Text>\n            <Text style={[styles.content, { color: theme.colors.text, opacity: 0.8 }]}>{item.content}</Text>\n\n            <View style={styles.cardFooter}>\n                <Text style={[styles.author, { color: theme.colors.subText }]}>\n                    {t('payroll.issuedBy')}: {item.authorName}\n                </Text>\n                {isAdmin && (\n                    <TouchableOpacity\n                        onPress={() => item.id && dispatch(deleteAnnouncement(item.id))}\n                        style={styles.deleteButton}\n                    >\n                        <Text style={{ color: theme.colors.error, fontSize: 12, fontWeight: '600' }}>\n                            {t('common.delete')}\n                        </Text>\n                    </TouchableOpacity>\n                )}\n            </View>\n        </View>\n    );\n\n    if (!selectedCompanyId) {\n        return (\n            <View style={[styles.container, { backgroundColor: theme.colors.background }]}>\n                <View style={styles.header}>\n                    <Text style={styles.headerTitle}>{t('announcements.title')}</Text>\n                </View>\n                <View style={styles.centered}>\n                    {!isAdmin && !user?.companyId ? (\n                        <Text style={[styles.emptyText, { color: theme.colors.text, textAlign: 'center' }]}>\n                            {t('companies.noCompanyAssigned')}\n                        </Text>\n                    ) : isAdmin ? (\n                        <>\n                            <Text style={[styles.emptyText, { color: theme.colors.text, marginBottom: 20 }]}>\n                                {t('companies.selectCompany')}\n                            </Text>\n                            <FlatList\n                                data={companies}\n                                keyExtractor={(item) => String(item.id)}\n                                renderItem={({ item }) => (\n                                    <TouchableOpacity\n                                        style={[styles.companyItem, { backgroundColor: theme.colors.surface, borderColor: theme.colors.border }]}\n                                        onPress={() => dispatch(setSelectedCompanyId(item.id))}\n                                    >\n                                        <Text style={[styles.companyNameText, { color: theme.colors.text }]}>{item.name}</Text>\n                                        <Text style={{ fontSize: 18 }}>➤</Text>\n                                    </TouchableOpacity>\n                                )}\n                                style={{ width: '100%', paddingHorizontal: 20 }}\n                            />\n                        </>\n                    ) : (\n                        <ActivityIndicator color={theme.colors.primary} />\n                    )}\n                </View>\n            </View>\n        );\n    }\n\n    const filteredAnnouncements = announcements.filter(a => a.companyId === selectedCompanyId);\n\n    return (\n        <View style={[styles.container, { backgroundColor: theme.colors.background }]}>\n            <View style={styles.header}>\n                {isAdmin && (\n                    <TouchableOpacity onPress={() => dispatch(setSelectedCompanyId(null))} style={styles.backButton}>\n                        <Text style={[styles.backIcon, { color: theme.colors.primary }]}>←</Text>\n                    </TouchableOpacity>\n                )}\n                <Text style={styles.headerTitle}>{t('announcements.title')}</Text>\n            </View>\n            <FlatList\n                data={[...filteredAnnouncements].sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime())}\n                renderItem={renderItem}\n                keyExtractor={(item) => (item.id || 0).toString()}\n                contentContainerStyle={styles.listContent}\n                ListEmptyComponent={\n                    <View style={styles.emptyContainer}>\n                        <Text style={[styles.emptyText, { color: theme.colors.subText }]}>\n                            {t('announcements.noAnnouncements')}\n                        </Text>\n                    </View>\n                }\n            />\n\n            {isAdmin && (\n                <TouchableOpacity\n                    style={[styles.fab, { backgroundColor: theme.colors.primary }]}\n                    onPress={() => setModalVisible(true)}\n                >\n                    <Text style={styles.fabIcon}>+</Text>\n                </TouchableOpacity>\n            )}\n\n            <Modal\n                animationType=\"slide\"\n                transparent={true}\n                visible={modalVisible}\n                onRequestClose={() => setModalVisible(false)}\n            >\n                <View style={styles.modalOverlay}>\n                    <View style={[styles.modalContainer, { backgroundColor: theme.colors.surface }]}>\n                        <Text style={[styles.modalTitle, { color: theme.colors.text }]}>\n                            {t('announcements.addAnnouncement')}\n                        </Text>\n\n                        <ScrollView>\n                            <Text style={[styles.label, { color: theme.colors.text }]}>{t('payroll.name')}</Text>\n                            <TextInput\n                                style={[styles.input, { borderColor: theme.colors.border, color: theme.colors.text }]}\n                                value={newTitle}\n                                onChangeText={setNewTitle}\n                                placeholder={t('announcements.placeholder')}\n                                placeholderTextColor={theme.colors.subText}\n                            />\n\n                            <Text style={[styles.label, { color: theme.colors.text }]}>{t('claims.description')}</Text>\n                            <TextInput\n                                style={[styles.input, styles.textArea, { borderColor: theme.colors.border, color: theme.colors.text }]}\n                                value={newContent}\n                                onChangeText={setNewContent}\n                                multiline\n                                numberOfLines={4}\n                                placeholder={t('announcements.placeholder')}\n                                placeholderTextColor={theme.colors.subText}\n                            />\n\n                            <Text style={[styles.label, { color: theme.colors.text }]}>{t('claims.type')}</Text>\n                            <View style={styles.categoryToggle}>\n                                {(['news', 'event', 'alert'] as const).map((cat) => (\n                                    <TouchableOpacity\n                                        key={cat}\n                                        onPress={() => setNewCategory(cat)}\n                                        style={[\n                                            styles.categoryOption,\n                                            { borderColor: theme.colors.border },\n                                            newCategory === cat && { backgroundColor: theme.colors.primary, borderColor: theme.colors.primary }\n                                        ]}\n                                    >\n                                        <Text style={[\n                                            styles.categoryOptionText,\n                                            { color: theme.colors.text },\n                                            newCategory === cat && { color: '#FFF' }\n                                        ]}>\n                                            {cat.toUpperCase()}\n                                        </Text>\n                                    </TouchableOpacity>\n                                ))}\n                            </View>\n                        </ScrollView>\n\n                        <View style={styles.modalFooter}>\n                            <TouchableOpacity\n                                style={[styles.modalButton, { backgroundColor: theme.colors.border }]}\n                                onPress={() => setModalVisible(false)}\n                            >\n                                <Text style={{ color: theme.colors.text }}>{t('common.cancel')}</Text>\n                            </TouchableOpacity>\n                            <TouchableOpacity\n                                style={[styles.modalButton, { backgroundColor: theme.colors.primary }]}\n                                onPress={handleCreateAnnouncement}\n                            >\n                                <Text style={{ color: '#FFF', fontWeight: 'bold' }}>{t('announcements.publish')}</Text>\n                            </TouchableOpacity>\n                        </View>\n                    </View>\n                </View>\n            </Modal>\n        </View>\n    );\n};\n\nconst createStyles = (theme: Theme) =>\n    StyleSheet.create({\n        container: {\n            flex: 1,\n        },\n        listContent: {\n            padding: 16,\n            paddingBottom: 100,\n        },\n        card: {\n            padding: 16,\n            borderRadius: 16,\n            marginBottom: 16,\n            borderWidth: 1,\n            ...theme.shadows.small,\n        },\n        cardHeader: {\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: 12,\n        },\n        categoryBadge: {\n            flexDirection: 'row',\n            alignItems: 'center',\n            paddingHorizontal: 8,\n            paddingVertical: 4,\n            borderRadius: 8,\n            gap: 6,\n        },\n        categoryIcon: {\n            fontSize: 14,\n        },\n        categoryText: {\n            fontSize: 10,\n            fontWeight: 'bold',\n            letterSpacing: 0.5,\n        },\n        dateText: {\n            fontSize: 12,\n        },\n        title: {\n            fontSize: 18,\n            fontWeight: 'bold',\n            marginBottom: 8,\n        },\n        content: {\n            fontSize: 14,\n            lineHeight: 20,\n            marginBottom: 16,\n        },\n        cardFooter: {\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            borderTopWidth: 1,\n            borderTopColor: 'rgba(0,0,0,0.05)',\n            paddingTop: 12,\n        },\n        author: {\n            fontSize: 12,\n            fontStyle: 'italic',\n        },\n        deleteButton: {\n            padding: 4,\n        },\n        fab: {\n            position: 'absolute',\n            bottom: 24,\n            right: 24,\n            width: 56,\n            height: 56,\n            borderRadius: 28,\n            justifyContent: 'center',\n            alignItems: 'center',\n            ...theme.shadows.medium,\n        },\n        fabIcon: {\n            fontSize: 32,\n            color: '#FFF',\n            lineHeight: 36,\n        },\n        modalOverlay: {\n            flex: 1,\n            backgroundColor: 'rgba(0,0,0,0.5)',\n            justifyContent: 'center',\n            alignItems: 'center',\n            padding: 20,\n        },\n        modalContainer: {\n            width: '100%',\n            maxWidth: 500,\n            borderRadius: 24,\n            padding: 24,\n            maxHeight: '80%',\n        },\n        modalTitle: {\n            fontSize: 22,\n            fontWeight: 'bold',\n            marginBottom: 20,\n        },\n        label: {\n            fontSize: 14,\n            fontWeight: '600',\n            marginBottom: 8,\n            marginTop: 16,\n        },\n        input: {\n            borderWidth: 1,\n            borderRadius: 12,\n            padding: 12,\n            fontSize: 16,\n        },\n        textArea: {\n            height: 120,\n            textAlignVertical: 'top',\n        },\n        categoryToggle: {\n            flexDirection: 'row',\n            gap: 8,\n            marginTop: 8,\n        },\n        categoryOption: {\n            flex: 1,\n            padding: 10,\n            borderRadius: 10,\n            borderWidth: 1,\n            alignItems: 'center',\n        },\n        categoryOptionText: {\n            fontSize: 10,\n            fontWeight: 'bold',\n        },\n        modalFooter: {\n            flexDirection: 'row',\n            justifyContent: 'flex-end',\n            gap: 12,\n            marginTop: 24,\n        },\n        modalButton: {\n            paddingHorizontal: 20,\n            paddingVertical: 12,\n            borderRadius: 12,\n            minWidth: 100,\n            alignItems: 'center',\n        },\n        emptyContainer: {\n            height: 300,\n            justifyContent: 'center',\n            alignItems: 'center',\n        },\n        emptyText: {\n            fontSize: 16,\n        },\n        header: {\n            padding: 16,\n            backgroundColor: theme.colors.surface,\n            borderBottomWidth: 1,\n            borderBottomColor: 'rgba(0,0,0,0.05)',\n            alignItems: 'center',\n            flexDirection: 'row',\n            justifyContent: 'center',\n        },\n        headerTitle: {\n            fontSize: 18,\n            fontWeight: 'bold',\n        },\n        centered: {\n            flex: 1,\n            justifyContent: 'center',\n            alignItems: 'center',\n            padding: 20,\n        },\n        companyItem: {\n            width: '100%',\n            padding: 16,\n            borderRadius: 12,\n            marginBottom: 12,\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            borderWidth: 1,\n        },\n        companyNameText: {\n            fontSize: 16,\n            fontWeight: '600',\n        },\n        backButton: {\n            position: 'absolute',\n            left: 16,\n            padding: 8,\n        },\n        backIcon: {\n            fontSize: 24,\n            fontWeight: 'bold',\n        },\n    });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/home/ChatScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'useEffect' is defined but never used.","line":1,"column":35,"nodeType":null,"messageId":"unusedVar","endLine":1,"endColumn":44},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'formatDate' is defined but never used.","line":19,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":19,"endColumn":20}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useRef, useEffect } from 'react';\nimport {\n    View,\n    Text,\n    StyleSheet,\n    FlatList,\n    TextInput,\n    TouchableOpacity,\n    KeyboardAvoidingView,\n    Platform,\n} from 'react-native';\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { useTheme } from '../../context/ThemeContext';\nimport { useAuth } from '../../context/AuthContext';\nimport { selectMessagesByReceiver, sendMessage } from '../../store/slices/messagesSlice';\nimport { ChatMessage } from '../../database/schema';\nimport { formatDate } from '../../utils/dateUtils';\n\nexport const ChatScreen = () => {\n    const { t } = useTranslation();\n    const { theme } = useTheme();\n    const { user } = useAuth();\n    const dispatch = useDispatch();\n    const messages = useSelector(selectMessagesByReceiver('all'));\n    const [inputText, setInputText] = useState('');\n    const flatListRef = useRef<FlatList>(null);\n\n    const handleSend = () => {\n        if (!inputText.trim()) return;\n\n        const newMessage: ChatMessage = {\n            id: Math.random().toString(36).substr(2, 9),\n            text: inputText,\n            senderId: user?.id?.toString() || 'unknown',\n            receiverId: 'all',\n            createdAt: new Date().toISOString(),\n        };\n\n        dispatch(sendMessage(newMessage));\n        setInputText('');\n    };\n\n    const renderItem = ({ item }: { item: ChatMessage }) => {\n        const isMe = item.senderId === user?.id?.toString();\n        return (\n            <View style={[\n                styles.messageContainer,\n                isMe ? styles.myMessage : styles.theirMessage\n            ]}>\n                {!isMe && (\n                    <Text style={[styles.senderName, { color: theme.colors.subText }]}>\n                        {item.senderId === 'admin' ? 'System' : `Employee ${item.senderId} `}\n                    </Text>\n                )}\n                <View style={[\n                    styles.messageBubble,\n                    { backgroundColor: isMe ? theme.colors.primary : theme.colors.surface },\n                    !isMe && { borderColor: theme.colors.border, borderWidth: 1 }\n                ]}>\n                    <Text style={[\n                        styles.messageText,\n                        { color: isMe ? '#FFF' : theme.colors.text }\n                    ]}>\n                        {item.text}\n                    </Text>\n                    <Text style={[\n                        styles.messageTime,\n                        { color: isMe ? 'rgba(255,255,255,0.7)' : theme.colors.subText }\n                    ]}>\n                        {new Date(item.createdAt).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n                    </Text>\n                </View>\n            </View>\n        );\n    };\n\n    return (\n        <SafeAreaView style={[styles.container, { backgroundColor: theme.colors.background }]}>\n            <KeyboardAvoidingView\n                behavior={Platform.OS === 'ios' ? 'padding' : undefined}\n                style={{ flex: 1 }}\n                keyboardVerticalOffset={Platform.OS === 'ios' ? 90 : 0}\n            >\n                <FlatList\n                    ref={flatListRef}\n                    data={messages}\n                    renderItem={renderItem}\n                    keyExtractor={(item) => item.id}\n                    contentContainerStyle={styles.listContent}\n                    onContentSizeChange={() => flatListRef.current?.scrollToEnd()}\n                    onLayout={() => flatListRef.current?.scrollToEnd()}\n                    ListEmptyComponent={() => (\n                        <View style={styles.centered}>\n                            <Text style={{ color: theme.colors.subText }}>{t('chat.noMessages')}</Text>\n                        </View>\n                    )}\n                />\n\n                <View style={[styles.inputContainer, { backgroundColor: theme.colors.surface, borderTopColor: theme.colors.border }]}>\n                    <TextInput\n                        style={[styles.input, { color: theme.colors.text, borderColor: theme.colors.border }]}\n                        value={inputText}\n                        onChangeText={setInputText}\n                        placeholder={t('chat.typeMessage')}\n                        placeholderTextColor={theme.colors.subText}\n                        multiline\n                    />\n                    <TouchableOpacity\n                        style={[styles.sendButton, { backgroundColor: theme.colors.primary }]}\n                        onPress={handleSend}\n                    >\n                        <Text style={styles.sendIcon}>🏹</Text>\n                    </TouchableOpacity>\n                </View>\n            </KeyboardAvoidingView>\n        </SafeAreaView>\n    );\n};\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n    },\n    listContent: {\n        padding: 16,\n    },\n    messageContainer: {\n        marginBottom: 16,\n        maxWidth: '80%',\n    },\n    myMessage: {\n        alignSelf: 'flex-end',\n    },\n    theirMessage: {\n        alignSelf: 'flex-start',\n    },\n    senderName: {\n        fontSize: 11,\n        marginBottom: 4,\n        marginLeft: 4,\n    },\n    messageBubble: {\n        padding: 12,\n        borderRadius: 18,\n    },\n    messageText: {\n        fontSize: 15,\n        lineHeight: 20,\n    },\n    messageTime: {\n        fontSize: 10,\n        marginTop: 4,\n        textAlign: 'right',\n    },\n    inputContainer: {\n        flexDirection: 'row',\n        alignItems: 'center',\n        padding: 12,\n        borderTopWidth: 1,\n    },\n    input: {\n        flex: 1,\n        borderWidth: 1,\n        borderRadius: 24,\n        paddingHorizontal: 16,\n        paddingVertical: 8,\n        marginRight: 10,\n        maxHeight: 100,\n        fontSize: 16,\n    },\n    sendButton: {\n        width: 44,\n        height: 44,\n        borderRadius: 22,\n        justifyContent: 'center',\n        alignItems: 'center',\n    },\n    sendIcon: {\n        fontSize: 20,\n        color: '#FFF',\n    },\n    centered: {\n        flex: 1,\n        justifyContent: 'center',\n        alignItems: 'center',\n        paddingVertical: 40,\n    },\n});\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/illnesses/AddIllnessScreen.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":116,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":116,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4869,4872],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4869,4872],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":119,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":119,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4993,4996],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4993,4996],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":123,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":123,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5142,5145],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5142,5145],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/illnesses/IllnessDetailsScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":22,"column":61,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":64,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[805,808],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[805,808],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'showToast' is assigned a value but never used.","line":24,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":24,"endColumn":20},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":51,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":51,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":72,"column":22,"nodeType":null,"messageId":"unusedVar","endLine":72,"endColumn":27}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useMemo, useContext } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  ScrollView,\n  TouchableOpacity,\n  Platform,\n} from 'react-native';\nimport { illnessesDb } from '../../database/illnessesDb';\nimport { notificationService } from '../../services/notificationService';\nimport { Illness } from '../../database/schema';\nimport { useTranslation } from 'react-i18next';\nimport { useTheme } from '../../context/ThemeContext';\nimport { Theme } from '../../theme';\n\nimport { useAuth } from '../../context/AuthContext';\nimport { useToast } from '../../context/ToastContext';\nimport { useModal } from '../../context/ModalContext';\nimport { WebNavigationContext } from '../../navigation/WebNavigationContext';\n\nexport const IllnessDetailsScreen = ({ navigation, route }: any) => {\n  const { user } = useAuth();\n  const { showToast } = useToast();\n  const { illnessId } = route.params;\n  const { theme } = useTheme();\n  const { t } = useTranslation();\n  const { showModal } = useModal();\n  const styles = useMemo(() => createStyles(theme), [theme]);\n  const [illness, setIllness] = useState<Illness | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  const { setActiveTab } = useContext(WebNavigationContext);\n\n  const navigateBack = () => {\n    if (Platform.OS === 'web') {\n      setActiveTab('Illnesses');\n    } else {\n      navigation.goBack();\n    }\n  };\n\n  useEffect(() => {\n    loadIllness();\n  }, [illnessId]);\n\n  const loadIllness = async () => {\n    try {\n      const data = await illnessesDb.getById(illnessId);\n      setIllness(data);\n    } catch (error) {\n      notificationService.showAlert(t('common.errorTitle'), t('common.loadFailed'));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDelete = () => {\n    showModal({\n      title: t('common.deleteTitle'),\n      message: t('common.deleteMessage'),\n      buttons: [\n        { text: t('common.cancel'), style: 'cancel' },\n        {\n          text: t('common.delete'),\n          style: 'destructive',\n          onPress: async () => {\n            try {\n              await illnessesDb.delete(illnessId);\n              await notificationService.cancelIllnessReminder(illnessId);\n              navigateBack();\n            } catch (error) {\n              notificationService.showAlert(t('common.errorTitle'), t('common.deleteFailed'));\n            }\n          },\n        },\n      ],\n    });\n  };\n\n  const handleEdit = () => {\n    if (Platform.OS === 'web') {\n      setActiveTab('Illnesses', 'AddIllness', { illnessId });\n    } else {\n      navigation.navigate('AddIllness', { illnessId });\n    }\n  };\n\n  const handleViewHistory = () => {\n    if (Platform.OS === 'web') {\n      setActiveTab('Illnesses', 'IllnessHistory', { illnessId });\n    } else {\n      navigation.navigate('IllnessHistory', { illnessId });\n    }\n  };\n\n  if (loading || !illness) {\n    return (\n      <View style={styles.container}>\n        <Text style={{ color: theme.colors.text }}>{t('common.loading')}</Text>\n      </View>\n    );\n  }\n\n  return (\n    <View style={styles.container}>\n      <ScrollView contentContainerStyle={styles.content}>\n        <View style={styles.section}>\n          <Text style={styles.title}>{illness.payrollName}</Text>\n          {illness.employeeName && (\n            <Text style={styles.employee}>{illness.employeeName}</Text>\n          )}\n        </View>\n\n        <View style={styles.section}>\n          <Text style={styles.label}>{t('illnesses.issueDateLabel')}</Text>\n          <Text style={styles.value}>\n            {new Date(illness.issueDate).toLocaleDateString()}\n          </Text>\n        </View>\n\n        {illness.expiryDate && (\n          <View style={styles.section}>\n            <Text style={styles.label}>{t('illnesses.expiryDateLabel')}</Text>\n            <Text style={styles.value}>\n              {new Date(illness.expiryDate).toLocaleDateString()}\n            </Text>\n          </View>\n        )}\n\n        {illness.notes && (\n          <View style={styles.section}>\n            <Text style={styles.label}>{t('illnesses.notesLabel')}</Text>\n            <Text style={styles.value}>{illness.notes}</Text>\n          </View>\n        )}\n\n        <TouchableOpacity style={styles.button} onPress={handleViewHistory}>\n          <Text style={styles.buttonText}>{t('common.viewHistory')}</Text>\n        </TouchableOpacity>\n\n        {(user?.role === 'admin' || user?.role === 'rh' || user?.role === 'chef_dequipe') && (\n          <>\n            <TouchableOpacity\n              style={[styles.button, styles.editButton]}\n              onPress={handleEdit}\n            >\n              <Text style={styles.buttonText}>{t('common.edit')}</Text>\n            </TouchableOpacity>\n\n            {(user?.role === 'admin' || user?.role === 'rh') && (\n              <TouchableOpacity\n                style={[styles.button, styles.deleteButton]}\n                onPress={handleDelete}\n              >\n                <Text style={styles.buttonText}>{t('common.delete')}</Text>\n              </TouchableOpacity>\n            )}\n          </>\n        )}\n      </ScrollView>\n    </View>\n  );\n};\n\nconst createStyles = (theme: Theme) =>\n  StyleSheet.create({\n    container: {\n      backgroundColor: theme.colors.background,\n    },\n    content: {\n      padding: theme.spacing.m,\n    },\n    section: {\n      backgroundColor: theme.colors.surface,\n      borderRadius: theme.spacing.m,\n      padding: theme.spacing.m,\n      marginBottom: theme.spacing.m,\n      ...theme.shadows.small,\n    },\n    title: {\n      ...theme.textVariants.header,\n      marginBottom: theme.spacing.s,\n      color: theme.colors.text,\n    },\n    employee: {\n      ...theme.textVariants.subheader,\n      color: theme.colors.primary,\n    },\n    label: {\n      ...theme.textVariants.caption,\n      marginBottom: 4,\n      color: theme.colors.subText,\n    },\n    value: {\n      ...theme.textVariants.body,\n      color: theme.colors.text,\n    },\n    button: {\n      backgroundColor: theme.colors.primary,\n      padding: theme.spacing.m,\n      borderRadius: theme.spacing.s,\n      alignItems: 'center',\n      marginTop: theme.spacing.m,\n    },\n    editButton: {\n      backgroundColor: theme.colors.secondary,\n    },\n    deleteButton: {\n      backgroundColor: theme.colors.error,\n    },\n    buttonText: {\n      ...theme.textVariants.button,\n      color: theme.colors.surface,\n    },\n  });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/illnesses/IllnessHistoryScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":15,"column":49,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":52,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[514,517],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[514,517],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":44,"column":101,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":44,"endColumn":104,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1541,1544],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1541,1544],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useMemo } from 'react';\nimport {\n    View,\n    Text,\n    StyleSheet,\n    FlatList,\n} from 'react-native';\nimport { illnessesDb } from '../../database/illnessesDb';\nimport { IllnessHistory } from '../../database/schema';\nimport { useTranslation } from 'react-i18next';\nimport { useTheme } from '../../context/ThemeContext';\nimport { Theme } from '../../theme';\nimport { formatDate, formatDateTime } from '../../utils/dateUtils';\n\nexport const IllnessHistoryScreen = ({ route }: any) => {\n    const { illnessId } = route.params;\n    const { theme } = useTheme();\n    const { t } = useTranslation();\n    const styles = useMemo(() => createStyles(theme), [theme]);\n    const [history, setHistory] = useState<IllnessHistory[]>([]);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        loadHistory();\n    }, [illnessId]);\n\n    const loadHistory = async () => {\n        try {\n            const data = await illnessesDb.getHistory(illnessId);\n            setHistory(data);\n        } catch (error) {\n            console.error('Error loading history:', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const renderHistoryItem = ({ item }: { item: IllnessHistory }) => (\n        <View style={styles.card}>\n            <View style={styles.row}>\n                <Text style={styles.date}>\n                    {formatDate(item.date)}\n                </Text>\n                <View style={[styles.badge, styles[`badge${item.action}` as keyof typeof styles] as any]}>\n                    <Text style={styles.badgeText}>{t(`illnesses.history.${item.action}`)}</Text>\n                </View>\n            </View>\n            <Text style={styles.time}>\n                {formatDateTime(item.date)}\n            </Text>\n            {item.notes && <Text style={styles.notes}>{item.notes}</Text>}\n        </View>\n    );\n\n    const renderEmpty = () => (\n        <View style={styles.emptyContainer}>\n            <Text style={styles.emptyText}>{t('history.noHistory')}</Text>\n        </View>\n    );\n\n    return (\n        <View style={styles.container}>\n            <FlatList\n                data={history}\n                renderItem={renderHistoryItem}\n                keyExtractor={item => item.id?.toString() || ''}\n                contentContainerStyle={styles.listContent}\n                ListEmptyComponent={!loading ? renderEmpty : null}\n            />\n        </View>\n    );\n};\n\nconst createStyles = (theme: Theme) =>\n    StyleSheet.create({\n        container: {\n            backgroundColor: theme.colors.background,\n        },\n        listContent: {\n            padding: theme.spacing.m,\n            flexGrow: 1,\n            maxWidth: 600,\n            width: '100%',\n            alignSelf: 'center',\n        },\n        card: {\n            backgroundColor: theme.colors.surface,\n            borderRadius: 16,\n            padding: theme.spacing.m,\n            marginBottom: theme.spacing.m,\n            ...theme.shadows.small,\n            borderWidth: 1,\n            borderColor: theme.colors.border,\n        },\n        row: {\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: theme.spacing.s,\n        },\n        date: {\n            ...theme.textVariants.body,\n            fontWeight: '700',\n            color: theme.colors.text,\n        },\n        time: {\n            ...theme.textVariants.caption,\n            color: theme.colors.subText,\n            marginBottom: theme.spacing.s,\n            fontWeight: '500',\n        },\n        badge: {\n            paddingHorizontal: 12,\n            paddingVertical: 4,\n            borderRadius: 8,\n            backgroundColor: theme.colors.primary,\n        },\n        badgecreated: {\n            backgroundColor: theme.colors.success,\n        },\n        badgeupdated: {\n            backgroundColor: theme.colors.secondary,\n        },\n        badgerefilled: {\n            backgroundColor: theme.colors.warning,\n        },\n        badgeText: {\n            fontSize: 10,\n            color: '#FFF',\n            fontWeight: 'bold',\n            textTransform: 'uppercase',\n            letterSpacing: 0.5,\n        },\n        notes: {\n            ...theme.textVariants.caption,\n            color: theme.colors.text,\n            marginTop: theme.spacing.s,\n            paddingTop: theme.spacing.s,\n            borderTopWidth: 1,\n            borderTopColor: theme.colors.border,\n            fontStyle: 'italic',\n        },\n        emptyContainer: {\n            flex: 1,\n            justifyContent: 'center',\n            alignItems: 'center',\n            paddingVertical: 60,\n        },\n        emptyText: {\n            ...theme.textVariants.body,\n            color: theme.colors.subText,\n        },\n    });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/illnesses/IllnessListScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'FlatList' is defined but never used.","line":6,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":11},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":27,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1000,1003],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1000,1003],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'companyGroups' is assigned a value but never used.","line":111,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":111,"endColumn":24},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":111,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":111,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4048,4051],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4048,4051],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":112,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":112,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4105,4108],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4105,4108],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":171,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":171,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5885,5888],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5885,5888],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":303,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":303,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11954,11957],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11954,11957],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":505,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":505,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[17131,17134],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[17131,17134],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":516,"column":10,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":516,"endColumn":13,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[17419,17422],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[17419,17422],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":9,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useCallback, useMemo } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  FlatList,\n  TouchableOpacity,\n  Image,\n  ActivityIndicator,\n  ScrollView,\n  Platform,\n} from 'react-native';\nimport { useFocusEffect } from '@react-navigation/native';\nimport { useTranslation } from 'react-i18next';\nimport { illnessesDb } from '../../database/illnessesDb';\nimport { employeesDb } from '../../database/employeesDb';\nimport { companiesDb } from '../../database/companiesDb';\nimport { teamsDb } from '../../database/teamsDb';\nimport { Illness, Employee, Company, Team } from '../../database/schema';\nimport { useTheme } from '../../context/ThemeContext';\nimport { Theme } from '../../theme';\nimport { SearchInput } from '../../components/SearchInput';\nimport { formatDate } from '../../utils/dateUtils';\nimport { notificationService } from '../../services/notificationService';\nimport { useAuth } from '../../context/AuthContext';\n\nexport const IllnessListScreen = ({ navigation }: any) => {\n  const { user } = useAuth();\n  const { theme } = useTheme();\n  const { t } = useTranslation();\n  const styles = useMemo(() => createStyles(theme), [theme]);\n\n  const [illnesses, setIllnesses] = useState<Illness[]>([]);\n  const [employees, setEmployees] = useState<Employee[]>([]);\n  const [companies, setCompanies] = useState<Company[]>([]);\n  const [teams, setTeams] = useState<Team[]>([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [activeTab, setActiveTab] = useState<'mine' | 'all'>('mine');\n  const [filterCompanyId, setFilterCompanyId] = useState<number | null>(null);\n  const [filterTeamId, setFilterTeamId] = useState<number | null>(null);\n\n  const loadData = async () => {\n    try {\n      const [illData, empData, compData, teamData] = await Promise.all([\n        illnessesDb.getAll(),\n        employeesDb.getAll(),\n        companiesDb.getAll(),\n        teamsDb.getAll(),\n      ]);\n      setIllnesses(illData);\n      setEmployees(empData);\n      setCompanies(compData);\n      setTeams(teamData);\n    } catch (error) {\n      console.error('Error loading data:', error);\n      notificationService.showAlert(t('common.error'), t('illnesses.loadError'));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useFocusEffect(\n    useCallback(() => {\n      loadData();\n    }, [user]),\n  );\n\n  const filteredIllnesses = useMemo(() => {\n    let data = illnesses;\n\n    if (activeTab === 'mine') {\n      data = data.filter(ill => ill.employeeId === user?.employeeId);\n    } else {\n      if (user?.role === 'chef_dequipe') {\n        const teamMembers = employees.filter(e => e.teamId === user?.teamId).map(e => e.id);\n        data = data.filter(ill => teamMembers.includes(ill.employeeId));\n      } else if (user?.role === 'employee') {\n        data = data.filter(ill => ill.employeeId === user?.employeeId);\n      } else {\n        // Admin / RH filters\n        if (filterCompanyId !== null) {\n          data = data.filter(ill => {\n            const emp = employees.find(e => e.id === ill.employeeId);\n            return filterCompanyId === -1 ? !emp?.companyId : emp?.companyId === filterCompanyId;\n          });\n        }\n        if (filterTeamId !== null) {\n          data = data.filter(ill => {\n            const emp = employees.find(e => e.id === ill.employeeId);\n            return filterTeamId === -1 ? !emp?.teamId : emp?.teamId === filterTeamId;\n          });\n        }\n      }\n    }\n\n    if (!searchQuery) return data;\n    const lowerQuery = searchQuery.toLowerCase();\n    return data.filter(\n      illness =>\n        illness.payrollName.toLowerCase().includes(lowerQuery) ||\n        (illness.employeeName && illness.employeeName.toLowerCase().includes(lowerQuery)),\n    );\n  }, [illnesses, searchQuery, activeTab, user, employees, filterCompanyId, filterTeamId]);\n\n  const groupedData = useMemo(() => {\n    if (activeTab === 'mine') {\n      return [{ id: 'mine', title: t('illnesses.myIllnesses'), items: filteredIllnesses }];\n    }\n\n    const companyGroups: any[] = [];\n    const compMap = new Map<number | string, any>();\n\n    filteredIllnesses.forEach(ill => {\n      const emp = employees.find(e => e.id === ill.employeeId);\n      const compId = emp?.companyId || 'other';\n      const teamId = emp?.teamId || 'other';\n\n      if (!compMap.has(compId)) {\n        const comp = companies.find(c => c.id === compId);\n        compMap.set(compId, {\n          id: compId,\n          name: comp?.name || t('common.none'),\n          teams: new Map()\n        });\n      }\n\n      const compGroup = compMap.get(compId);\n      if (!compGroup.teams.has(teamId)) {\n        const team = teams.find(t => t.id === teamId);\n        compGroup.teams.set(teamId, {\n          id: teamId,\n          name: team?.name || t('payroll.none'),\n          items: []\n        });\n      }\n      compGroup.teams.get(teamId).items.push(ill);\n    });\n\n    return Array.from(compMap.values()).map(c => ({\n      ...c,\n      teams: Array.from(c.teams.values())\n    }));\n  }, [filteredIllnesses, activeTab, user, employees, companies, teams, t]);\n\n  const isExpiringSoon = (expiryDate: string) => {\n    const expiry = new Date(expiryDate);\n    const now = new Date();\n    const diffDays = Math.floor(\n      (expiry.getTime() - now.getTime()) / (1000 * 60 * 60 * 24),\n    );\n    return diffDays <= 30 && diffDays >= 0;\n  };\n\n  const renderIllness = (item: Illness) => {\n    const expiryWarning = item.expiryDate && isExpiringSoon(item.expiryDate);\n\n    return (\n      <TouchableOpacity\n        key={item.id}\n        style={[styles.card, expiryWarning && styles.cardWarning]}\n        onPress={() =>\n          navigation.navigate('IllnessDetails', {\n            illnessId: item.id,\n          })\n        }\n      >\n        {item.photoUri && (\n          <Image\n            source={{ uri: item.photoUri }}\n            style={styles.thumbnail as any}\n          />\n        )}\n\n        <View style={styles.details}>\n          <Text style={styles.payrollName}>{item.payrollName}</Text>\n          {item.employeeName && (\n            <Text style={styles.employee}>\n              {t('illnesses.employee')} {item.employeeName}\n            </Text>\n          )}\n          <Text style={styles.date}>\n            {t('illnesses.issued')}: {formatDate(item.issueDate)}\n          </Text>\n          {item.expiryDate && (\n            <Text\n              style={[styles.expiry, expiryWarning && styles.expiryWarning]}\n            >\n              {t('illnesses.expires')}: {formatDate(item.expiryDate)}\n              {expiryWarning && ' ⚠️'}\n            </Text>\n          )}\n        </View>\n      </TouchableOpacity>\n    );\n  };\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.header}>\n        <SearchInput\n          value={searchQuery}\n          onChangeText={setSearchQuery}\n          placeholder={t('common.searchPlaceholder')}\n        />\n\n        {(user?.role === 'admin' || user?.role === 'rh' || user?.role === 'chef_dequipe') && (\n          <View style={styles.tabContainer}>\n            <TouchableOpacity\n              style={[styles.tab, activeTab === 'mine' && styles.activeTab]}\n              onPress={() => setActiveTab('mine')}\n            >\n              <Text style={[styles.tabText, activeTab === 'mine' && styles.activeTabText]}>\n                {t('illnesses.myIllnesses')}\n              </Text>\n            </TouchableOpacity>\n            <TouchableOpacity\n              style={[styles.tab, activeTab === 'all' && styles.activeTab]}\n              onPress={() => setActiveTab('all')}\n            >\n              <Text style={[styles.tabText, activeTab === 'all' && styles.activeTabText]}>\n                {user?.role === 'chef_dequipe' ? t('illnesses.teamIllnesses') : t('illnesses.allIllnesses')}\n              </Text>\n            </TouchableOpacity>\n          </View>\n        )}\n\n        {activeTab === 'all' && (user?.role === 'admin' || user?.role === 'rh') && (\n          <View style={styles.filterWrapper}>\n            <ScrollView horizontal showsHorizontalScrollIndicator={false} contentContainerStyle={styles.filterScroll}>\n              <TouchableOpacity\n                onPress={() => { setFilterCompanyId(null); setFilterTeamId(null); }}\n                style={[styles.filterChip, filterCompanyId === null && styles.activeFilterChip]}\n              >\n                <Text style={[styles.filterChipText, filterCompanyId === null && styles.activeFilterChipText]}>{t('common.allCompanies')}</Text>\n              </TouchableOpacity>\n              {companies.map(c => (\n                <TouchableOpacity\n                  key={c.id}\n                  onPress={() => { setFilterCompanyId(c.id); setFilterTeamId(null); }}\n                  style={[styles.filterChip, filterCompanyId === c.id && styles.activeFilterChip]}\n                >\n                  <Text style={[styles.filterChipText, filterCompanyId === c.id && styles.activeFilterChipText]}>{c.name}</Text>\n                </TouchableOpacity>\n              ))}\n              <TouchableOpacity\n                onPress={() => { setFilterCompanyId(-1); setFilterTeamId(null); }}\n                style={[styles.filterChip, filterCompanyId === -1 && styles.activeFilterChip]}\n              >\n                <Text style={[styles.filterChipText, filterCompanyId === -1 && styles.activeFilterChipText]}>{t('common.none')}</Text>\n              </TouchableOpacity>\n            </ScrollView>\n\n            {filterCompanyId !== null && (\n              <ScrollView horizontal showsHorizontalScrollIndicator={false} contentContainerStyle={styles.filterScroll} style={{ marginTop: 8 }}>\n                <TouchableOpacity\n                  onPress={() => setFilterTeamId(null)}\n                  style={[styles.filterChip, filterTeamId === null && styles.activeFilterChip]}\n                >\n                  <Text style={[styles.filterChipText, filterTeamId === null && styles.activeFilterChipText]}>{t('common.noTeam')}</Text>\n                </TouchableOpacity>\n                {teams.filter(t => t.companyId === filterCompanyId).map(team => (\n                  <TouchableOpacity\n                    key={team.id}\n                    onPress={() => setFilterTeamId(team.id)}\n                    style={[styles.filterChip, filterTeamId === team.id && styles.activeFilterChip]}\n                  >\n                    <Text style={[styles.filterChipText, filterTeamId === team.id && styles.activeFilterChipText]}>{team.name}</Text>\n                  </TouchableOpacity>\n                ))}\n              </ScrollView>\n            )}\n          </View>\n        )}\n      </View>\n\n      {loading ? (\n        <ActivityIndicator size=\"large\" color={theme.colors.primary} style={{ marginTop: 20 }} />\n      ) : (\n        <ScrollView contentContainerStyle={styles.listContent}>\n          {groupedData.length === 0 || (groupedData[0].items && groupedData[0].items.length === 0 && groupedData[0].id === 'mine') ? (\n            <View style={styles.emptyContainer}>\n              <Text style={styles.emptyIcon}>🏥</Text>\n              <Text style={styles.emptyText}>{t('illnesses.empty')}</Text>\n              <Text style={styles.emptySubText}>\n                {activeTab === 'mine' ? t('illnesses.addFirst') : t('common.noData')}\n              </Text>\n              {activeTab === 'mine' && (\n                <TouchableOpacity\n                  style={styles.emptyAddButton}\n                  onPress={() => navigation.navigate('AddIllness')}\n                >\n                  <Text style={styles.emptyAddButtonText}>+ {t('illnesses.add')}</Text>\n                </TouchableOpacity>\n              )}\n            </View>\n          ) : (\n            groupedData.map(group => (\n              <View key={group.id} style={styles.section}>\n                {group.id !== 'mine' && group.id !== 'team' && (\n                  <Text style={styles.sectionTitle}>{group.name}</Text>\n                )}\n                {group.teams ? group.teams.map((tGroup: any) => (\n                  <View key={tGroup.id} style={styles.teamSection}>\n                    <Text style={styles.teamTitle}>{tGroup.name}</Text>\n                    {tGroup.items.map((ill: Illness) => renderIllness(ill))}\n                  </View>\n                )) : group.items.map((ill: Illness) => renderIllness(ill))}\n              </View>\n            ))\n          )}\n        </ScrollView>\n      )}\n\n      {user && (\n        <TouchableOpacity\n          style={styles.fab}\n          onPress={() => navigation.navigate('AddIllness')}\n        >\n          <Text style={styles.fabText}>+</Text>\n        </TouchableOpacity>\n      )}\n    </View>\n  );\n};\n\nconst createStyles = (theme: Theme) =>\n  StyleSheet.create({\n    container: {\n      flex: 1,\n      backgroundColor: theme.colors.background,\n    },\n    listContent: {\n      padding: theme.spacing.m,\n      flexGrow: 1,\n      paddingBottom: 80,\n      width: '100%',\n      maxWidth: 800,\n      alignSelf: 'center',\n    },\n    searchContainer: {\n      padding: theme.spacing.m,\n      paddingBottom: 0,\n    },\n    header: {\n      backgroundColor: theme.colors.surface,\n      paddingTop: Platform.OS === 'ios' ? 0 : theme.spacing.s,\n      borderBottomWidth: 1,\n      borderBottomColor: theme.colors.border,\n    },\n    tabContainer: {\n      flexDirection: 'row',\n      paddingHorizontal: theme.spacing.m,\n      marginTop: theme.spacing.s,\n    },\n    tab: {\n      paddingVertical: theme.spacing.s,\n      paddingHorizontal: theme.spacing.m,\n      marginRight: theme.spacing.s,\n      borderBottomWidth: 2,\n      borderBottomColor: 'transparent',\n    },\n    activeTab: {\n      borderBottomColor: theme.colors.primary,\n    },\n    tabText: {\n      ...theme.textVariants.body,\n      color: theme.colors.subText,\n      fontWeight: '600',\n    },\n    activeTabText: {\n      color: theme.colors.primary,\n    },\n    section: {\n      marginBottom: theme.spacing.l,\n    },\n    sectionTitle: {\n      ...theme.textVariants.header,\n      fontSize: 18,\n      color: theme.colors.text,\n      marginBottom: theme.spacing.s,\n      paddingHorizontal: theme.spacing.s,\n    },\n    teamSection: {\n      marginBottom: theme.spacing.m,\n      paddingLeft: theme.spacing.s,\n    },\n    teamTitle: {\n      ...theme.textVariants.subheader,\n      fontSize: 14,\n      color: theme.colors.primary,\n      marginBottom: theme.spacing.s,\n      textTransform: 'uppercase',\n    },\n    filterWrapper: {\n      paddingVertical: theme.spacing.s,\n      backgroundColor: theme.colors.surface,\n      borderBottomWidth: 1,\n      borderBottomColor: theme.colors.border,\n    },\n    filterScroll: {\n      paddingHorizontal: theme.spacing.m,\n      gap: theme.spacing.s,\n    },\n    filterChip: {\n      paddingHorizontal: theme.spacing.m,\n      paddingVertical: 6,\n      borderRadius: 15,\n      backgroundColor: theme.colors.background,\n      borderWidth: 1,\n      borderColor: theme.colors.border,\n    },\n    activeFilterChip: {\n      backgroundColor: theme.colors.primary,\n      borderColor: theme.colors.primary,\n    },\n    filterChipText: {\n      fontSize: 12,\n      fontWeight: '600',\n      color: theme.colors.text,\n    },\n    activeFilterChipText: {\n      color: '#FFF',\n    },\n    card: {\n      backgroundColor: theme.colors.surface,\n      borderRadius: theme.spacing.m,\n      padding: theme.spacing.m,\n      marginBottom: theme.spacing.m,\n      flexDirection: 'row',\n      ...theme.shadows.small,\n    },\n    cardWarning: {\n      borderLeftWidth: 4,\n      borderLeftColor: theme.colors.warning,\n    },\n    thumbnail: {\n      width: 80,\n      height: 80,\n      borderRadius: theme.spacing.s,\n      marginRight: theme.spacing.m,\n      backgroundColor: theme.colors.border,\n    },\n    details: {\n      flex: 1,\n    },\n    payrollName: {\n      ...theme.textVariants.subheader,\n      marginBottom: theme.spacing.xs,\n      color: theme.colors.text,\n    },\n    employee: {\n      ...theme.textVariants.body,\n      color: theme.colors.subText,\n      marginBottom: theme.spacing.xs,\n    },\n    date: {\n      ...theme.textVariants.caption,\n      marginBottom: 2,\n      color: theme.colors.subText,\n    },\n    expiry: {\n      ...theme.textVariants.caption,\n      color: theme.colors.subText,\n    },\n    expiryWarning: {\n      color: theme.colors.warning,\n      fontWeight: '600',\n    },\n    emptyContainer: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      paddingVertical: 60,\n    },\n    emptyIcon: {\n      fontSize: 64,\n      marginBottom: theme.spacing.m,\n    },\n    emptyText: {\n      ...theme.textVariants.subheader,\n      color: theme.colors.subText,\n      marginBottom: theme.spacing.xs,\n      fontSize: 18,\n    },\n    emptySubText: {\n      ...theme.textVariants.body,\n      color: theme.colors.subText,\n      textAlign: 'center',\n      marginBottom: theme.spacing.l,\n    },\n    emptyAddButton: {\n      backgroundColor: theme.colors.primary,\n      paddingHorizontal: theme.spacing.xl,\n      paddingVertical: theme.spacing.m,\n      borderRadius: theme.spacing.m,\n      marginTop: theme.spacing.m,\n    },\n    emptyAddButtonText: {\n      color: '#FFF',\n      fontWeight: '600',\n      fontSize: 16,\n    },\n    fab: {\n      position: 'absolute' as any,\n      right: theme.spacing.l,\n      bottom: theme.spacing.l,\n      width: 56,\n      height: 56,\n      borderRadius: 28,\n      backgroundColor: theme.colors.primary,\n      justifyContent: 'center',\n      alignItems: 'center',\n      ...theme.shadows.large,\n      zIndex: 999,\n    } as any,\n    fabText: {\n      fontSize: 32,\n      color: theme.colors.surface,\n      fontWeight: '300',\n      marginTop: -2,\n    },\n  });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/leaves/AddLeaveScreen.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/leaves/LeaveApprovalListScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'navigation' is defined but never used.","line":18,"column":43,"nodeType":null,"messageId":"unusedVar","endLine":18,"endColumn":53},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":18,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[610,613],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[610,613],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":34,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":34,"endColumn":23},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":65,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":65,"endColumn":23},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":75,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":75,"endColumn":23}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useMemo } from 'react';\nimport {\n    View,\n    Text,\n    StyleSheet,\n    FlatList,\n    TouchableOpacity,\n    ActivityIndicator,\n} from 'react-native';\nimport { useTranslation } from 'react-i18next';\nimport { leavesDb } from '../../database/leavesDb';\nimport { notificationService } from '../../services/notificationService';\nimport { useTheme } from '../../context/ThemeContext';\nimport { Theme } from '../../theme';\nimport { formatDate } from '../../utils/dateUtils';\nimport { Leave } from '../../database/schema';\n\nexport const LeaveApprovalListScreen = ({ navigation }: any) => {\n    const { theme } = useTheme();\n    const { t } = useTranslation();\n    const styles = useMemo(() => createStyles(theme), [theme]);\n\n    const [pendingLeaves, setPendingLeaves] = useState<Leave[]>([]);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        loadPendingLeaves();\n    }, []);\n\n    const loadPendingLeaves = async () => {\n        try {\n            const leaves = await leavesDb.getPending();\n            setPendingLeaves(leaves);\n        } catch (error) {\n            notificationService.showAlert(t('common.error'), t('leaves.loadError'));\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleApprove = async (leave: Leave) => {\n        try {\n            await leavesDb.update(leave.id!, { status: 'approved' });\n            // Update employee remaining days if it's a 'leave'\n            if (leave.type === 'leave') {\n                const { employeesDb } = require('../../database/employeesDb');\n                const employee = await employeesDb.getById(leave.employeeId);\n                if (employee) {\n                    // Try to calculate days if startDate/endDate exist, otherwise 1\n                    let days = 1;\n                    if (leave.startDate && leave.endDate) {\n                        const start = new Date(leave.startDate);\n                        const end = new Date(leave.endDate);\n                        const diffTime = Math.abs(end.getTime() - start.getTime());\n                        days = Math.ceil(diffTime / (1000 * 60 * 60 * 24)) + 1;\n                    }\n\n                    await employeesDb.update(employee.id, {\n                        remainingVacationDays: Math.max(0, employee.remainingVacationDays - days)\n                    });\n                }\n            }\n            notificationService.showAlert(t('common.success'), t('leaveStatus.approved'));\n            loadPendingLeaves();\n        } catch (error) {\n            notificationService.showAlert(t('common.error'), t('common.saveError'));\n        }\n    };\n\n    const handleDecline = async (id: number) => {\n        try {\n            await leavesDb.update(id, { status: 'declined' });\n            notificationService.showAlert(t('common.success'), t('leaveStatus.declined'));\n            loadPendingLeaves();\n        } catch (error) {\n            notificationService.showAlert(t('common.error'), t('common.saveError'));\n        }\n    };\n\n    const renderItem = ({ item }: { item: Leave }) => (\n        <View style={styles.card}>\n            <View style={styles.cardHeader}>\n                <Text style={styles.cardTitle}>{item.title}</Text>\n                <Text style={styles.cardBadge}>{t(`leaveTypes.${item.type}`)}</Text>\n            </View>\n            <Text style={styles.cardSubtitle}>{item.employeeName}</Text>\n            <Text style={styles.cardDate}>{formatDate(item.dateTime)}</Text>\n            {item.notes && <Text style={styles.cardNotes}>{item.notes}</Text>}\n\n            <View style={styles.actions}>\n                <TouchableOpacity\n                    style={[styles.actionButton, styles.declineButton]}\n                    onPress={() => handleDecline(item.id!)}\n                >\n                    <Text style={styles.declineText}>{t('leaves.decline')}</Text>\n                </TouchableOpacity>\n                <TouchableOpacity\n                    style={[styles.actionButton, styles.approveButton]}\n                    onPress={() => handleApprove(item)}\n                >\n                    <Text style={styles.approveText}>{t('leaves.approve')}</Text>\n                </TouchableOpacity>\n            </View>\n        </View>\n    );\n\n    if (loading) {\n        return (\n            <View style={styles.centered}>\n                <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n            </View>\n        );\n    }\n\n    return (\n        <View style={styles.container}>\n            <FlatList\n                data={pendingLeaves}\n                renderItem={renderItem}\n                keyExtractor={item => item.id!.toString()}\n                ListEmptyComponent={\n                    <View style={styles.centered}>\n                        <Text style={styles.emptyText}>{t('leaves.noLeaves')}</Text>\n                    </View>\n                }\n                contentContainerStyle={styles.listContent}\n            />\n        </View>\n    );\n};\n\nconst createStyles = (theme: Theme) =>\n    StyleSheet.create({\n        container: { backgroundColor: theme.colors.background },\n        centered: { flex: 1, justifyContent: 'center', alignItems: 'center', padding: theme.spacing.xl },\n        listContent: { padding: theme.spacing.m },\n        card: {\n            backgroundColor: theme.colors.surface,\n            borderRadius: theme.spacing.m,\n            padding: theme.spacing.l,\n            marginBottom: theme.spacing.m,\n            ...theme.shadows.small,\n        },\n        cardHeader: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', marginBottom: theme.spacing.s },\n        cardTitle: { ...theme.textVariants.subheader, color: theme.colors.text },\n        cardBadge: {\n            backgroundColor: theme.colors.primary + '20',\n            paddingHorizontal: theme.spacing.s,\n            paddingVertical: 2,\n            borderRadius: 4,\n            fontSize: 12,\n            color: theme.colors.primary,\n            fontWeight: 'bold',\n        },\n        cardSubtitle: { ...theme.textVariants.body, color: theme.colors.subText, marginBottom: 4 },\n        cardDate: { ...theme.textVariants.caption, color: theme.colors.subText, marginBottom: theme.spacing.s },\n        cardNotes: { ...theme.textVariants.body, color: theme.colors.text, fontStyle: 'italic', marginBottom: theme.spacing.m },\n        actions: { flexDirection: 'row', gap: theme.spacing.m },\n        actionButton: { flex: 1, padding: theme.spacing.m, borderRadius: theme.spacing.s, alignItems: 'center' },\n        approveButton: { backgroundColor: theme.colors.primary },\n        declineButton: { borderWidth: 1, borderColor: theme.colors.error },\n        approveText: { color: theme.colors.surface, fontWeight: 'bold' },\n        declineText: { color: theme.colors.error, fontWeight: 'bold' },\n        emptyText: { ...theme.textVariants.body, color: theme.colors.subText },\n    });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/leaves/LeaveDetailsScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":24,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":24,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[923,926],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[923,926],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":53,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":53,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":84,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":84,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":111,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":111,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'start' is assigned a value but never used.","line":132,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":132,"endColumn":14},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'end' is assigned a value but never used.","line":133,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":133,"endColumn":12}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useMemo, useContext } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  ScrollView,\n  TouchableOpacity,\n  Platform,\n} from 'react-native';\nimport { leavesDb } from '../../database/leavesDb';\nimport { notificationService } from '../../services/notificationService';\nimport { emailService } from '../../services/emailService';\nimport { Leave } from '../../database/schema';\nimport { useTranslation } from 'react-i18next';\nimport { useTheme } from '../../context/ThemeContext';\nimport { Theme } from '../../theme';\nimport { formatDate, formatDateTime } from '../../utils/dateUtils';\n\nimport { useAuth } from '../../context/AuthContext';\nimport { useToast } from '../../context/ToastContext';\nimport { useModal } from '../../context/ModalContext';\nimport { WebNavigationContext } from '../../navigation/WebNavigationContext';\n\nexport const LeaveDetailsScreen = ({ navigation, route }: any) => {\n  const { user } = useAuth();\n  const { showToast } = useToast();\n  const { showModal } = useModal();\n  const { leaveId } = route.params;\n  const { theme } = useTheme();\n  const { t } = useTranslation();\n  const styles = useMemo(() => createStyles(theme), [theme]);\n  const [leave, setLeave] = useState<Leave | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  const { setActiveTab } = useContext(WebNavigationContext);\n\n  const navigateBack = () => {\n    if (Platform.OS === 'web') {\n      setActiveTab('Leaves');\n    } else {\n      navigation.goBack();\n    }\n  };\n\n  useEffect(() => {\n    loadLeave();\n  }, [leaveId]);\n\n  const loadLeave = async () => {\n    try {\n      const data = await leavesDb.getById(leaveId);\n      setLeave(data);\n    } catch (error) {\n      showToast(t('leaveDetails.errorLoadFailed'), 'info');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleStatusChange = async (newStatus: 'approved' | 'declined') => {\n    if (!leave) return;\n    try {\n      setLoading(true);\n      await leavesDb.update(leaveId, { ...leave, status: newStatus });\n      setLeave({ ...leave, status: newStatus });\n\n      // Notify Employee (Simulated via local notification for now)\n      await notificationService.notifyLeaveRequestDecision(\n        leaveId,\n        leave.title,\n        newStatus\n      );\n\n      // Open Email Draft for Employee\n      await emailService.sendStatusUpdateEmail(\n        'employee@example.com', // In a real app, this would be the actual employee email\n        newStatus,\n        leave.title,\n        user?.name || 'HR Manager'\n      );\n\n      setLeave({ ...leave, status: newStatus });\n      notificationService.showAlert(t('common.success'), t(`leaves.statusUpdated_${newStatus}`));\n    } catch (error) {\n      notificationService.showAlert(t('common.error'), t('leaves.updateError'));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDelete = () => {\n    showModal({\n      title: t('leaveDetails.deleteConfirmTitle'),\n      message: t('leaveDetails.deleteConfirmMessage'),\n      buttons: [\n        { text: t('common.cancel'), style: 'cancel' },\n        {\n          text: t('common.delete'),\n          style: 'destructive',\n          onPress: () => handleConfirmDelete(),\n        },\n      ],\n    });\n  };\n\n  const handleConfirmDelete = async () => {\n    try {\n      await leavesDb.delete(leaveId);\n      await notificationService.cancelLeaveReminder(leaveId);\n      navigateBack();\n    } catch (error) {\n      showToast(t('leaveDetails.errorDeleteFailed'), 'info');\n    }\n  };\n\n  const handleEdit = () => {\n    if (Platform.OS === 'web') {\n      setActiveTab('Leaves', 'AddLeave', { leaveId });\n    } else {\n      navigation.navigate('AddLeave', { leaveId });\n    }\n  };\n\n  if (loading || !leave) {\n    return (\n      <View style={styles.container}>\n        <Text style={{ color: theme.colors.text }}>{t('leaveDetails.loading')}</Text>\n      </View>\n    );\n  }\n\n  const start = formatDate(leave.startDate || leave.dateTime);\n  const end = leave.endDate ? formatDate(leave.endDate) : null;\n  const startFull = formatDateTime(leave.startDate || leave.dateTime);\n  const endFull = leave.endDate ? formatDateTime(leave.endDate) : null;\n\n  return (\n    <View style={styles.container}>\n      <ScrollView contentContainerStyle={styles.content}>\n        <View style={styles.section}>\n          <Text style={styles.title}>{leave.title}</Text>\n          <Text style={styles.typeLabel}>{t(`leaveTypes.${leave.type}`)}</Text>\n          <Text style={styles.dateTime}>\n            {startFull}\n          </Text>\n          {endFull && endFull !== startFull && (\n            <Text style={styles.dateTime}>to {endFull}</Text>\n          )}\n          <View style={[styles.statusBadge, { backgroundColor: getStatusColor(leave.status) + '20' }]}>\n            <Text style={[styles.statusText, { color: getStatusColor(leave.status) }]}>\n              {t(`leaveStatus.${leave.status}`)}\n            </Text>\n          </View>\n        </View>\n\n        {\n          (user?.role === 'admin' || user?.role === 'rh' || user?.role === 'chef_dequipe') && leave.status === 'pending' && (\n            <View style={styles.approvalActions}>\n              <TouchableOpacity\n                style={[styles.button, styles.approveButton]}\n                onPress={() => handleStatusChange('approved')}\n              >\n                <Text style={styles.buttonText}>{t('leaves.approve')}</Text>\n              </TouchableOpacity>\n              <TouchableOpacity\n                style={[styles.button, styles.declineButton]}\n                onPress={() => handleStatusChange('declined')}\n              >\n                <Text style={styles.buttonText}>{t('leaves.decline')}</Text>\n              </TouchableOpacity>\n            </View>\n          )\n        }\n\n        {\n          leave.employeeName && (\n            <View style={styles.section}>\n              <Text style={styles.label}>{t('leaveDetails.employeeLabel')}</Text>\n              <Text style={styles.value}>{leave.employeeName}</Text>\n              {leave.department && (\n                <View style={{ marginTop: 8 }}>\n                  <Text style={styles.label}>{t('common.service')}</Text>\n                  <Text style={styles.value}>{leave.department}</Text>\n                </View>\n              )}\n            </View>\n          )\n        }\n\n        {\n          leave.location && (\n            <View style={styles.section}>\n              <Text style={styles.label}>{t('leaveDetails.locationLabel')}</Text>\n              <Text style={styles.value}>{leave.location}</Text>\n            </View>\n          )\n        }\n\n        {\n          leave.notes && (\n            <View style={styles.section}>\n              <Text style={styles.label}>{t('leaveDetails.notesLabel')}</Text>\n              <Text style={styles.value}>{leave.notes}</Text>\n            </View>\n          )\n        }\n\n        <View style={styles.section}>\n          <Text style={styles.label}>{t('leaveDetails.reminderLabel')}</Text>\n          <Text style={styles.value}>\n            {leave.reminderEnabled ? t('leaveDetails.reminderTimeText') : t('leaveDetails.reminderDisabled')}\n          </Text>\n        </View>\n\n        {\n          (user?.role === 'admin' || user?.role === 'rh' || (user?.role === 'employee' && leave.employeeId === user.employeeId)) && (\n            <>\n              <TouchableOpacity\n                style={[styles.button, styles.editButton]}\n                onPress={handleEdit}\n              >\n                <Text style={styles.buttonText}>{t('leaveDetails.editButton')}</Text>\n              </TouchableOpacity>\n\n              {(user?.role === 'admin' || user?.role === 'rh') && (\n                <TouchableOpacity\n                  style={[styles.button, styles.deleteButton]}\n                  onPress={handleDelete}\n                >\n                  <Text style={styles.buttonText}>{t('leaveDetails.deleteButton')}</Text>\n                </TouchableOpacity>\n              )}\n            </>\n          )\n        }\n      </ScrollView >\n    </View >\n  );\n};\n\nconst createStyles = (theme: Theme) =>\n  StyleSheet.create({\n    container: {\n      backgroundColor: theme.colors.background,\n    },\n    content: {\n      padding: theme.spacing.m,\n    },\n    section: {\n      backgroundColor: theme.colors.surface,\n      borderRadius: theme.spacing.m,\n      padding: theme.spacing.m,\n      marginBottom: theme.spacing.m,\n      ...theme.shadows.small,\n    },\n    title: {\n      ...theme.textVariants.header,\n      marginBottom: theme.spacing.s,\n      color: theme.colors.text,\n    },\n    dateTime: {\n      ...theme.textVariants.subheader,\n      color: theme.colors.primary,\n      marginTop: 4,\n    },\n    typeLabel: {\n      ...theme.textVariants.caption,\n      color: theme.colors.subText,\n      fontWeight: 'bold',\n      textTransform: 'uppercase',\n    },\n    label: {\n      ...theme.textVariants.caption,\n      marginBottom: 4,\n      color: theme.colors.subText,\n    },\n    value: {\n      ...theme.textVariants.body,\n      color: theme.colors.text,\n    },\n    button: {\n      backgroundColor: theme.colors.primary,\n      padding: theme.spacing.m,\n      borderRadius: theme.spacing.s,\n      alignItems: 'center',\n      marginTop: theme.spacing.m,\n    },\n    editButton: {\n      backgroundColor: theme.colors.secondary,\n    },\n    deleteButton: {\n      backgroundColor: theme.colors.error,\n    },\n    buttonText: {\n      ...theme.textVariants.button,\n      color: theme.colors.surface,\n    },\n    statusBadge: {\n      alignSelf: 'flex-start',\n      paddingHorizontal: 8,\n      paddingVertical: 2,\n      borderRadius: 4,\n      marginTop: theme.spacing.m,\n    },\n    statusText: {\n      fontSize: 12,\n      fontWeight: 'bold',\n      textTransform: 'uppercase',\n    },\n    approvalActions: {\n      flexDirection: 'row',\n      gap: theme.spacing.m,\n      marginBottom: theme.spacing.m,\n    },\n    approveButton: {\n      flex: 1,\n      backgroundColor: '#4CAF50',\n    },\n    declineButton: {\n      flex: 1,\n      backgroundColor: '#F44336',\n    },\n  });\n\nconst getStatusColor = (status: string) => {\n  switch (status) {\n    case 'approved': return '#4CAF50';\n    case 'declined': return '#F44336';\n    default: return '#FF9800';\n  }\n};\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/leaves/LeaveListScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'FlatList' is defined but never used.","line":6,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":11},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":24,"column":49,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":24,"endColumn":52,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[929,932],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[929,932],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'groups' is assigned a value but never used.","line":83,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":83,"endColumn":17},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":83,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":83,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2762,2765],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2762,2765],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":84,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":84,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2824,2827],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2824,2827],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":179,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":179,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6128,6131],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6128,6131],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":187,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":187,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6476,6479],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6476,6479],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":300,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":300,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9449,9452],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9449,9452],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":311,"column":10,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":311,"endColumn":13,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9738,9741],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9738,9741],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":9,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useCallback, useMemo } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  FlatList,\n  TouchableOpacity,\n  ScrollView,\n} from 'react-native';\nimport { useFocusEffect } from '@react-navigation/native';\nimport { useTranslation } from 'react-i18next';\nimport { leavesDb } from '../../database/leavesDb';\nimport { employeesDb } from '../../database/employeesDb';\nimport { companiesDb } from '../../database/companiesDb';\nimport { teamsDb } from '../../database/teamsDb';\nimport { Leave, Employee, Company, Team } from '../../database/schema';\nimport { useTheme } from '../../context/ThemeContext';\nimport { Theme } from '../../theme';\nimport { SearchInput } from '../../components/SearchInput';\nimport { formatDate } from '../../utils/dateUtils';\nimport { useAuth } from '../../context/AuthContext';\nimport { useToast } from '../../context/ToastContext';\n\nexport const LeaveListScreen = ({ navigation }: any) => {\n  const { user } = useAuth();\n  const { t } = useTranslation();\n  const { theme } = useTheme();\n  const { showToast } = useToast();\n  const styles = useMemo(() => createStyles(theme), [theme]);\n\n  const [leaves, setLeaves] = useState<Leave[]>([]);\n  const [employees, setEmployees] = useState<Employee[]>([]);\n  const [companies, setCompanies] = useState<Company[]>([]);\n  const [teams, setTeams] = useState<Team[]>([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [loading, setLoading] = useState(true);\n\n  const loadData = async () => {\n    try {\n      const [leavesData, employeesData, companiesData, teamsData] = await Promise.all([\n        leavesDb.getUpcoming(),\n        employeesDb.getAll(),\n        companiesDb.getAll(),\n        teamsDb.getAll(),\n      ]);\n\n      let filteredLeaves = leavesData;\n      if (user?.role === 'employee' && user?.employeeId) {\n        filteredLeaves = leavesData.filter(leave => leave.employeeId === user.employeeId);\n      }\n\n      setLeaves(filteredLeaves);\n      setEmployees(employeesData);\n      setCompanies(companiesData);\n      setTeams(teamsData);\n    } catch (error) {\n      console.error('Error loading data:', error);\n      showToast(t('leaves.loadError'), 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useFocusEffect(\n    useCallback(() => {\n      loadData();\n    }, []),\n  );\n\n  const groupedData = useMemo(() => {\n    const lowerQuery = searchQuery.toLowerCase();\n    const filtered = leaves.filter(\n      leave =>\n        leave.title.toLowerCase().includes(lowerQuery) ||\n        (leave.employeeName && leave.employeeName.toLowerCase().includes(lowerQuery)),\n    );\n\n    if (user?.role !== 'admin' && user?.role !== 'rh') {\n      return [{ type: 'direct', items: filtered }];\n    }\n\n    // Grouping logic for Admin\n    const groups: any[] = [];\n    const companiesMap = new Map<number | string, any>();\n\n    filtered.forEach(leave => {\n      const employee = employees.find(e => e.id === leave.employeeId);\n      const companyId = employee?.companyId || 'other';\n      const teamId = employee?.teamId || 'other';\n\n      if (!companiesMap.has(companyId)) {\n        const company = companies.find(c => c.id === companyId);\n        companiesMap.set(companyId, {\n          id: companyId,\n          name: company?.name || 'Autres Entreprises',\n          teams: new Map(),\n        });\n      }\n\n      const companyGroup = companiesMap.get(companyId);\n      if (!companyGroup.teams.has(teamId)) {\n        const team = teams.find(t => t.id === teamId);\n        const manager = employees.find(e => e.id === team?.managerId);\n        companyGroup.teams.set(teamId, {\n          id: teamId,\n          name: team?.name || t('common.noTeam'),\n          managerName: manager?.name || t('common.na'),\n          items: [],\n        });\n      }\n\n      companyGroup.teams.get(teamId).items.push(leave);\n    });\n\n    // Convert Map to Array\n    return Array.from(companiesMap.values()).map(c => ({\n      ...c,\n      teams: Array.from(c.teams.values()),\n    }));\n  }, [leaves, searchQuery, user?.role, employees, companies, teams]);\n\n  const renderLeave = (item: Leave) => {\n    const startStr = formatDate(item.startDate || item.dateTime);\n    const endStr = item.endDate ? formatDate(item.endDate) : null;\n\n    return (\n      <TouchableOpacity\n        key={item.id}\n        style={styles.card}\n        onPress={() => navigation.navigate('LeaveDetails', { leaveId: item.id })}\n      >\n        <View style={styles.dateColumn}>\n          <Text style={styles.dateText}>{startStr}</Text>\n          {endStr && endStr !== startStr && <Text style={styles.rangeDivider}>{t('common.to')}</Text>}\n          {endStr && endStr !== startStr && <Text style={styles.dateText}>{endStr}</Text>}\n        </View>\n\n        <View style={styles.detailsColumn}>\n          <Text style={styles.title}>{item.title}</Text>\n          {item.employeeName && (\n            <Text style={styles.employee}>{item.employeeName}</Text>\n          )}\n          <View style={[styles.statusBadge, { backgroundColor: getStatusColor(item.status, theme) + '20' }]}>\n            <Text style={[styles.statusText, { color: getStatusColor(item.status, theme) }]}>\n              {t(`leaveStatus.${item.status}`)}\n            </Text>\n          </View>\n        </View>\n      </TouchableOpacity>\n    );\n  };\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.searchContainer}>\n        <SearchInput\n          value={searchQuery}\n          onChangeText={setSearchQuery}\n          placeholder={t('common.searchPlaceholder')}\n        />\n      </View>\n\n      {user?.role !== 'employee' && (\n        <TouchableOpacity\n          style={styles.approvalLink}\n          onPress={() => navigation.navigate('LeaveApprovalList')}\n        >\n          <Text style={styles.approvalLinkText}>🔔 {t('leaves.approvals')}</Text>\n        </TouchableOpacity>\n      )}\n\n      <ScrollView contentContainerStyle={styles.listContent}>\n        {groupedData.length === 0 && !loading && (\n          <View style={styles.emptyContainer}>\n            <Text style={styles.emptyText}>{t('leaves.noLeaves')}</Text>\n          </View>\n        )}\n\n        {groupedData.map((companyGroup: any) => (\n          <View key={companyGroup.id} style={styles.companySection}>\n            {companyGroup.name !== 'direct' && (\n              <View style={styles.companyHeader}>\n                <Text style={styles.companyName}>{companyGroup.name}</Text>\n              </View>\n            )}\n\n            {(companyGroup.teams || []).map((teamGroup: any) => (\n              <View key={teamGroup.id} style={styles.teamSection}>\n                {teamGroup.name && (\n                  <View style={styles.teamHeader}>\n                    <View style={styles.teamInfo}>\n                      <Text style={styles.teamName}>{teamGroup.name}</Text>\n                      <Text style={styles.teamManager}>{t('roles.chef_dequipe')}: {teamGroup.managerName}</Text>\n                    </View>\n                  </View>\n                )}\n                {teamGroup.items.map((leave: Leave) => renderLeave(leave))}\n              </View>\n            ))}\n\n            {companyGroup.type === 'direct' && companyGroup.items.map((leave: Leave) => renderLeave(leave))}\n          </View>\n        ))}\n      </ScrollView>\n\n      <TouchableOpacity\n        style={styles.fab}\n        onPress={() => navigation.navigate('AddLeave')}\n      >\n        <Text style={styles.fabText}>+</Text>\n      </TouchableOpacity>\n    </View>\n  );\n};\n\nconst createStyles = (theme: Theme) =>\n  StyleSheet.create({\n    container: {\n      flex: 1,\n      backgroundColor: theme.colors.background,\n    },\n    listContent: {\n      padding: theme.spacing.m,\n      flexGrow: 1,\n      paddingBottom: 80,\n      width: '100%',\n      maxWidth: 800,\n      alignSelf: 'center',\n    },\n    searchContainer: {\n      padding: theme.spacing.m,\n      paddingBottom: 0,\n    },\n    card: {\n      backgroundColor: theme.colors.surface,\n      borderRadius: theme.spacing.m,\n      padding: theme.spacing.m,\n      marginBottom: theme.spacing.m,\n      flexDirection: 'row',\n      ...theme.shadows.small,\n    },\n    dateColumn: {\n      width: 80,\n      marginRight: theme.spacing.m,\n      alignItems: 'center',\n      justifyContent: 'center',\n      borderRightWidth: 1,\n      borderRightColor: theme.colors.border,\n    },\n    dateText: {\n      ...theme.textVariants.caption,\n      fontWeight: '600',\n      color: theme.colors.text,\n    },\n    timeText: {\n      ...theme.textVariants.body,\n      color: theme.colors.primary,\n      fontWeight: 'bold',\n      marginTop: 2,\n    },\n    rangeDivider: {\n      ...theme.textVariants.caption,\n      color: theme.colors.subText,\n      marginVertical: 2,\n      fontSize: 10,\n    },\n    detailsColumn: {\n      flex: 1,\n    },\n    title: {\n      ...theme.textVariants.subheader,\n      marginBottom: 4,\n      color: theme.colors.text,\n    },\n    employee: {\n      ...theme.textVariants.body,\n      color: theme.colors.subText,\n      marginBottom: 4,\n    },\n    location: {\n      ...theme.textVariants.caption,\n      color: theme.colors.subText,\n    },\n    emptyContainer: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      paddingVertical: 60,\n    },\n    emptyText: {\n      ...theme.textVariants.subheader,\n      color: theme.colors.subText,\n      marginBottom: theme.spacing.s,\n    },\n    emptySubText: {\n      ...theme.textVariants.body,\n      color: theme.colors.subText,\n    },\n    fab: {\n      position: 'absolute' as any,\n      right: theme.spacing.l,\n      bottom: theme.spacing.l,\n      width: 56,\n      height: 56,\n      borderRadius: 28,\n      backgroundColor: theme.colors.primary,\n      justifyContent: 'center',\n      alignItems: 'center',\n      ...theme.shadows.medium,\n      zIndex: 999,\n    } as any,\n    fabText: {\n      fontSize: 32,\n      color: theme.colors.background,\n      fontWeight: '300',\n      marginTop: -2,\n    },\n    statusBadge: {\n      alignSelf: 'flex-start',\n      paddingHorizontal: 8,\n      paddingVertical: 2,\n      borderRadius: 4,\n      marginTop: 4,\n    },\n    statusText: {\n      fontSize: 10,\n      fontWeight: 'bold',\n      textTransform: 'uppercase',\n    },\n    approvalLink: {\n      marginHorizontal: theme.spacing.m,\n      marginBottom: theme.spacing.s,\n      padding: theme.spacing.m,\n      backgroundColor: theme.colors.primary + '10',\n      borderRadius: theme.spacing.s,\n      borderWidth: 1,\n      borderColor: theme.colors.primary + '30',\n      alignItems: 'center',\n    },\n    approvalLinkText: {\n      color: theme.colors.primary,\n      fontWeight: 'bold',\n    },\n    companySection: {\n      marginBottom: theme.spacing.l,\n    },\n    companyHeader: {\n      flexDirection: 'row',\n      alignItems: 'center',\n      paddingVertical: theme.spacing.s,\n      borderBottomWidth: 2,\n      borderBottomColor: theme.colors.primary,\n      marginBottom: theme.spacing.m,\n    },\n    companyName: {\n      ...theme.textVariants.header,\n      color: theme.colors.primary,\n      fontSize: 20,\n    },\n    teamSection: {\n      marginLeft: theme.spacing.m,\n      marginBottom: theme.spacing.m,\n    },\n    teamHeader: {\n      flexDirection: 'row',\n      alignItems: 'center',\n      marginBottom: theme.spacing.s,\n      backgroundColor: theme.colors.background,\n      padding: theme.spacing.s,\n      borderRadius: theme.spacing.s,\n    },\n    teamInfo: {\n      flex: 1,\n    },\n    teamName: {\n      ...theme.textVariants.subheader,\n      color: theme.colors.text,\n      fontSize: 16,\n    },\n    teamManager: {\n      ...theme.textVariants.caption,\n      color: theme.colors.subText,\n      fontStyle: 'italic',\n    },\n  });\n\nconst getStatusColor = (status: string, theme: Theme) => {\n  switch (status) {\n    case 'approved': return theme.colors.success;\n    case 'declined': return theme.colors.error;\n    default: return theme.colors.warning;\n  }\n};\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/payroll/AddPayrollScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Switch' is defined but never used.","line":9,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":9,"endColumn":9},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'employeesDb' is defined but never used.","line":14,"column":21,"nodeType":null,"messageId":"unusedVar","endLine":14,"endColumn":32},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'companiesDb' is defined but never used.","line":14,"column":34,"nodeType":null,"messageId":"unusedVar","endLine":14,"endColumn":45},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'teamsDb' is defined but never used.","line":14,"column":47,"nodeType":null,"messageId":"unusedVar","endLine":14,"endColumn":54},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'servicesDb' is defined but never used.","line":14,"column":56,"nodeType":null,"messageId":"unusedVar","endLine":14,"endColumn":66},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Employee' is defined but never used.","line":18,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":18,"endColumn":18},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Leave' is defined but never used.","line":18,"column":20,"nodeType":null,"messageId":"unusedVar","endLine":18,"endColumn":25},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Claim' is defined but never used.","line":18,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":18,"endColumn":32},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":28,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":28,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1210,1213],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1210,1213],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":80,"column":64,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":80,"endColumn":67,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3610,3613],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3610,3613],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'e' is defined but never used.","line":110,"column":20,"nodeType":null,"messageId":"unusedVar","endLine":110,"endColumn":21},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":130,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":130,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'id' is assigned a value but never used.","line":192,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":192,"endColumn":11},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'handleAddTime' is assigned a value but never used.","line":210,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":210,"endColumn":22},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'handleRemoveTime' is assigned a value but never used.","line":211,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":211,"endColumn":25},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'handleTimeChange' is assigned a value but never used.","line":214,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":214,"endColumn":25}],"suppressedMessages":[],"errorCount":16,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useMemo, useContext } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  TextInput,\n  ScrollView,\n  TouchableOpacity,\n  Switch,\n  Platform,\n} from 'react-native';\nimport { useTranslation } from 'react-i18next';\nimport { WebNavigationContext } from '../../navigation/WebNavigationContext';\nimport { payrollDb, employeesDb, companiesDb, teamsDb, servicesDb, currenciesDb, Currency } from '../../database';\nimport { notificationService } from '../../services/notificationService';\nimport { useTheme } from '../../context/ThemeContext';\nimport { Theme } from '../../theme';\nimport { Employee, Leave, Claim, Payroll } from '../../database/schema';\nimport { Dropdown } from '../../components/Dropdown';\nimport { useSelector } from 'react-redux';\nimport { selectAllServices } from '../../store/slices/servicesSlice';\nimport { selectAllCompanies } from '../../store/slices/companiesSlice';\nimport { selectAllTeams } from '../../store/slices/teamsSlice';\nimport { selectAllEmployees } from '../../store/slices/employeesSlice';\nimport { useAuth } from '../../context/AuthContext';\nimport { RootState } from '../../store';\n\nexport const AddPayrollScreen = ({ navigation, route }: any) => {\n  const { theme } = useTheme();\n  const { t } = useTranslation();\n  const styles = useMemo(() => createStyles(theme), [theme]);\n\n  const payrollId = route?.params?.payrollId;\n  const [isEdit, setIsEdit] = useState(!!payrollId); // Make isEdit stateful to be updated by loadInitialData\n\n  const [name, setName] = useState('');\n  const [amount, setAmount] = useState('');\n  const [frequency, setFrequency] = useState('Daily');\n  const [times, setTimes] = useState<Date[]>([new Date(new Date().setHours(8, 0, 0, 0)), new Date(new Date().setHours(20, 0, 0, 0))]);\n  const [mealVouchers, setMealVouchers] = useState('');\n  const [giftVouchers, setGiftVouchers] = useState('');\n  const [bonusAmount, setBonusAmount] = useState('');\n  const [bonusType, setBonusType] = useState('none');\n  const [department, setDepartment] = useState('');\n  const [location, setLocation] = useState('');\n  const [currency, setCurrency] = useState('€'); // Default currency\n  const [availableCurrencies, setAvailableCurrencies] = useState<Currency[]>([]);\n\n  // New fields\n  const [month, setMonth] = useState(new Date().getMonth() + 1 + '');\n  const [year, setYear] = useState(new Date().getFullYear() + '');\n  const [hoursWorked, setHoursWorked] = useState('');\n\n  const [errors, setErrors] = useState<{ [key: string]: string }>({});\n  const [loading, setLoading] = useState(false);\n\n  const services = useSelector((state: RootState) => selectAllServices(state));\n  const companies = useSelector((state: RootState) => selectAllCompanies(state));\n  const teams = useSelector((state: RootState) => selectAllTeams(state));\n  const employees = useSelector((state: RootState) => selectAllEmployees(state));\n  const { user } = useAuth();\n\n  // New state for company/team/employee\n  const [companyId, setCompanyId] = useState<number | null>(null);\n  const [teamId, setTeamId] = useState<number | null>(null);\n  const [employeeId, setEmployeeId] = useState<number | null>(user?.role === 'employee' && user?.id ? Number(user.id) : null);\n\n  useEffect(() => {\n    loadInitialData();\n  }, [payrollId]); // Depend on payrollId to re-run if it changes (e.g., navigating from add to edit)\n\n  useEffect(() => {\n    navigation?.setOptions({\n      title: isEdit ? t('payroll.edit') : t('payroll.add'),\n    });\n  }, [isEdit, navigation, t]);\n\n  /* Removed require */\n\n  const { setActiveTab } = useContext(WebNavigationContext) as any;\n\n  const loadInitialData = async () => {\n    try {\n      // Load currencies\n      await currenciesDb.init(); // Ensure defaults exist\n      const currencies = await currenciesDb.getAll();\n      setAvailableCurrencies(currencies);\n      if (currencies.length > 0 && !payrollId) { // Use payrollId to check if it's an edit\n        setCurrency(currencies[0].symbol);\n      }\n\n      if (payrollId) {\n        setIsEdit(true);\n        const item = await payrollDb.getById(payrollId);\n        if (item) {\n          setName(item.name || '');\n          setAmount(item.amount ? item.amount.toString() : '');\n          setFrequency(item.frequency || 'Daily');\n\n          let parsedTimes: Date[] = [];\n          try {\n            const timeStrings = item.times ? JSON.parse(item.times) : ['08:00', '20:00'];\n            parsedTimes = timeStrings.map((ts: string) => {\n              const [h, m] = ts.split(':').map(Number);\n              const d = new Date();\n              d.setHours(h);\n              d.setMinutes(m);\n              return d;\n            });\n          } catch (e) {\n            parsedTimes = [new Date(new Date().setHours(8, 0)), new Date(new Date().setHours(20, 0))];\n          }\n          setTimes(parsedTimes);\n\n          setMealVouchers(item.mealVouchers ? item.mealVouchers.toString() : '');\n          setGiftVouchers(item.giftVouchers ? item.giftVouchers.toString() : '');\n          setBonusAmount(item.bonusAmount ? item.bonusAmount.toString() : '');\n          setBonusType(item.bonusType || 'none');\n          setDepartment(item.department || '');\n          setLocation(item.location || '');\n          setMonth(item.month || new Date().getMonth() + 1 + '');\n          setYear(item.year || new Date().getFullYear() + '');\n          setHoursWorked(item.hoursWorked ? item.hoursWorked.toString() : '');\n          setCurrency(item.currency || '€');\n          setCompanyId(item.companyId ?? null);\n          setTeamId(item.teamId ?? null);\n          setEmployeeId(item.employeeId ?? null);\n        }\n      }\n    } catch (error) {\n      notificationService.showAlert(t('common.error'), t('payroll.loadError'));\n    }\n  };\n\n  const handleSave = async () => {\n    const newErrors: { [key: string]: string } = {};\n    if (!name.trim()) newErrors.name = t('common.required');\n    if (!amount.trim()) {\n      newErrors.amount = t('common.required');\n    } else if (isNaN(Number(amount))) {\n      newErrors.amount = t('common.invalidAmount') || \"Invalid amount\";\n    }\n\n    setErrors(newErrors);\n    if (Object.keys(newErrors).length > 0) return;\n\n    setLoading(true);\n    try {\n      const timeStrings = times.map(t =>\n        t.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit', hour12: false })\n      );\n\n      const payrollData: Omit<Payroll, 'id' | 'createdAt' | 'updatedAt'> = {\n        name: name.trim(),\n        amount: parseFloat(amount) || 0,\n        currency,\n        frequency,\n        times: JSON.stringify(timeStrings),\n        startDate: new Date().toISOString().split('T')[0], // Default to today\n        reminderEnabled: false,\n        isUrgent: false,\n        mealVouchers: (() => {\n          if (!mealVouchers) return undefined;\n          const clean = mealVouchers.toLowerCase().replace(/,/g, '.').replace(/\\s/g, '');\n          if (clean.includes('x') || clean.includes('*')) {\n            const parts = clean.split(/[x*]/);\n            if (parts.length === 2) {\n              const val = parseFloat(parts[0]) * parseFloat(parts[1]);\n              return isNaN(val) ? undefined : val;\n            }\n          }\n          return parseFloat(clean) || undefined;\n        })(),\n        giftVouchers: giftVouchers ? parseFloat(giftVouchers) : undefined,\n        bonusAmount: bonusAmount ? parseFloat(bonusAmount) : undefined,\n        bonusType,\n        department,\n        location,\n        month,\n        year,\n        hoursWorked: hoursWorked ? parseFloat(hoursWorked) : undefined,\n        companyId: companyId ?? undefined,\n        teamId: teamId ?? undefined,\n        employeeId: (employeeId ?? undefined) || (user?.role === 'employee' ? Number(user.id) : undefined),\n      };\n\n      let id: number;\n      if (isEdit && payrollId) {\n        await payrollDb.update(payrollId, payrollData);\n        id = payrollId;\n      } else {\n        id = await payrollDb.add(payrollData);\n      }\n\n      /* Reminders removed */\n\n      if (Platform.OS === 'web') {\n        setActiveTab('Payroll');\n      } else {\n        navigation.goBack();\n      }\n    } catch (error) {\n      console.error('Error saving payroll:', error);\n      notificationService.showAlert(t('common.error'), t('payroll.saveError'));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleAddTime = () => setTimes([...times, new Date(new Date().setHours(12, 0))]);\n  const handleRemoveTime = (index: number) =>\n    setTimes(times.filter((_, i) => i !== index));\n\n  const handleTimeChange = (index: number, newDate: Date) => {\n    const newTimes = [...times];\n    newTimes[index] = newDate;\n    setTimes(newTimes);\n  };\n\n  return (\n    <View style={styles.container}>\n      <ScrollView contentContainerStyle={styles.content}>\n        <View style={styles.formContainer}>\n          {/* Section: Payment Information */}\n          <View style={styles.section}>\n            <Text style={styles.sectionTitle}>{t('common.generalInfo') || t('navigation.personalInfo')}</Text>\n\n            <View style={styles.responsiveRow}>\n              <View style={styles.fieldContainer}>\n                <Dropdown\n                  label={t('payroll.name') + ' *'}\n                  data={[\n                    { label: t('payroll.items.baseSalary'), value: 'baseSalary' },\n                    { label: t('payroll.items.mealTicket'), value: 'mealTicket' },\n                    { label: t('payroll.items.transportAllowance'), value: 'transportAllowance' },\n                    { label: t('payroll.items.performanceBonus'), value: 'performanceBonus' },\n                    { label: t('payroll.items.thirteenthMonth'), value: 'thirteenthMonth' },\n                    { label: t('payroll.items.bonus'), value: 'bonus' },\n                    { label: t('payroll.items.indemnity'), value: 'indemnity' },\n                    { label: t('payroll.items.overtime'), value: 'overtime' },\n                  ]}\n                  value={name}\n                  onSelect={setName}\n                />\n                {errors.name && <Text style={styles.errorText}>{errors.name}</Text>}\n              </View>\n\n              <View style={styles.fieldContainer}>\n                <Text style={styles.label}>{t('payroll.baseSalary')} *</Text>\n                <View style={[styles.responsiveRow, { gap: theme.spacing.s }]}>\n                  <View style={{ flex: 1 }}>\n                    <TextInput\n                      style={[styles.input, errors.amount && styles.inputError]}\n                      value={amount}\n                      onChangeText={text => {\n                        setAmount(text);\n                        if (errors.amount) setErrors({ ...errors, amount: '' });\n                      }}\n                      placeholder={t('payroll.amountPlaceholder')}\n                      placeholderTextColor={theme.colors.subText}\n                      keyboardType=\"numeric\"\n                    />\n                  </View>\n                  <View style={{ width: 100 }}>\n                    <Dropdown\n                      label={t('payroll.currency')}\n                      data={availableCurrencies.map(c => ({\n                        label: `${c.symbol} (${c.code})`,\n                        value: c.symbol,\n                      }))}\n                      value={currency}\n                      onSelect={setCurrency}\n                    />\n                  </View>\n                </View>\n                {errors.amount && <Text style={styles.errorText}>{errors.amount}</Text>}\n              </View>\n            </View>\n\n            {/* Company / Team / Employee Selection */}\n            <View style={styles.responsiveRow}>\n              {(user?.role === 'admin' || user?.role === 'rh') && (\n                <View style={styles.fieldContainer}>\n                  <Dropdown\n                    label={t('companies.selectCompany')}\n                    data={companies.map(c => ({ label: c.name, value: String(c.id) }))}\n                    value={companyId ? String(companyId) : ''}\n                    onSelect={(val) => setCompanyId(Number(val))}\n                  />\n                </View>\n              )}\n              {(user?.role === 'admin' || user?.role === 'rh') && (\n                <View style={styles.fieldContainer}>\n                  <Dropdown\n                    label={t('teams.selectTeam')}\n                    data={teams.map(t => ({ label: t.name, value: String(t.id) }))}\n                    value={teamId ? String(teamId) : ''}\n                    onSelect={(val) => setTeamId(Number(val))}\n                  />\n                </View>\n              )}\n            </View>\n\n            {(user?.role === 'admin' || user?.role === 'rh') && (\n              <View style={styles.fieldContainer}>\n                <Dropdown\n                  label={t('employees.name')}\n                  data={employees.map(e => ({ label: e.name, value: String(e.id) }))}\n                  value={employeeId ? String(employeeId) : ''}\n                  onSelect={(val) => setEmployeeId(Number(val))}\n                />\n              </View>\n            )}\n\n            <View style={styles.responsiveRow}>\n              <View style={styles.fieldContainer}>\n                <Dropdown\n                  label={t('common.service')}\n                  data={services.map(s => ({ label: s.name, value: s.name }))}\n                  value={department}\n                  onSelect={setDepartment}\n                />\n              </View>\n\n              <View style={styles.fieldContainer}>\n                <Text style={styles.label}>{t('common.local')}</Text>\n                <TextInput\n                  style={styles.input}\n                  value={location}\n                  onChangeText={setLocation}\n                  placeholder={t('common.local')}\n                  placeholderTextColor={theme.colors.subText}\n                />\n              </View>\n            </View>\n\n            <View style={styles.divider} />\n            <Text style={styles.sectionTitle}>{t('common.details') || 'Benefits & Bonuses'}</Text>\n\n            <View style={styles.responsiveRow}>\n              <View style={styles.fieldContainer}>\n                <Text style={styles.label}>{t('payroll.mealVouchers')}</Text>\n                <TextInput\n                  style={styles.input}\n                  value={mealVouchers}\n                  onChangeText={setMealVouchers}\n                  placeholder=\"e.g. 15 x 6.50\"\n                  placeholderTextColor={theme.colors.subText}\n                />\n              </View>\n              <View style={styles.fieldContainer}>\n                <Text style={styles.label}>{t('payroll.giftVouchers')}</Text>\n                <TextInput\n                  style={styles.input}\n                  value={giftVouchers}\n                  onChangeText={setGiftVouchers}\n                  placeholder=\"e.g. 100.00\"\n                  placeholderTextColor={theme.colors.subText}\n                />\n              </View>\n            </View>\n\n            <View style={[styles.responsiveRow, { marginTop: theme.spacing.m }]}>\n              <View style={styles.fieldContainer}>\n                <Text style={styles.label}>{t('payroll.bonusType')}</Text>\n                <View style={styles.frequencyContainer}>\n                  {[\n                    { key: 'none', label: t('payroll.none') },\n                    { key: '13th_month', label: t('payroll.thirtheenthMonth') },\n                    { key: 'performance', label: t('payroll.performanceBonus') }\n                  ].map(bonus => (\n                    <TouchableOpacity\n                      key={bonus.key}\n                      style={[\n                        styles.frequencyButton,\n                        bonusType === bonus.key && styles.frequencyButtonActive,\n                      ]}\n                      onPress={() => {\n                        setBonusType(bonus.key);\n                        if (bonus.key === '13th_month' && !bonusAmount) {\n                          setBonusAmount(amount);\n                        }\n                      }}\n                    >\n                      <Text\n                        style={[\n                          styles.frequencyText,\n                          bonusType === bonus.key && styles.frequencyTextActive,\n                        ]}\n                      >\n                        {bonus.label}\n                      </Text>\n                    </TouchableOpacity>\n                  ))}\n                </View>\n              </View>\n              <View style={styles.fieldContainer}>\n                <Text style={styles.label}>{t('payroll.bonusAmount')}</Text>\n                <TextInput\n                  style={styles.input}\n                  value={bonusAmount}\n                  onChangeText={setBonusAmount}\n                  placeholder={t('payroll.amountPlaceholder')}\n                  placeholderTextColor={theme.colors.subText}\n                  keyboardType=\"numeric\"\n                />\n              </View>\n            </View>\n\n            {/* New Section: Period & Worked Hours */}\n            <View style={[styles.responsiveRow, { marginTop: theme.spacing.m }]}>\n              <View style={styles.fieldContainer}>\n                <Dropdown\n                  label={t('payroll.month')}\n                  data={Array.from({ length: 12 }, (_, i) => ({\n                    label: new Date(0, i).toLocaleString(undefined, { month: 'long' }),\n                    value: (i + 1).toString()\n                  }))}\n                  value={month}\n                  onSelect={setMonth}\n                />\n              </View>\n              <View style={styles.fieldContainer}>\n                <Text style={styles.label}>{t('payroll.year')}</Text>\n                <TextInput\n                  style={styles.input}\n                  value={year}\n                  onChangeText={setYear}\n                  keyboardType=\"numeric\"\n                  placeholder=\"2024\"\n                  placeholderTextColor={theme.colors.subText}\n                />\n              </View>\n              <View style={styles.fieldContainer}>\n                <Text style={styles.label}>{t('payroll.hoursWorked')}</Text>\n                <TextInput\n                  style={styles.input}\n                  value={hoursWorked}\n                  onChangeText={setHoursWorked}\n                  keyboardType=\"numeric\"\n                  placeholder=\"e.g., 150\"\n                  placeholderTextColor={theme.colors.subText}\n                />\n              </View>\n            </View>\n          </View>\n        </View>\n\n        <TouchableOpacity\n          style={[styles.saveButton, loading && styles.saveButtonDisabled]}\n          onPress={handleSave}\n          disabled={loading}\n        >\n          <Text style={styles.saveButtonText}>\n            {loading ? t('common.loading') : isEdit ? t('payroll.update') : t('common.save')}\n            {' '}{t('payroll.payroll')}\n          </Text>\n        </TouchableOpacity>\n      </ScrollView>\n    </View>\n  );\n};\n\nconst createStyles = (theme: Theme) =>\n  StyleSheet.create({\n    container: { backgroundColor: theme.colors.background },\n    content: { padding: theme.spacing.m, paddingBottom: theme.spacing.xl },\n    formContainer: {\n      flex: 1,\n      maxWidth: Platform.OS === 'web' ? 800 : undefined,\n      width: '100%',\n      alignSelf: 'center',\n    },\n    section: {\n      backgroundColor: theme.colors.surface,\n      borderRadius: theme.spacing.m,\n      padding: theme.spacing.l,\n      marginBottom: theme.spacing.l,\n      ...theme.shadows.small,\n    },\n    sectionTitle: {\n      ...theme.textVariants.subheader,\n      color: theme.colors.primary,\n      marginBottom: theme.spacing.l,\n      fontSize: 18,\n      borderBottomWidth: 1,\n      borderBottomColor: theme.colors.border,\n      paddingBottom: theme.spacing.s,\n    },\n    responsiveRow: {\n      flexDirection: Platform.OS === 'web' ? 'row' : 'column',\n      gap: theme.spacing.m,\n    },\n    fieldContainer: {\n      flex: 1,\n      marginBottom: Platform.OS === 'web' ? 0 : theme.spacing.m,\n    },\n    label: {\n      ...theme.textVariants.caption,\n      fontWeight: '600',\n      color: theme.colors.text,\n      marginBottom: theme.spacing.s,\n      marginTop: theme.spacing.m,\n    },\n    input: {\n      backgroundColor: theme.colors.surface,\n      borderRadius: theme.spacing.s,\n      padding: theme.spacing.m,\n      fontSize: 16,\n      color: theme.colors.text,\n      borderWidth: 1,\n      borderColor: theme.colors.border,\n    },\n    notesInput: { height: 100, textAlignVertical: 'top' },\n    frequencyContainer: {\n      flexDirection: 'row',\n      gap: theme.spacing.s,\n      marginBottom: theme.spacing.m,\n    },\n    frequencyButton: {\n      flex: 1,\n      padding: theme.spacing.m,\n      borderRadius: theme.spacing.s,\n      backgroundColor: theme.colors.surface,\n      borderWidth: 1,\n      borderColor: theme.colors.border,\n      alignItems: 'center',\n    },\n    frequencyButtonActive: {\n      backgroundColor: theme.colors.primary,\n      borderColor: theme.colors.primary,\n    },\n    frequencyText: { ...theme.textVariants.body, color: theme.colors.subText },\n    frequencyTextActive: { color: theme.colors.surface, fontWeight: '600' },\n    timesGrid: {\n      marginBottom: theme.spacing.m,\n    },\n    timeRow: {\n      flexDirection: 'row',\n      alignItems: 'center',\n      gap: theme.spacing.s,\n      marginBottom: theme.spacing.s,\n    },\n    removeButton: {\n      width: 32,\n      height: 32,\n      borderRadius: 16,\n      backgroundColor: theme.colors.error,\n      justifyContent: 'center',\n      alignItems: 'center',\n      marginTop: 20\n    },\n    removeButtonText: {\n      color: theme.colors.surface,\n      fontSize: 18,\n      fontWeight: 'bold',\n    },\n    addTimeButton: {\n      padding: theme.spacing.m,\n      alignItems: 'center',\n      borderWidth: 1,\n      borderColor: theme.colors.primary,\n      borderRadius: theme.spacing.s,\n      borderStyle: 'dashed',\n    },\n    addTimeButtonText: {\n      color: theme.colors.primary,\n      fontSize: 14,\n      fontWeight: '600',\n    },\n    switchRow: {\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      marginTop: theme.spacing.m,\n    },\n    captionText: {\n      ...theme.textVariants.caption,\n      color: theme.colors.subText,\n    },\n    divider: {\n      height: 1,\n      backgroundColor: theme.colors.border,\n      marginVertical: theme.spacing.l,\n    },\n    saveButton: {\n      backgroundColor: theme.colors.primary,\n      padding: theme.spacing.m,\n      borderRadius: theme.spacing.s,\n      alignItems: 'center',\n      marginTop: theme.spacing.l,\n      maxWidth: Platform.OS === 'web' ? 800 : undefined,\n      width: '100%',\n      alignSelf: 'center',\n    },\n    saveButtonDisabled: { opacity: 0.5 },\n    saveButtonText: {\n      ...theme.textVariants.button,\n      color: theme.colors.surface,\n    },\n    inputError: { borderColor: theme.colors.error },\n    errorText: {\n      color: theme.colors.error,\n      fontSize: 12,\n      marginTop: 4,\n      marginLeft: 4,\n    },\n  });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/payroll/PayrollDetailsScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Share' is defined but never used.","line":8,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":8},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'notificationService' is defined but never used.","line":14,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":14,"endColumn":29},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":24,"column":61,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":24,"endColumn":64,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[940,943],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[940,943],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":63,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":63,"endColumn":19}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useMemo, useContext } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  ScrollView,\n  TouchableOpacity,\n  Share,\n  Platform,\n} from 'react-native';\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport { payrollDb } from '../../database/payrollDb';\nimport { employeesDb } from '../../database/employeesDb';\nimport { notificationService } from '../../services/notificationService';\nimport { Payroll, Employee } from '../../database/schema';\nimport { useTranslation } from 'react-i18next';\nimport { useTheme } from '../../context/ThemeContext';\nimport { Theme } from '../../theme';\nimport { useAuth } from '../../context/AuthContext';\nimport { useToast } from '../../context/ToastContext';\nimport { useModal } from '../../context/ModalContext';\nimport { WebNavigationContext } from '../../navigation/WebNavigationContext';\n\nexport const PayrollDetailsScreen = ({ navigation, route }: any) => {\n  const { user } = useAuth();\n  const { showToast } = useToast();\n  const { payrollId } = route.params;\n  const { theme } = useTheme();\n  const { showModal } = useModal();\n  const { t } = useTranslation();\n  const styles = useMemo(() => createStyles(theme), [theme]);\n\n  const [payroll, setPayroll] = useState<Payroll | null>(null);\n  const [employee, setEmployee] = useState<Employee | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  /* Removed require */\n\n  const { setActiveTab } = useContext(WebNavigationContext);\n\n  const navigateBack = () => {\n    if (Platform.OS === 'web') {\n      setActiveTab('Payroll');\n    } else {\n      navigation.goBack();\n    }\n  };\n\n  useEffect(() => {\n    loadData();\n  }, [payrollId]);\n\n  const loadData = async () => {\n    try {\n      const payrollItem = await payrollDb.getById(payrollId);\n      if (payrollItem) {\n        setPayroll(payrollItem);\n        if (payrollItem.employeeId) {\n          const emp = await employeesDb.getById(payrollItem.employeeId);\n          setEmployee(emp);\n        }\n      }\n    } catch (error) {\n      showToast(t('payrollDetails.errorLoadFailed'), 'info');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const totals = useMemo(() => {\n    if (!payroll) return { base: 0, bonus: 0, vouchers: 0, earnings: 0, deductions: 0, net: 0 };\n\n    // Convert string amounts (e.g., \"3000€\" or \"3000\") to numbers\n    const cleanAmount = (val: string | number | undefined) => {\n      if (!val) return 0;\n      if (typeof val === 'number') return val;\n      return parseFloat(val.toString().replace(/[^0-9.-]/g, '')) || 0;\n    };\n\n    const baseSalary = cleanAmount(payroll.amount);\n    const bonus = cleanAmount(payroll.bonusAmount);\n    // Vouchers technically \"benefits\" but let's count them in gross for display\n    const vouchers = cleanAmount(payroll.mealVouchers) + cleanAmount(payroll.giftVouchers);\n\n    const gross = baseSalary + bonus + vouchers;\n\n    // Dummy deduction (e.g., 20% for social charges)\n    const deductions = gross * 0.22;\n    const net = gross - deductions;\n\n    return {\n      base: baseSalary,\n      bonus,\n      vouchers,\n      earnings: gross,\n      deductions,\n      net\n    };\n  }, [payroll]);\n\n  if (loading || !payroll) {\n    return (\n      <View style={styles.loadingContainer}>\n        <Text style={{ color: theme.colors.text }}>{t('payrollDetails.loading')}</Text>\n      </View>\n    );\n  }\n\n  const handleEdit = () => {\n    if (Platform.OS === 'web') {\n      setActiveTab('Payroll', 'AddPayroll', { payrollId });\n    } else {\n      navigation.navigate('AddPayroll', { payrollId });\n    }\n  };\n\n  const renderEarningRow = (label: string, value: number) => {\n    if (value === 0) return null;\n    return (\n      <View style={styles.tableRow}>\n        <Text style={styles.tableCellLabel}>{label}</Text>\n        <Text style={styles.tableCellValue}>{value.toFixed(2)} {payroll.currency || '€'}</Text>\n      </View>\n    );\n  };\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <ScrollView contentContainerStyle={styles.scrollContent}>\n        <View style={styles.payslipCard}>\n          {/* Header */}\n          <View style={styles.header}>\n            <View>\n              <Text style={styles.companyName}>{t('payslip.companyName')}</Text>\n              <Text style={styles.companyAddress}>{t('payslip.companyAddress')}</Text>\n            </View>\n            <View style={styles.payslipBadge}>\n              <Text style={styles.payslipBadgeText}>{t('payslip.title').toUpperCase()}</Text>\n            </View>\n          </View>\n\n          <View style={styles.divider} />\n\n          {/* Employee & Period Info */}\n          <View style={styles.infoSection}>\n            <View style={styles.infoBlock}>\n              <Text style={styles.sectionTitle}>{t('payslip.employeeHeader')}</Text>\n              <Text style={styles.infoValue}>{employee?.name || payroll.name}</Text>\n              <Text style={styles.infoLabel}>{employee?.position || t('roles.employee')}</Text>\n            </View>\n            <View style={[styles.infoBlock, { alignItems: 'flex-end' }]}>\n              <Text style={styles.sectionTitle}>{t('payslip.period')}</Text>\n              <Text style={styles.infoValue}>\n                {payroll.month && payroll.year\n                  ? `${new Date(0, (parseInt(payroll.month) || 1) - 1).toLocaleString(undefined, { month: 'long' })} ${payroll.year}`\n                  : '-'}\n              </Text>\n              <Text style={styles.infoLabel}>\n                {t('payroll.hoursWorked')}: {payroll.hoursWorked || '-'}\n              </Text>\n            </View>\n          </View>\n\n          {/* Earnings Table */}\n          <View style={styles.tableContainer}>\n            <View style={styles.tableHeader}>\n              <Text style={styles.tableHeaderCell}>{t('payslip.description')}</Text>\n              <Text style={[styles.tableHeaderCell, { textAlign: 'right' }]}>{t('payslip.amount')}</Text>\n            </View>\n\n            <View style={styles.tableBody}>\n              {renderEarningRow(t('payroll.baseSalary'), totals.base)}\n              {payroll.bonusType !== 'none' && renderEarningRow(\n                payroll.bonusType === '13th_month' ? t('payroll.thirtheenthMonth') : t('payroll.performanceBonus'),\n                totals.bonus\n              )}\n              {renderEarningRow(t('payroll.mealVouchers'), cleanAmount(payroll.mealVouchers))}\n              {renderEarningRow(t('payroll.giftVouchers'), cleanAmount(payroll.giftVouchers))}\n\n              <View style={[styles.tableRow, styles.totalRow]}>\n                <Text style={styles.totalLabel}>{t('payslip.totalEarnings')}</Text>\n                <Text style={styles.totalValue}>{totals.earnings.toFixed(2)} {payroll.currency || '€'}</Text>\n              </View>\n            </View>\n          </View>\n\n          {/* Deductions (Placeholder) */}\n          <View style={styles.tableContainer}>\n            <View style={styles.tableHeader}>\n              <Text style={styles.tableHeaderCell}>{t('payslip.deductions')}</Text>\n              <Text style={[styles.tableHeaderCell, { textAlign: 'right' }]}>{t('payslip.amount')}</Text>\n            </View>\n            <View style={styles.tableBody}>\n              <View style={styles.tableRow}>\n                <Text style={styles.tableCellLabel}>Social Charges (22%)</Text>\n                <Text style={styles.tableCellValue}>-{totals.deductions.toFixed(2)} {payroll.currency || '€'}</Text>\n              </View>\n            </View>\n          </View>\n\n          {/* Final Totals */}\n          <View style={styles.finalTotalsSection}>\n            <View style={styles.finalTotalItem}>\n              <Text style={styles.finalTotalLabel}>{t('payslip.grossPay')}</Text>\n              <Text style={styles.finalTotalValue}>{totals.earnings.toFixed(2)} {payroll.currency || '€'}</Text>\n            </View>\n            <View style={[styles.finalTotalItem, styles.netPayContainer]}>\n              <Text style={[styles.finalTotalLabel, styles.netPayLabel]}>{t('payslip.netPay')}</Text>\n              <Text style={[styles.finalTotalValue, styles.netPayValue]}>{totals.net.toFixed(2)} {payroll.currency || '€'}</Text>\n            </View>\n          </View>\n\n        </View>\n\n        {/* Action Buttons */}\n        <View style={styles.actions}>\n          {(user?.role === 'admin' || user?.role === 'rh') && (\n            <>\n              <TouchableOpacity\n                style={[styles.button, styles.editButton]}\n                onPress={handleEdit}\n              >\n                <Text style={styles.buttonText}>{t('common.edit')}</Text>\n              </TouchableOpacity>\n\n              <TouchableOpacity\n                style={[styles.button, styles.deleteButton]}\n                onPress={() => {\n                  showModal({\n                    title: t('common.delete'),\n                    message: t('payrollDetails.deleteConfirmMessage'),\n                    buttons: [\n                      { text: t('common.cancel'), style: 'cancel' },\n                      {\n                        text: t('common.delete'),\n                        style: 'destructive',\n                        onPress: async () => {\n                          await payrollDb.delete(payrollId);\n                          navigateBack();\n                        }\n                      }\n                    ]\n                  });\n                }}\n              >\n                <Text style={styles.buttonText}>{t('common.delete')}</Text>\n              </TouchableOpacity>\n            </>\n          )}\n        </View>\n      </ScrollView>\n    </SafeAreaView >\n  );\n};\n\nconst cleanAmount = (val: string | number | undefined) => {\n  if (!val) return 0;\n  if (typeof val === 'number') return val;\n  return parseFloat(val.toString().replace(/[^0-9.-]/g, '')) || 0;\n};\n\nconst createStyles = (theme: Theme) =>\n  StyleSheet.create({\n    container: {\n      backgroundColor: theme.colors.background,\n    },\n    loadingContainer: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n    },\n    scrollContent: {\n      padding: theme.spacing.m,\n      paddingBottom: theme.spacing.xl,\n    },\n    payslipCard: {\n      backgroundColor: theme.colors.surface,\n      borderRadius: theme.spacing.m,\n      padding: theme.spacing.l,\n      ...theme.shadows.medium,\n      borderWidth: 1,\n      borderColor: theme.colors.border,\n      maxWidth: 800,\n      width: '100%',\n      alignSelf: 'center',\n    },\n    header: {\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      marginBottom: theme.spacing.m,\n    },\n    companyName: {\n      ...theme.textVariants.header,\n      fontSize: 20,\n      color: theme.colors.primary,\n    },\n    companyAddress: {\n      ...theme.textVariants.caption,\n      color: theme.colors.subText,\n    },\n    payslipBadge: {\n      backgroundColor: theme.colors.primary + '10',\n      paddingHorizontal: 12,\n      paddingVertical: 6,\n      borderRadius: 4,\n      borderWidth: 1,\n      borderColor: theme.colors.primary,\n    },\n    payslipBadgeText: {\n      ...theme.textVariants.caption,\n      color: theme.colors.primary,\n      fontWeight: 'bold',\n      letterSpacing: 1,\n    },\n    divider: {\n      height: 2,\n      backgroundColor: theme.colors.primary + '20',\n      marginVertical: theme.spacing.m,\n    },\n    infoSection: {\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      marginBottom: theme.spacing.l,\n    },\n    infoBlock: {\n      flex: 1,\n    },\n    sectionTitle: {\n      ...theme.textVariants.caption,\n      color: theme.colors.subText,\n      fontWeight: 'bold',\n      marginBottom: 4,\n      textTransform: 'uppercase',\n    },\n    infoValue: {\n      ...theme.textVariants.subheader,\n      color: theme.colors.text,\n      fontSize: 16,\n    },\n    infoLabel: {\n      ...theme.textVariants.caption,\n      color: theme.colors.subText,\n    },\n    tableContainer: {\n      marginBottom: theme.spacing.l,\n    },\n    tableHeader: {\n      flexDirection: 'row',\n      backgroundColor: theme.colors.background,\n      padding: 8,\n      borderBottomWidth: 1,\n      borderBottomColor: theme.colors.border,\n    },\n    tableHeaderCell: {\n      flex: 1,\n      ...theme.textVariants.caption,\n      fontWeight: 'bold',\n      color: theme.colors.text,\n    },\n    tableBody: {\n      paddingTop: 8,\n    },\n    tableRow: {\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      paddingVertical: 6,\n      paddingHorizontal: 8,\n    },\n    tableCellLabel: {\n      ...theme.textVariants.body,\n      fontSize: 14,\n      color: theme.colors.text,\n    },\n    tableCellValue: {\n      ...theme.textVariants.body,\n      fontSize: 14,\n      fontWeight: '600',\n      color: theme.colors.text,\n    },\n    totalRow: {\n      borderTopWidth: 1,\n      borderTopColor: theme.colors.border,\n      marginTop: 8,\n      paddingTop: 8,\n    },\n    totalLabel: {\n      ...theme.textVariants.body,\n      fontWeight: 'bold',\n      color: theme.colors.text,\n    },\n    totalValue: {\n      ...theme.textVariants.body,\n      fontWeight: 'bold',\n      color: theme.colors.text,\n    },\n    finalTotalsSection: {\n      backgroundColor: theme.colors.background,\n      padding: theme.spacing.m,\n      borderRadius: theme.spacing.s,\n      gap: 8,\n    },\n    finalTotalItem: {\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n    },\n    finalTotalLabel: {\n      ...theme.textVariants.body,\n      color: theme.colors.subText,\n    },\n    finalTotalValue: {\n      ...theme.textVariants.body,\n      fontWeight: '600',\n    },\n    netPayContainer: {\n      marginTop: 8,\n      paddingTop: 8,\n      borderTopWidth: 1,\n      borderTopColor: theme.colors.border,\n    },\n    netPayLabel: {\n      ...theme.textVariants.subheader,\n      color: theme.colors.text,\n    },\n    netPayValue: {\n      ...theme.textVariants.header,\n      color: theme.colors.primary,\n      fontSize: 24,\n    },\n    notesSection: {\n      marginTop: theme.spacing.l,\n      padding: theme.spacing.m,\n      backgroundColor: theme.colors.background,\n      borderRadius: theme.spacing.s,\n      borderLeftWidth: 4,\n      borderLeftColor: theme.colors.secondary,\n    },\n    notesText: {\n      ...theme.textVariants.body,\n      fontSize: 13,\n      fontStyle: 'italic',\n      color: theme.colors.text,\n      marginTop: 4,\n    },\n    actions: {\n      flexDirection: 'row',\n      gap: theme.spacing.m,\n      marginTop: theme.spacing.xl,\n      justifyContent: 'center',\n    },\n    button: {\n      paddingVertical: 12,\n      paddingHorizontal: 24,\n      borderRadius: theme.spacing.s,\n      minWidth: 120,\n      alignItems: 'center',\n    },\n    editButton: {\n      backgroundColor: theme.colors.secondary,\n    },\n    deleteButton: {\n      backgroundColor: theme.colors.error,\n    },\n    buttonText: {\n      ...theme.textVariants.button,\n      color: '#FFF',\n    },\n  });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/payroll/PayrollHistoryScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":15,"column":49,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":52,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[510,513],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[510,513],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":44,"column":101,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":44,"endColumn":104,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1537,1540],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1537,1540],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useMemo } from 'react';\nimport {\n    View,\n    Text,\n    StyleSheet,\n    FlatList,\n} from 'react-native';\nimport { payrollDb } from '../../database/payrollDb';\nimport { PayrollHistory } from '../../database/schema';\nimport { useTranslation } from 'react-i18next';\nimport { useTheme } from '../../context/ThemeContext';\nimport { Theme } from '../../theme';\nimport { formatDate, formatDateTime } from '../../utils/dateUtils';\n\nexport const PayrollHistoryScreen = ({ route }: any) => {\n    const { payrollId } = route.params;\n    const { theme } = useTheme();\n    const { t } = useTranslation();\n    const styles = useMemo(() => createStyles(theme), [theme]);\n    const [history, setHistory] = useState<PayrollHistory[]>([]);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        loadHistory();\n    }, [payrollId]);\n\n    const loadHistory = async () => {\n        try {\n            const data = await payrollDb.getHistory(payrollId);\n            setHistory(data);\n        } catch (error) {\n            console.error('Error loading history:', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const renderHistoryItem = ({ item }: { item: PayrollHistory }) => (\n        <View style={styles.card}>\n            <View style={styles.row}>\n                <Text style={styles.date}>\n                    {formatDate(item.paidAt)}\n                </Text>\n                <View style={[styles.badge, styles[`badge${item.status}` as keyof typeof styles] as any]}>\n                    <Text style={styles.badgeText}>{t(`history.status.${item.status}`).toUpperCase()}</Text>\n                </View>\n            </View>\n            <Text style={styles.time}>\n                {formatDateTime(item.paidAt)}\n            </Text>\n            {item.notes && <Text style={styles.notes}>{item.notes}</Text>}\n        </View>\n    );\n\n    const renderEmpty = () => (\n        <View style={styles.emptyContainer}>\n            <Text style={styles.emptyText}>{t('history.noHistory')}</Text>\n        </View>\n    );\n\n    return (\n        <View style={styles.container}>\n            <FlatList\n                data={history}\n                renderItem={renderHistoryItem}\n                keyExtractor={item => item.id?.toString() || ''}\n                contentContainerStyle={styles.listContent}\n                ListEmptyComponent={!loading ? renderEmpty : null}\n            />\n        </View>\n    );\n};\n\nconst createStyles = (theme: Theme) =>\n    StyleSheet.create({\n        container: {\n            backgroundColor: theme.colors.background,\n        },\n        listContent: {\n            padding: theme.spacing.m,\n            flexGrow: 1,\n            maxWidth: 600,\n            width: '100%',\n            alignSelf: 'center',\n        },\n        card: {\n            backgroundColor: theme.colors.surface,\n            borderRadius: 16,\n            padding: theme.spacing.m,\n            marginBottom: theme.spacing.m,\n            ...theme.shadows.small,\n            borderWidth: 1,\n            borderColor: theme.colors.border,\n        },\n        row: {\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: theme.spacing.s,\n        },\n        date: {\n            ...theme.textVariants.body,\n            fontWeight: '700',\n            color: theme.colors.text,\n        },\n        time: {\n            ...theme.textVariants.caption,\n            color: theme.colors.subText,\n            marginBottom: theme.spacing.s,\n            fontWeight: '500',\n        },\n        badge: {\n            paddingHorizontal: 12,\n            paddingVertical: 4,\n            borderRadius: 8,\n        },\n        badgepaid: {\n            backgroundColor: theme.colors.success,\n        },\n        badgemissed: {\n            backgroundColor: theme.colors.error,\n        },\n        badgeskipped: {\n            backgroundColor: theme.colors.warning,\n        },\n        badgeText: {\n            fontSize: 10,\n            color: '#FFF',\n            fontWeight: 'bold',\n            textTransform: 'uppercase',\n            letterSpacing: 0.5,\n        },\n        notes: {\n            ...theme.textVariants.caption,\n            color: theme.colors.text,\n            marginTop: theme.spacing.s,\n            paddingTop: theme.spacing.s,\n            borderTopWidth: 1,\n            borderTopColor: theme.colors.border,\n            fontStyle: 'italic',\n        },\n        emptyContainer: {\n            flex: 1,\n            justifyContent: 'center',\n            alignItems: 'center',\n            paddingVertical: 60,\n        },\n        emptyText: {\n            ...theme.textVariants.body,\n            color: theme.colors.subText,\n        },\n    });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/payroll/PayrollListScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'useModal' is defined but never used.","line":21,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":21,"endColumn":18},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":23,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":23,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[868,871],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[868,871],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'showToast' is assigned a value but never used.","line":25,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":25,"endColumn":20},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":150,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":150,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4669,4672],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4669,4672],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":161,"column":10,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":161,"endColumn":13,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4957,4960],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4957,4960],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useCallback, useMemo } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  FlatList,\n  TouchableOpacity,\n} from 'react-native';\nimport { useFocusEffect } from '@react-navigation/native';\nimport { useTranslation } from 'react-i18next';\nimport { payrollDb } from '../../database/payrollDb';\nimport { Payroll } from '../../database/schema';\nimport { PayrollCard } from '../../components/PayrollCard';\nimport { useTheme } from '../../context/ThemeContext';\nimport { Theme } from '../../theme';\nimport { SearchInput } from '../../components/SearchInput';\nimport { notificationService } from '../../services/notificationService';\n\nimport { useAuth } from '../../context/AuthContext';\nimport { useToast } from '../../context/ToastContext';\nimport { useModal } from '../../context/ModalContext';\n\nexport const PayrollListScreen = ({ navigation }: any) => {\n  const { user } = useAuth();\n  const { showToast } = useToast();\n  const { theme } = useTheme();\n  const { t } = useTranslation();\n  const styles = useMemo(() => createStyles(theme), [theme]);\n  const [payrollItems, setPayrollItems] = useState<Payroll[]>([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [loading, setLoading] = useState(true);\n\n  const loadPayrollItems = async () => {\n    try {\n      let data = await payrollDb.getAll();\n\n      // Role-based filtering\n      if (user?.role === 'employee' && user?.employeeId) {\n        data = data.filter(item => item.employeeId === user.employeeId);\n      } else if (user?.role === 'chef_dequipe' && user?.department) {\n        // Chef sees payroll for their department (need to join with employee data usually, \n        // but for now filtering if payroll itself has department or via external join)\n        // Simplified: Chef sees all for now if not filtered by employeeId\n      }\n\n      setPayrollItems(data);\n    } catch (error) {\n      console.error('Error loading payroll items:', error);\n      notificationService.showAlert(t('common.error'), t('payroll.loadError'));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useFocusEffect(\n    useCallback(() => {\n      loadPayrollItems();\n    }, []),\n  );\n\n  const filteredPayrollItems = useMemo(() => {\n    if (!searchQuery) return payrollItems;\n    const lowerQuery = searchQuery.toLowerCase();\n    return payrollItems.filter(\n      item =>\n        item.name.toLowerCase().includes(lowerQuery) ||\n        String(item.amount).toLowerCase().includes(lowerQuery),\n    ).sort((a, b) => a.name.localeCompare(b.name));\n  }, [payrollItems, searchQuery]);\n\n  const handlePayrollPress = (payroll: Payroll) => {\n    navigation.navigate('PayrollDetails', { payrollId: payroll.id });\n  };\n\n  const renderEmpty = () => (\n    <View style={styles.emptyContainer}>\n      <Text style={styles.emptyText}>{t('payroll.empty')}</Text>\n      <Text style={styles.emptySubText}>{t('payroll.emptySubtitle')}</Text>\n    </View>\n  );\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.searchContainer}>\n        <SearchInput\n          value={searchQuery}\n          onChangeText={setSearchQuery}\n          placeholder={t('common.searchPlaceholder')}\n        />\n      </View>\n      <FlatList\n        data={filteredPayrollItems}\n        renderItem={({ item }) => (\n          <PayrollCard\n            payroll={item}\n            onPress={() => handlePayrollPress(item)}\n          />\n        )}\n        keyExtractor={item => item.id?.toString() || ''}\n        contentContainerStyle={styles.listContent}\n        ListEmptyComponent={!loading ? renderEmpty : null}\n      />\n\n      {(user?.role === 'admin' || user?.role === 'rh') && (\n        <TouchableOpacity\n          style={styles.fab}\n          onPress={() => navigation.navigate('AddPayroll')}\n        >\n          <Text style={styles.fabText}>+</Text>\n        </TouchableOpacity>\n      )}\n    </View>\n  );\n};\n\nconst createStyles = (theme: Theme) =>\n  StyleSheet.create({\n    container: {\n      flex: 1,\n      backgroundColor: theme.colors.background,\n    },\n    listContent: {\n      padding: theme.spacing.m,\n      flexGrow: 1,\n      paddingBottom: 80,\n      width: '100%',\n      maxWidth: 800,\n      alignSelf: 'center',\n    },\n    searchContainer: {\n      padding: theme.spacing.m,\n      paddingBottom: 0,\n    },\n    emptyContainer: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      paddingVertical: 60,\n    },\n    emptyText: {\n      ...theme.textVariants.subheader,\n      color: theme.colors.subText,\n      marginBottom: theme.spacing.s,\n    },\n    emptySubText: {\n      ...theme.textVariants.body,\n      color: theme.colors.subText,\n    },\n    fab: {\n      position: 'absolute' as any,\n      right: theme.spacing.l,\n      bottom: theme.spacing.l,\n      width: 56,\n      height: 56,\n      borderRadius: 28,\n      backgroundColor: theme.colors.primary,\n      justifyContent: 'center',\n      alignItems: 'center',\n      ...theme.shadows.large,\n      zIndex: 999,\n    } as any,\n    fabText: {\n      fontSize: 32,\n      color: theme.colors.background,\n      fontWeight: '300',\n    },\n  });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/profile/CareerHubScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Platform' is defined but never used.","line":10,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":10,"endColumn":13},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'deleteGoal' is defined but never used.","line":18,"column":31,"nodeType":null,"messageId":"unusedVar","endLine":18,"endColumn":41}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useMemo, useState } from 'react';\nimport {\n    View,\n    Text,\n    StyleSheet,\n    ScrollView,\n    TouchableOpacity,\n    TextInput,\n    Modal,\n    Platform,\n} from 'react-native';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useTheme } from '../../context/ThemeContext';\nimport { RootState } from '../../store';\nimport { useAuth } from '../../context/AuthContext';\nimport { Goal } from '../../database/schema';\nimport { addGoal, updateGoal, deleteGoal } from '../../store/slices/goalsSlice';\nimport { Theme } from '../../theme';\nimport { formatDate } from '../../utils/dateUtils';\n\nexport const CareerHubScreen = () => {\n    const { theme } = useTheme();\n    const { t } = useTranslation();\n    const { user } = useAuth();\n    const dispatch = useDispatch();\n    const styles = useMemo(() => createStyles(theme), [theme]);\n\n    const goals = useSelector((state: RootState) =>\n        state.goals.goals.filter(g => g.employeeId === (user?.id ? Number(user.id) : 0))\n    );\n\n    const [isModalVisible, setModalVisible] = useState(false);\n    const [editingGoal, setEditingGoal] = useState<Goal | null>(null);\n    const [title, setTitle] = useState('');\n    const [description, setDescription] = useState('');\n    const [deadline, setDeadline] = useState(new Date().toISOString().split('T')[0]);\n\n    const handleSaveGoal = () => {\n        if (!title.trim()) return;\n\n        const goalData: Goal = editingGoal ? {\n            ...editingGoal,\n            title,\n            description,\n            deadline,\n        } : {\n            id: Date.now(),\n            employeeId: user?.id ? Number(user.id) : 0,\n            title,\n            description,\n            deadline,\n            progress: 0,\n            status: 'todo',\n            createdAt: new Date().toISOString(),\n        };\n\n        if (editingGoal) {\n            dispatch(updateGoal(goalData));\n        } else {\n            dispatch(addGoal(goalData));\n        }\n\n        setModalVisible(false);\n        resetForm();\n    };\n\n    const resetForm = () => {\n        setEditingGoal(null);\n        setTitle('');\n        setDescription('');\n        setDeadline(new Date().toISOString().split('T')[0]);\n    };\n\n    const handleUpdateProgress = (goal: Goal, newProgress: number) => {\n        const status = newProgress === 100 ? 'completed' : newProgress > 0 ? 'in_progress' : 'todo';\n        dispatch(updateGoal({ ...goal, progress: newProgress, status }));\n    };\n\n    const renderGoalCard = (goal: Goal) => (\n        <View key={goal.id} style={styles.goalCard}>\n            <View style={styles.goalHeader}>\n                <View style={styles.goalTitleContainer}>\n                    <Text style={styles.goalTitle}>{goal.title}</Text>\n                    <Text style={[styles.statusBadge, { backgroundColor: getStatusColor(goal.status, theme) }]}>\n                        {t(`common.${goal.status}`)}\n                    </Text>\n                </View>\n                <TouchableOpacity onPress={() => {\n                    setEditingGoal(goal);\n                    setTitle(goal.title);\n                    setDescription(goal.description);\n                    setDeadline(goal.deadline);\n                    setModalVisible(true);\n                }}>\n                    <Text style={styles.editLink}>{t('profile.edit')}</Text>\n                </TouchableOpacity>\n            </View>\n\n            <Text style={styles.goalDescription}>{goal.description}</Text>\n\n            <View style={styles.progressSection}>\n                <View style={styles.progressHeader}>\n                    <Text style={styles.progressLabel}>{t('common.progress')}</Text>\n                    <Text style={styles.progressValue}>{goal.progress}%</Text>\n                </View>\n                <View style={styles.progressTrack}>\n                    <View style={[styles.progressBar, { width: `${goal.progress}%`, backgroundColor: theme.colors.primary }]} />\n                </View>\n                <View style={styles.progressActions}>\n                    {[0, 25, 50, 75, 100].map(val => (\n                        <TouchableOpacity\n                            key={val}\n                            onPress={() => handleUpdateProgress(goal, val)}\n                            style={[styles.progressStep, goal.progress === val && styles.activeStep]}\n                        >\n                            <Text style={[styles.stepText, goal.progress === val && styles.activeStepText]}>{val}%</Text>\n                        </TouchableOpacity>\n                    ))}\n                </View>\n            </View>\n\n            <View style={styles.goalFooter}>\n                <Text style={styles.deadlineText}>📅 {t('common.deadline')}: {formatDate(goal.deadline)}</Text>\n            </View>\n        </View>\n    );\n\n    return (\n        <View style={styles.container}>\n            <ScrollView contentContainerStyle={styles.scrollContent}>\n                <View style={styles.header}>\n                    <View>\n                        <Text style={styles.title}>{t('navigation.careerHub')}</Text>\n                        <Text style={styles.subtitle}>{t('home.careerGoalsSubtitle')}</Text>\n                    </View>\n                    <TouchableOpacity\n                        style={styles.addButton}\n                        onPress={() => {\n                            resetForm();\n                            setModalVisible(true);\n                        }}\n                    >\n                        <Text style={styles.addButtonText}>+</Text>\n                    </TouchableOpacity>\n                </View>\n\n                {/* Stats Section */}\n                <View style={styles.statsGrid}>\n                    <View style={[styles.statBox, { borderLeftColor: theme.colors.primary }]}>\n                        <Text style={styles.statVal}>{goals.length}</Text>\n                        <Text style={styles.statLabel}>{t('common.total')}</Text>\n                    </View>\n                    <View style={[styles.statBox, { borderLeftColor: theme.colors.success }]}>\n                        <Text style={styles.statVal}>{goals.filter(g => g.status === 'completed').length}</Text>\n                        <Text style={styles.statLabel}>{t('common.completed')}</Text>\n                    </View>\n                    <View style={[styles.statBox, { borderLeftColor: theme.colors.warning }]}>\n                        <Text style={styles.statVal}>{goals.filter(g => g.status === 'in_progress').length}</Text>\n                        <Text style={styles.statLabel}>{t('common.in_progress')}</Text>\n                    </View>\n                </View>\n\n                <Text style={styles.sectionTitle}>{t('common.myGoals')}</Text>\n                {goals.length > 0 ? (\n                    goals.map(renderGoalCard)\n                ) : (\n                    <View style={styles.emptyState}>\n                        <Text style={styles.emptyText}>{t('common.noData')}</Text>\n                    </View>\n                )}\n            </ScrollView>\n\n            <Modal\n                visible={isModalVisible}\n                animationType=\"slide\"\n                transparent={true}\n                onRequestClose={() => setModalVisible(false)}\n            >\n                <View style={styles.modalOverlay}>\n                    <View style={styles.modalContent}>\n                        <Text style={styles.modalTitle}>{editingGoal ? t('common.edit') : t('common.add')} {t('common.goal')}</Text>\n\n                        <Text style={styles.inputLabel}>{t('common.title')}</Text>\n                        <TextInput\n                            style={styles.input}\n                            value={title}\n                            onChangeText={setTitle}\n                            placeholder={t('careerHub.titlePlaceholder') || 'e.g. Master React Native'}\n                        />\n\n                        <Text style={styles.inputLabel}>{t('common.description')}</Text>\n                        <TextInput\n                            style={[styles.input, styles.textArea]}\n                            value={description}\n                            onChangeText={setDescription}\n                            placeholder={t('careerHub.descriptionPlaceholder') || 'Describe your goal...'}\n                            multiline\n                            numberOfLines={4}\n                        />\n\n                        <Text style={styles.inputLabel}>{t('common.deadline')}</Text>\n                        <TextInput\n                            style={styles.input}\n                            value={deadline}\n                            onChangeText={setDeadline}\n                            placeholder={t('common.datePlaceholder') || 'YYYY-MM-DD'}\n                        />\n\n                        <View style={styles.modalActions}>\n                            <TouchableOpacity\n                                style={[styles.modalButton, styles.cancelButton]}\n                                onPress={() => setModalVisible(false)}\n                            >\n                                <Text style={styles.cancelButtonText}>{t('common.cancel')}</Text>\n                            </TouchableOpacity>\n                            <TouchableOpacity\n                                style={[styles.modalButton, styles.saveButton]}\n                                onPress={handleSaveGoal}\n                            >\n                                <Text style={styles.saveButtonText}>{t('common.save')}</Text>\n                            </TouchableOpacity>\n                        </View>\n                    </View>\n                </View>\n            </Modal>\n        </View>\n    );\n};\n\nconst getStatusColor = (status: string, theme: Theme) => {\n    switch (status) {\n        case 'completed': return theme.colors.success;\n        case 'in_progress': return theme.colors.primary;\n        case 'todo': return theme.colors.subText;\n        case 'cancelled': return theme.colors.error;\n        default: return theme.colors.primary;\n    }\n};\n\nconst createStyles = (theme: Theme) =>\n    StyleSheet.create({\n        container: {\n            backgroundColor: theme.colors.background,\n        },\n        scrollContent: {\n            padding: theme.spacing.m,\n        },\n        header: {\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: theme.spacing.l,\n        },\n        title: {\n            ...theme.textVariants.header,\n            color: theme.colors.text,\n        },\n        subtitle: {\n            ...theme.textVariants.caption,\n            color: theme.colors.subText,\n        },\n        addButton: {\n            width: 44,\n            height: 44,\n            borderRadius: 22,\n            backgroundColor: theme.colors.primary,\n            justifyContent: 'center',\n            alignItems: 'center',\n            ...theme.shadows.small,\n        },\n        addButtonText: {\n            color: '#FFFFFF',\n            fontSize: 24,\n            fontWeight: 'bold',\n        },\n        statsGrid: {\n            flexDirection: 'row',\n            gap: theme.spacing.m,\n            marginBottom: theme.spacing.l,\n        },\n        statBox: {\n            flex: 1,\n            backgroundColor: theme.colors.surface,\n            padding: theme.spacing.m,\n            borderRadius: theme.spacing.m,\n            borderLeftWidth: 4,\n            ...theme.shadows.small,\n        },\n        statVal: {\n            fontSize: 20,\n            fontWeight: 'bold',\n            color: theme.colors.text,\n        },\n        statLabel: {\n            fontSize: 10,\n            color: theme.colors.subText,\n            textTransform: 'uppercase',\n        },\n        sectionTitle: {\n            ...theme.textVariants.subheader,\n            marginBottom: theme.spacing.m,\n        },\n        goalCard: {\n            backgroundColor: theme.colors.surface,\n            borderRadius: theme.spacing.m,\n            padding: theme.spacing.m,\n            marginBottom: theme.spacing.m,\n            ...theme.shadows.small,\n        },\n        goalHeader: {\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            alignItems: 'flex-start',\n            marginBottom: theme.spacing.s,\n        },\n        goalTitleContainer: {\n            flex: 1,\n            flexDirection: 'row',\n            alignItems: 'center',\n            flexWrap: 'wrap',\n            gap: 8,\n        },\n        goalTitle: {\n            ...theme.textVariants.body,\n            fontWeight: 'bold',\n            color: theme.colors.text,\n        },\n        statusBadge: {\n            paddingHorizontal: 8,\n            paddingVertical: 2,\n            borderRadius: 10,\n            fontSize: 10,\n            color: '#FFFFFF',\n            fontWeight: 'bold',\n        },\n        editLink: {\n            color: theme.colors.primary,\n            fontSize: 12,\n            fontWeight: '600',\n        },\n        goalDescription: {\n            ...theme.textVariants.caption,\n            color: theme.colors.subText,\n            marginBottom: theme.spacing.m,\n        },\n        progressSection: {\n            marginBottom: theme.spacing.m,\n        },\n        progressHeader: {\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            marginBottom: 4,\n        },\n        progressLabel: {\n            fontSize: 12,\n            fontWeight: '600',\n            color: theme.colors.text,\n        },\n        progressValue: {\n            fontSize: 12,\n            fontWeight: 'bold',\n            color: theme.colors.primary,\n        },\n        progressTrack: {\n            height: 8,\n            backgroundColor: theme.colors.border,\n            borderRadius: 4,\n            overflow: 'hidden',\n            marginBottom: theme.spacing.s,\n        },\n        progressBar: {\n            height: '100%',\n        },\n        progressActions: {\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            gap: 4,\n        },\n        progressStep: {\n            paddingHorizontal: 8,\n            paddingVertical: 4,\n            borderRadius: 4,\n            backgroundColor: theme.colors.border + '50',\n        },\n        activeStep: {\n            backgroundColor: theme.colors.primary,\n        },\n        stepText: {\n            fontSize: 10,\n            color: theme.colors.text,\n        },\n        activeStepText: {\n            color: '#FFFFFF',\n            fontWeight: 'bold',\n        },\n        goalFooter: {\n            borderTopWidth: 1,\n            borderTopColor: theme.colors.border,\n            paddingTop: theme.spacing.s,\n        },\n        deadlineText: {\n            fontSize: 11,\n            color: theme.colors.subText,\n        },\n        emptyState: {\n            padding: 40,\n            alignItems: 'center',\n        },\n        emptyText: {\n            color: theme.colors.subText,\n            fontStyle: 'italic',\n        },\n        modalOverlay: {\n            flex: 1,\n            backgroundColor: 'rgba(0,0,0,0.5)',\n            justifyContent: 'center',\n            padding: theme.spacing.m,\n        },\n        modalContent: {\n            backgroundColor: theme.colors.surface,\n            borderRadius: theme.spacing.l,\n            padding: theme.spacing.l,\n            ...theme.shadows.medium,\n        },\n        modalTitle: {\n            ...theme.textVariants.header,\n            fontSize: 20,\n            marginBottom: theme.spacing.l,\n        },\n        inputLabel: {\n            fontSize: 14,\n            fontWeight: '600',\n            color: theme.colors.text,\n            marginBottom: 4,\n            marginTop: theme.spacing.m,\n        },\n        input: {\n            backgroundColor: theme.colors.background,\n            borderRadius: theme.spacing.s,\n            padding: theme.spacing.m,\n            borderWidth: 1,\n            borderColor: theme.colors.border,\n            color: theme.colors.text,\n        },\n        textArea: {\n            height: 100,\n            textAlignVertical: 'top',\n        },\n        modalActions: {\n            flexDirection: 'row',\n            justifyContent: 'flex-end',\n            marginTop: theme.spacing.xl,\n            gap: theme.spacing.m,\n        },\n        modalButton: {\n            paddingHorizontal: theme.spacing.l,\n            paddingVertical: theme.spacing.s,\n            borderRadius: theme.spacing.s,\n        },\n        cancelButton: {\n            backgroundColor: theme.colors.border,\n        },\n        saveButton: {\n            backgroundColor: theme.colors.primary,\n        },\n        cancelButtonText: {\n            color: theme.colors.text,\n        },\n        saveButtonText: {\n            color: '#FFFFFF',\n            fontWeight: 'bold',\n        },\n    });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/profile/ManageCurrenciesScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'navigation' is defined but never used.","line":18,"column":42,"nodeType":null,"messageId":"unusedVar","endLine":18,"endColumn":52},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":18,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[598,601],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[598,601],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":75,"column":34,"nodeType":null,"messageId":"unusedVar","endLine":75,"endColumn":39}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useMemo } from 'react';\nimport {\n    View,\n    Text,\n    StyleSheet,\n    TextInput,\n    TouchableOpacity,\n    ScrollView,\n} from 'react-native';\nimport { useTranslation } from 'react-i18next';\nimport { useModal } from '../../context/ModalContext';\nimport { useToast } from '../../context/ToastContext';\nimport { useTheme } from '../../context/ThemeContext';\nimport { currenciesDb } from '../../database/currenciesDb';\nimport { Currency } from '../../database/schema';\nimport { Theme } from '../../theme';\n\nexport const ManageCurrenciesScreen = ({ navigation }: any) => {\n    const { theme } = useTheme();\n    const { t } = useTranslation();\n    const { showModal } = useModal();\n    const { showToast } = useToast();\n    const styles = useMemo(() => createStyles(theme), [theme]);\n\n    const [currencies, setCurrencies] = useState<Currency[]>([]);\n    const [newCode, setNewCode] = useState('');\n    const [newSymbol, setNewSymbol] = useState('');\n    const [editingId, setEditingId] = useState<number | null>(null);\n    const [editingCode, setEditingCode] = useState('');\n    const [editingSymbol, setEditingSymbol] = useState('');\n\n    useEffect(() => {\n        loadCurrencies();\n    }, []);\n\n    const loadCurrencies = async () => {\n        const all = await currenciesDb.getAll();\n        setCurrencies(all);\n    };\n\n    const handleAdd = async () => {\n        if (!newCode.trim() || !newSymbol.trim()) {\n            showToast(t('payroll.fillRequired'), 'info');\n            return;\n        }\n        await currenciesDb.add(newCode.trim().toUpperCase(), newSymbol.trim());\n        setNewCode('');\n        setNewSymbol('');\n        loadCurrencies();\n    };\n\n    const handleUpdate = async () => {\n        if (!editingId || !editingCode.trim() || !editingSymbol.trim()) return;\n        await currenciesDb.update(editingId, editingCode.trim().toUpperCase(), editingSymbol.trim());\n        setEditingId(null);\n        setEditingCode('');\n        setEditingSymbol('');\n        loadCurrencies();\n    };\n\n    const handleDelete = (id: number) => {\n        showModal({\n            title: t('common.confirm'),\n            message: t('common.confirmDelete'),\n            buttons: [\n                { text: t('common.cancel'), style: 'cancel' },\n                {\n                    text: t('common.delete'),\n                    style: 'destructive',\n                    onPress: async () => {\n                        try {\n                            await currenciesDb.delete(id);\n                            loadCurrencies();\n                            showToast(t('common.success'), 'success');\n                        } catch (error) {\n                            showToast(t('common.error'), 'error');\n                        }\n                    }\n                },\n            ]\n        });\n    };\n\n    return (\n        <View style={styles.container}>\n            <View style={styles.card}>\n                <Text style={styles.sectionTitle}>{t('common.add')} {t('payroll.currency')}</Text>\n                <View style={styles.inputRow}>\n                    <TextInput\n                        style={[styles.input, { flex: 2 }]}\n                        value={newCode}\n                        onChangeText={setNewCode}\n                        placeholder=\"USD\"\n                        placeholderTextColor={theme.colors.subText}\n                        autoCapitalize=\"characters\"\n                    />\n                    <TextInput\n                        style={[styles.input, { flex: 1 }]}\n                        value={newSymbol}\n                        onChangeText={setNewSymbol}\n                        placeholder=\"$\"\n                        placeholderTextColor={theme.colors.subText}\n                    />\n                    <TouchableOpacity style={styles.addButton} onPress={handleAdd}>\n                        <Text style={styles.addButtonText}>{t('common.add')}</Text>\n                    </TouchableOpacity>\n                </View>\n            </View>\n\n            <ScrollView style={styles.list}>\n                {currencies.map(currency => (\n                    <View key={currency.id} style={styles.item}>\n                        {editingId === currency.id ? (\n                            <View style={styles.editRow}>\n                                <TextInput\n                                    style={[styles.input, { flex: 2 }]}\n                                    value={editingCode}\n                                    onChangeText={setEditingCode}\n                                    autoCapitalize=\"characters\"\n                                    autoFocus\n                                />\n                                <TextInput\n                                    style={[styles.input, { flex: 1 }]}\n                                    value={editingSymbol}\n                                    onChangeText={setEditingSymbol}\n                                />\n                                <TouchableOpacity onPress={handleUpdate}>\n                                    <Text style={styles.saveText}>{t('common.save')}</Text>\n                                </TouchableOpacity>\n                                <TouchableOpacity onPress={() => setEditingId(null)}>\n                                    <Text style={styles.cancelText}>{t('common.cancel')}</Text>\n                                </TouchableOpacity>\n                            </View>\n                        ) : (\n                            <View style={styles.row}>\n                                <View style={styles.info}>\n                                    <Text style={styles.code}>{currency.code}</Text>\n                                    <Text style={styles.symbol}>{currency.symbol}</Text>\n                                </View>\n                                <View style={styles.actions}>\n                                    <TouchableOpacity onPress={() => {\n                                        setEditingId(currency.id);\n                                        setEditingCode(currency.code);\n                                        setEditingSymbol(currency.symbol);\n                                    }}>\n                                        <Text style={styles.editText}>{t('common.edit')}</Text>\n                                    </TouchableOpacity>\n                                    <TouchableOpacity onPress={() => handleDelete(currency.id)}>\n                                        <Text style={styles.deleteText}>{t('common.delete')}</Text>\n                                    </TouchableOpacity>\n                                </View>\n                            </View>\n                        )}\n                    </View>\n                ))}\n            </ScrollView>\n        </View>\n    );\n};\n\nconst createStyles = (theme: Theme) =>\n    StyleSheet.create({\n        container: { backgroundColor: theme.colors.background, padding: theme.spacing.m },\n        card: {\n            backgroundColor: theme.colors.surface,\n            borderRadius: theme.spacing.m,\n            padding: theme.spacing.m,\n            marginBottom: theme.spacing.l,\n            ...theme.shadows.small,\n        },\n        sectionTitle: {\n            ...theme.textVariants.subheader,\n            color: theme.colors.primary,\n            marginBottom: theme.spacing.s,\n        },\n        inputRow: { flexDirection: 'row', gap: theme.spacing.s },\n        input: {\n            backgroundColor: theme.colors.background,\n            borderRadius: theme.spacing.s,\n            padding: theme.spacing.m,\n            borderWidth: 1,\n            borderColor: theme.colors.border,\n            color: theme.colors.text,\n            fontSize: 16,\n        },\n        addButton: {\n            backgroundColor: theme.colors.primary,\n            borderRadius: theme.spacing.s,\n            paddingHorizontal: theme.spacing.l,\n            justifyContent: 'center',\n        },\n        addButtonText: { color: '#FFF', fontWeight: 'bold' },\n        list: { flex: 1 },\n        item: {\n            backgroundColor: theme.colors.surface,\n            borderRadius: theme.spacing.s,\n            padding: theme.spacing.m,\n            marginBottom: theme.spacing.s,\n            ...theme.shadows.small,\n        },\n        row: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center' },\n        info: { flexDirection: 'row', alignItems: 'center', gap: theme.spacing.m },\n        code: { fontSize: 18, fontWeight: 'bold', color: theme.colors.text },\n        symbol: { fontSize: 18, color: theme.colors.subText },\n        editRow: { flexDirection: 'row', alignItems: 'center', gap: 12 },\n        actions: { flexDirection: 'row', gap: 16 },\n        editText: { color: theme.colors.primary },\n        deleteText: { color: theme.colors.error },\n        saveText: { color: theme.colors.success, fontWeight: 'bold' },\n        cancelText: { color: theme.colors.subText },\n    });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/profile/ManageDepartmentsScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'navigation' is defined but never used.","line":18,"column":43,"nodeType":null,"messageId":"unusedVar","endLine":18,"endColumn":53},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":18,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[603,606],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[603,606],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":68,"column":34,"nodeType":null,"messageId":"unusedVar","endLine":68,"endColumn":39}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useMemo } from 'react';\nimport {\n    View,\n    Text,\n    StyleSheet,\n    TextInput,\n    TouchableOpacity,\n    ScrollView,\n} from 'react-native';\nimport { useTranslation } from 'react-i18next';\nimport { useModal } from '../../context/ModalContext';\nimport { useToast } from '../../context/ToastContext';\nimport { useTheme } from '../../context/ThemeContext';\nimport { departmentsDb } from '../../database/departmentsDb';\nimport { Department } from '../../database/schema';\nimport { Theme } from '../../theme';\n\nexport const ManageDepartmentsScreen = ({ navigation }: any) => {\n    const { theme } = useTheme();\n    const { t } = useTranslation();\n    const { showModal } = useModal();\n    const { showToast } = useToast();\n    const styles = useMemo(() => createStyles(theme), [theme]);\n\n    const [departments, setDepartments] = useState<Department[]>([]);\n    const [newDepartmentName, setNewDepartmentName] = useState('');\n    const [editingId, setEditingId] = useState<number | null>(null);\n    const [editingName, setEditingName] = useState('');\n\n    useEffect(() => {\n        loadDepartments();\n    }, []);\n\n    const loadDepartments = async () => {\n        const all = await departmentsDb.getAll();\n        setDepartments(all);\n    };\n\n    const handleAdd = async () => {\n        if (!newDepartmentName.trim()) return;\n        await departmentsDb.add(newDepartmentName.trim());\n        setNewDepartmentName('');\n        loadDepartments();\n    };\n\n    const handleUpdate = async () => {\n        if (!editingId || !editingName.trim()) return;\n        await departmentsDb.update(editingId, editingName.trim());\n        setEditingId(null);\n        setEditingName('');\n        loadDepartments();\n    };\n\n    const handleDelete = (id: number) => {\n        showModal({\n            title: t('common.confirm'),\n            message: t('common.confirmDelete'),\n            buttons: [\n                { text: t('common.cancel'), style: 'cancel' },\n                {\n                    text: t('common.delete'),\n                    style: 'destructive',\n                    onPress: async () => {\n                        try {\n                            await departmentsDb.delete(id);\n                            loadDepartments();\n                            showToast(t('common.success'), 'success');\n                        } catch (error) {\n                            showToast(t('common.error'), 'error');\n                        }\n                    }\n                },\n            ]\n        });\n    };\n\n    return (\n        <View style={styles.container}>\n            <View style={styles.inputContainer}>\n                <TextInput\n                    style={styles.input}\n                    value={newDepartmentName}\n                    onChangeText={setNewDepartmentName}\n                    placeholder={t('common.add') + ' ' + (t('common.department') || 'Department')}\n                    placeholderTextColor={theme.colors.subText}\n                />\n                <TouchableOpacity style={styles.addButton} onPress={handleAdd}>\n                    <Text style={styles.addButtonText}>{t('common.add')}</Text>\n                </TouchableOpacity>\n            </View>\n\n            <ScrollView style={styles.list}>\n                {departments.map(dept => (\n                    <View key={dept.id} style={styles.item}>\n                        {editingId === dept.id ? (\n                            <View style={styles.editRow}>\n                                <TextInput\n                                    style={[styles.input, { flex: 1, marginRight: 8 }]}\n                                    value={editingName}\n                                    onChangeText={setEditingName}\n                                    autoFocus\n                                />\n                                <TouchableOpacity onPress={handleUpdate}>\n                                    <Text style={styles.saveText}>{t('common.save')}</Text>\n                                </TouchableOpacity>\n                                <TouchableOpacity onPress={() => setEditingId(null)}>\n                                    <Text style={styles.cancelText}>{t('common.cancel')}</Text>\n                                </TouchableOpacity>\n                            </View>\n                        ) : (\n                            <View style={styles.row}>\n                                <Text style={styles.name}>{dept.name}</Text>\n                                <View style={styles.actions}>\n                                    <TouchableOpacity onPress={() => {\n                                        setEditingId(dept.id);\n                                        setEditingName(dept.name);\n                                    }}>\n                                        <Text style={styles.editText}>{t('common.edit')}</Text>\n                                    </TouchableOpacity>\n                                    <TouchableOpacity onPress={() => handleDelete(dept.id)}>\n                                        <Text style={styles.deleteText}>{t('common.delete')}</Text>\n                                    </TouchableOpacity>\n                                </View>\n                            </View>\n                        )}\n                    </View>\n                ))}\n            </ScrollView>\n        </View>\n    );\n};\n\nconst createStyles = (theme: Theme) =>\n    StyleSheet.create({\n        container: { backgroundColor: theme.colors.background, padding: theme.spacing.m },\n        inputContainer: { flexDirection: 'row', gap: theme.spacing.s, marginBottom: theme.spacing.l },\n        input: {\n            flex: 1,\n            backgroundColor: theme.colors.surface,\n            borderRadius: theme.spacing.s,\n            padding: theme.spacing.m,\n            borderWidth: 1,\n            borderColor: theme.colors.border,\n            color: theme.colors.text,\n        },\n        addButton: {\n            backgroundColor: theme.colors.primary,\n            borderRadius: theme.spacing.s,\n            paddingHorizontal: theme.spacing.l,\n            justifyContent: 'center',\n        },\n        addButtonText: { color: '#FFF', fontWeight: 'bold' },\n        list: { flex: 1 },\n        item: {\n            backgroundColor: theme.colors.surface,\n            borderRadius: theme.spacing.s,\n            padding: theme.spacing.m,\n            marginBottom: theme.spacing.s,\n            ...theme.shadows.small,\n        },\n        row: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center' },\n        editRow: { flexDirection: 'row', alignItems: 'center', gap: 12 },\n        name: { fontSize: 16, color: theme.colors.text },\n        actions: { flexDirection: 'row', gap: 16 },\n        editText: { color: theme.colors.primary },\n        deleteText: { color: theme.colors.error },\n        saveText: { color: theme.colors.success, fontWeight: 'bold' },\n        cancelText: { color: theme.colors.subText },\n    });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/profile/ManageServicesScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'navigation' is defined but never used.","line":18,"column":40,"nodeType":null,"messageId":"unusedVar","endLine":18,"endColumn":50},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":18,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[591,594],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[591,594],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":68,"column":34,"nodeType":null,"messageId":"unusedVar","endLine":68,"endColumn":39}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useMemo } from 'react';\nimport {\n    View,\n    Text,\n    StyleSheet,\n    TextInput,\n    TouchableOpacity,\n    ScrollView,\n} from 'react-native';\nimport { useTranslation } from 'react-i18next';\nimport { useModal } from '../../context/ModalContext';\nimport { useToast } from '../../context/ToastContext';\nimport { useTheme } from '../../context/ThemeContext';\nimport { servicesDb } from '../../database/servicesDb';\nimport { Service } from '../../database/schema';\nimport { Theme } from '../../theme';\n\nexport const ManageServicesScreen = ({ navigation }: any) => {\n    const { theme } = useTheme();\n    const { t } = useTranslation();\n    const { showModal } = useModal();\n    const { showToast } = useToast();\n    const styles = useMemo(() => createStyles(theme), [theme]);\n\n    const [services, setServices] = useState<Service[]>([]);\n    const [newServiceName, setNewServiceName] = useState('');\n    const [editingId, setEditingId] = useState<number | null>(null);\n    const [editingName, setEditingName] = useState('');\n\n    useEffect(() => {\n        loadServices();\n    }, []);\n\n    const loadServices = async () => {\n        const all = await servicesDb.getAll();\n        setServices(all);\n    };\n\n    const handleAdd = async () => {\n        if (!newServiceName.trim()) return;\n        await servicesDb.add(newServiceName.trim());\n        setNewServiceName('');\n        loadServices();\n    };\n\n    const handleUpdate = async () => {\n        if (!editingId || !editingName.trim()) return;\n        await servicesDb.update(editingId, editingName.trim());\n        setEditingId(null);\n        setEditingName('');\n        loadServices();\n    };\n\n    const handleDelete = (id: number) => {\n        showModal({\n            title: t('common.confirm'),\n            message: t('common.confirmDelete'),\n            buttons: [\n                { text: t('common.cancel'), style: 'cancel' },\n                {\n                    text: t('common.delete'),\n                    style: 'destructive',\n                    onPress: async () => {\n                        try {\n                            await servicesDb.delete(id);\n                            loadServices();\n                            showToast(t('common.success'), 'success');\n                        } catch (error) {\n                            showToast(t('common.error'), 'error');\n                        }\n                    }\n                },\n            ]\n        });\n    };\n\n    return (\n        <View style={styles.container}>\n            <View style={styles.inputContainer}>\n                <TextInput\n                    style={styles.input}\n                    value={newServiceName}\n                    onChangeText={setNewServiceName}\n                    placeholder={t('common.add') + ' ' + t('common.service')}\n                    placeholderTextColor={theme.colors.subText}\n                />\n                <TouchableOpacity style={styles.addButton} onPress={handleAdd}>\n                    <Text style={styles.addButtonText}>{t('common.add')}</Text>\n                </TouchableOpacity>\n            </View>\n\n            <ScrollView style={styles.list}>\n                {services.map(service => (\n                    <View key={service.id} style={styles.item}>\n                        {editingId === service.id ? (\n                            <View style={styles.editRow}>\n                                <TextInput\n                                    style={[styles.input, { flex: 1, marginRight: 8 }]}\n                                    value={editingName}\n                                    onChangeText={setEditingName}\n                                    autoFocus\n                                />\n                                <TouchableOpacity onPress={handleUpdate}>\n                                    <Text style={styles.saveText}>{t('common.save')}</Text>\n                                </TouchableOpacity>\n                                <TouchableOpacity onPress={() => setEditingId(null)}>\n                                    <Text style={styles.cancelText}>{t('common.cancel')}</Text>\n                                </TouchableOpacity>\n                            </View>\n                        ) : (\n                            <View style={styles.row}>\n                                <Text style={styles.name}>{service.name}</Text>\n                                <View style={styles.actions}>\n                                    <TouchableOpacity onPress={() => {\n                                        setEditingId(service.id);\n                                        setEditingName(service.name);\n                                    }}>\n                                        <Text style={styles.editText}>{t('common.edit')}</Text>\n                                    </TouchableOpacity>\n                                    <TouchableOpacity onPress={() => handleDelete(service.id)}>\n                                        <Text style={styles.deleteText}>{t('common.delete')}</Text>\n                                    </TouchableOpacity>\n                                </View>\n                            </View>\n                        )}\n                    </View>\n                ))}\n            </ScrollView>\n        </View>\n    );\n};\n\nconst createStyles = (theme: Theme) =>\n    StyleSheet.create({\n        container: { backgroundColor: theme.colors.background, padding: theme.spacing.m },\n        inputContainer: { flexDirection: 'row', gap: theme.spacing.s, marginBottom: theme.spacing.l },\n        input: {\n            flex: 1,\n            backgroundColor: theme.colors.surface,\n            borderRadius: theme.spacing.s,\n            padding: theme.spacing.m,\n            borderWidth: 1,\n            borderColor: theme.colors.border,\n            color: theme.colors.text,\n        },\n        addButton: {\n            backgroundColor: theme.colors.primary,\n            borderRadius: theme.spacing.s,\n            paddingHorizontal: theme.spacing.l,\n            justifyContent: 'center',\n        },\n        addButtonText: { color: '#FFF', fontWeight: 'bold' },\n        list: { flex: 1 },\n        item: {\n            backgroundColor: theme.colors.surface,\n            borderRadius: theme.spacing.s,\n            padding: theme.spacing.m,\n            marginBottom: theme.spacing.s,\n            ...theme.shadows.small,\n        },\n        row: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center' },\n        editRow: { flexDirection: 'row', alignItems: 'center', gap: 12 },\n        name: { fontSize: 16, color: theme.colors.text },\n        actions: { flexDirection: 'row', gap: 16 },\n        editText: { color: theme.colors.primary },\n        deleteText: { color: theme.colors.error },\n        saveText: { color: theme.colors.success, fontWeight: 'bold' },\n        cancelText: { color: theme.colors.subText },\n    });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/profile/ProfileScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":38,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":38,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1478,1481],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1478,1481],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":43,"column":70,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":73,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1713,1716],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1713,1716],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'setSkype' is assigned a value but never used.","line":62,"column":17,"nodeType":null,"messageId":"unusedVar","endLine":62,"endColumn":25},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":108,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":108,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4655,4658],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4655,4658],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":111,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":111,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4779,4782],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4779,4782],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":115,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":115,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4926,4929],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4926,4929],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":171,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":171,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6513,6516],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6513,6516],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":174,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":174,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6637,6640],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6637,6640],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":178,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":178,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6784,6787],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6784,6787],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":263,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":263,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":300,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":300,"endColumn":19},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":324,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":324,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11145,11148],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11145,11148],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":495,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":495,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[17966,17969],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[17966,17969],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":13,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useMemo, useState, useEffect } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  Switch,\n  TouchableOpacity,\n  ScrollView,\n  Platform,\n  Image,\n  Dimensions,\n} from 'react-native';\nimport { useSelector } from 'react-redux';\nimport { WebNavigationContext } from '../../navigation/WebNavigationContext';\nimport { notificationService } from '../../services/notificationService';\nimport { useTranslation } from 'react-i18next';\nimport { useTheme } from '../../context/ThemeContext';\nimport { useAuth } from '../../context/AuthContext';\nimport { useModal } from '../../context/ModalContext';\nimport { Dropdown } from '../../components/Dropdown';\nimport { AuthInput } from '../../components/auth/AuthInput';\nimport { launchCamera, launchImageLibrary } from 'react-native-image-picker';\nimport {\n  permissionsService,\n  PermissionStatus,\n} from '../../services/permissions';\nimport { Theme } from '../../theme';\nimport { selectPendingLeaves } from '../../store/slices/leavesSlice';\nimport { selectPendingClaims } from '../../store/slices/claimsSlice';\nimport { selectAllPayroll } from '../../store/slices/payrollSlice';\nimport { selectAllTeams } from '../../store/slices/teamsSlice';\nimport { selectAllDevices } from '../../store/slices/devicesSlice';\nimport { selectAllCompanies } from '../../store/slices/companiesSlice';\nimport { Device } from '../../database/schema';\n\nconst { width } = Dimensions.get('window');\n\nexport const ProfileScreen = ({ navigation }: any) => {\n  const { theme } = useTheme();\n  const { showModal } = useModal();\n  const { t } = useTranslation();\n  const { user, signOut, updateProfile } = useAuth();\n  const { setActiveTab } = React.useContext(WebNavigationContext) as any;\n  const styles = useMemo(() => createStyles(theme), [theme]);\n\n  const [isEditing, setIsEditing] = useState(false);\n  const [name, setName] = useState(user?.name || '');\n  const [email, setEmail] = useState(user?.email || '');\n  const [photoUri, setPhotoUri] = useState(user?.photoUri || '');\n  const [backgroundPhotoUri, setBackgroundPhotoUri] = useState(user?.backgroundPhotoUri || '');\n  const [loading, setLoading] = useState(false);\n\n  // Extended fields\n  const [firstName, setFirstName] = useState(user?.firstName || '');\n  const [lastName, setLastName] = useState(user?.lastName || '');\n  const [age, setAge] = useState(user?.age ? String(user.age) : '');\n  const [gender, setGender] = useState<'male' | 'female' | 'other'>(user?.gender || 'male');\n  const [emergencyName, setEmergencyName] = useState(user?.emergencyContact?.name || '');\n  const [emergencyPhone, setEmergencyPhone] = useState(user?.emergencyContact?.phone || '');\n  const [emergencyRelationship, setEmergencyRelationship] = useState(user?.emergencyContact?.relationship || '');\n  const [linkedin, setLinkedin] = useState(user?.socialLinks?.linkedin || '');\n  const [skype, setSkype] = useState(user?.socialLinks?.skype || '');\n  const [website, setWebsite] = useState(user?.socialLinks?.website || '');\n  const [skills, setSkills] = useState(user?.skills?.join(', ') || '');\n\n  // Stats from Redux\n  const pendingLeaves = useSelector(selectPendingLeaves);\n  const pendingClaims = useSelector(selectPendingClaims);\n  const payrollItems = useSelector(selectAllPayroll);\n  const teams = useSelector(selectAllTeams);\n  const devices = useSelector(selectAllDevices);\n  const companies = useSelector(selectAllCompanies);\n\n  const myDevicesCount = useMemo(() => {\n    return devices.filter((d: Device) => d.assignedToId === user?.employeeId).length;\n  }, [devices, user?.employeeId]);\n\n  const userTeam = useMemo(() => {\n    return teams.find(t => t.id === user?.teamId);\n  }, [teams, user]);\n\n  const userCompany = useMemo(() => {\n    return companies.find(c => c.id === user?.companyId);\n  }, [companies, user]);\n\n  const [cameraPermission, setCameraPermission] =\n    useState<PermissionStatus>('unavailable');\n  const [notificationPermission, setNotificationPermission] =\n    useState<PermissionStatus>('unavailable');\n  const [calendarPermission, setCalendarPermission] =\n    useState<PermissionStatus>('unavailable');\n\n  useEffect(() => {\n    checkPermissions();\n  }, []);\n\n  const checkPermissions = async () => {\n    const camera = await permissionsService.checkCameraPermission();\n    const notification = await permissionsService.checkNotificationPermission();\n    const calendar = await permissionsService.checkCalendarPermission();\n    setCameraPermission(camera);\n    setNotificationPermission(notification);\n    setCalendarPermission(calendar);\n  };\n\n  const handlePickPhoto = async () => {\n    if (Platform.OS === 'web') {\n      const input = (window as any).document.createElement('input');\n      input.type = 'file';\n      input.accept = 'image/*';\n      input.onchange = (e: any) => {\n        const file = e.target.files[0];\n        if (file) {\n          const reader = new FileReader();\n          reader.onload = (event: any) => setPhotoUri(event.target.result);\n          reader.readAsDataURL(file);\n        }\n      };\n      input.click();\n      return;\n    }\n\n    const status = await permissionsService.requestCameraPermission();\n    setCameraPermission(status);\n\n    if (status !== 'granted') {\n      showModal({\n        title: t('profile.permissionDenied'),\n        message: t('profile.permissionBlockedMessage'),\n        buttons: [\n          { text: t('common.cancel'), style: 'cancel' },\n          {\n            text: t('profile.openSettings'),\n            onPress: () => permissionsService.openAppSettings(),\n          },\n        ],\n      });\n      return;\n    }\n\n    showModal({\n      title: t('profile.changePhoto'),\n      buttons: [\n        {\n          text: t('illnesses.takePhoto'),\n          onPress: () => {\n            launchCamera({ mediaType: 'photo', quality: 0.8 }, response => {\n              if (response.assets && response.assets[0]?.uri) {\n                setPhotoUri(response.assets[0].uri);\n              }\n            });\n          },\n        },\n        {\n          text: t('illnesses.chooseFromLibrary'),\n          onPress: () => {\n            launchImageLibrary({ mediaType: 'photo', quality: 0.8 }, response => {\n              if (response.assets && response.assets[0]?.uri) {\n                setPhotoUri(response.assets[0].uri);\n              }\n            });\n          },\n        },\n        { text: t('common.cancel'), style: 'cancel' },\n      ],\n    });\n  };\n\n  const handlePickBackgroundPhoto = async () => {\n    if (Platform.OS === 'web') {\n      const input = (window as any).document.createElement('input');\n      input.type = 'file';\n      input.accept = 'image/*';\n      input.onchange = (e: any) => {\n        const file = e.target.files[0];\n        if (file) {\n          const reader = new FileReader();\n          reader.onload = (event: any) => setBackgroundPhotoUri(event.target.result);\n          reader.readAsDataURL(file);\n        }\n      };\n      input.click();\n      return;\n    }\n\n    const status = await permissionsService.requestCameraPermission();\n    setCameraPermission(status);\n\n    if (status !== 'granted') {\n      showModal({\n        title: t('profile.permissionDenied'),\n        message: t('profile.permissionBlockedMessage'),\n        buttons: [\n          { text: t('common.cancel'), style: 'cancel' },\n          {\n            text: t('profile.openSettings'),\n            onPress: () => permissionsService.openAppSettings(),\n          },\n        ],\n      });\n      return;\n    }\n\n    showModal({\n      title: t('profile.changeBackgroundPhoto'),\n      buttons: [\n        {\n          text: t('illnesses.takePhoto'),\n          onPress: () => {\n            launchCamera({ mediaType: 'photo', quality: 0.8 }, response => {\n              if (response.assets && response.assets[0]?.uri) {\n                setBackgroundPhotoUri(response.assets[0].uri);\n              }\n            });\n          },\n        },\n        {\n          text: t('illnesses.chooseFromLibrary'),\n          onPress: () => {\n            launchImageLibrary({ mediaType: 'photo', quality: 0.8 }, response => {\n              if (response.assets && response.assets[0]?.uri) {\n                setBackgroundPhotoUri(response.assets[0].uri);\n              }\n            });\n          },\n        },\n        { text: t('common.cancel'), style: 'cancel' },\n      ],\n    });\n  };\n\n  const handleSaveProfile = async () => {\n    if (!name.trim() || !email.trim()) {\n      showModal({ title: t('common.error'), message: t('signUp.errorEmptyFields') });\n      return;\n    }\n\n    setLoading(true);\n    try {\n      await updateProfile({\n        name: name.trim(),\n        email: email.trim(),\n        photoUri,\n        backgroundPhotoUri,\n        firstName,\n        lastName,\n        age: parseInt(age) || undefined,\n        gender,\n        emergencyContact: emergencyName ? {\n          name: emergencyName,\n          phone: emergencyPhone,\n          relationship: emergencyRelationship\n        } : undefined,\n        socialLinks: (linkedin || skype || website) ? {\n          linkedin,\n          skype,\n          website\n        } : undefined,\n        skills: skills ? skills.split(',').map(s => s.trim()).filter(s => s) : undefined,\n      });\n      setIsEditing(false);\n      showModal({ title: t('common.success'), message: t('profile.updatedSuccessfully') });\n    } catch (error) {\n      showModal({ title: t('common.error'), message: t('common.loadFailed') });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCameraPermission = async (value: boolean) => {\n    if (!value) {\n      setCameraPermission('denied');\n      return;\n    }\n    const status = await permissionsService.requestCameraPermission();\n    setCameraPermission(status);\n  };\n\n  const handleNotificationPermission = async (value: boolean) => {\n    if (!value) {\n      setNotificationPermission('denied');\n      return;\n    }\n    const status = await permissionsService.requestNotificationPermission();\n    setNotificationPermission(status);\n  };\n\n  const handleCalendarPermission = async (value: boolean) => {\n    if (!value) {\n      setCalendarPermission('denied');\n      return;\n    }\n    const status = await permissionsService.requestCalendarPermission();\n    setCalendarPermission(status);\n  };\n\n  const handleLogout = async () => {\n    try {\n      await signOut(navigation);\n    } catch (error) {\n      notificationService.showAlert(t('common.error'), t('profile.logoutError'));\n    }\n  };\n\n  const getPermissionStatusText = (status: PermissionStatus) => {\n    switch (status) {\n      case 'granted': return t('profile.permissionGranted');\n      case 'denied': return t('profile.permissionDenied');\n      case 'blocked': return t('profile.permissionBlocked');\n      case 'limited': return t('profile.permissionLimited');\n      default: return t('profile.permissionUnavailable');\n    }\n  };\n\n  const getPermissionStatusColor = (status: PermissionStatus) => {\n    switch (status) {\n      case 'granted': return theme.colors.success;\n      case 'denied': return theme.colors.warning;\n      case 'blocked': return theme.colors.error;\n      default: return theme.colors.subText;\n    }\n  };\n\n  const DashboardStat = ({ label, value, icon, color }: any) => (\n    <View style={styles.statCard}>\n      <View style={[styles.statIconContainer, { backgroundColor: color + '15' }]}>\n        <Text style={[styles.statIcon, { color }]}>{icon}</Text>\n      </View>\n      <View>\n        <Text style={styles.statValue}>{value}</Text>\n        <Text style={styles.statLabel}>{label}</Text>\n      </View>\n    </View>\n  );\n\n  return (\n    <View style={styles.container}>\n      <ScrollView contentContainerStyle={styles.content} bounces={false}>\n        {/* Header Background */}\n        <View style={styles.headerBackground}>\n          {backgroundPhotoUri ? (\n            <Image source={{ uri: backgroundPhotoUri }} style={styles.backgroundImage} />\n          ) : null}\n          {isEditing && (\n            <TouchableOpacity\n              style={styles.editBackgroundButton}\n              onPress={handlePickBackgroundPhoto}\n            >\n              <Text style={styles.editBackgroundIcon}>📸</Text>\n            </TouchableOpacity>\n          )}\n        </View>\n\n        <View style={styles.mainContent}>\n          {/* Profile Header Card */}\n          <View style={styles.headerCard}>\n            <View style={styles.headerTop}>\n              <TouchableOpacity\n                style={styles.avatarContainer}\n                onPress={isEditing ? handlePickPhoto : undefined}\n                disabled={!isEditing}\n              >\n                <View style={[styles.avatar, { borderColor: theme.colors.surface, borderWidth: 4 }]}>\n                  {photoUri ? (\n                    <Image source={{ uri: photoUri }} style={styles.avatarImage} />\n                  ) : (\n                    <Text style={styles.avatarText}>\n                      {user?.name?.charAt(0).toUpperCase() || 'U'}\n                    </Text>\n                  )}\n                  {isEditing && (\n                    <View style={styles.editOverlay}>\n                      <Text style={styles.editOverlayText}>📸</Text>\n                    </View>\n                  )}\n                </View>\n                <View style={styles.roleBadge}>\n                  <Text style={styles.roleBadgeText}>\n                    {t(`roles.${user?.role}`)}\n                  </Text>\n                </View>\n              </TouchableOpacity>\n\n              <View style={styles.headerMainInfo}>\n                <Text style={styles.userName}>{user?.name}</Text>\n                <Text style={styles.userEmail}>{user?.email}</Text>\n                <View style={styles.teamContainer}>\n                  <Text style={styles.teamText}>🏢 {userCompany?.name || t('companies.noCompanyAssigned')}</Text>\n                </View>\n                <View style={[styles.teamContainer, { marginTop: 4, backgroundColor: (userTeam ? theme.colors.secondary : theme.colors.border) + '10' }]}>\n                  <Text style={[styles.teamText, { color: userTeam ? theme.colors.secondary : theme.colors.subText }]}>\n                    👥 {userTeam?.name || t('teams.noTeamAssigned')}\n                  </Text>\n                </View>\n              </View>\n            </View>\n\n            {!isEditing && (\n              <TouchableOpacity\n                style={styles.editButton}\n                onPress={() => setIsEditing(true)}\n              >\n                <Text style={styles.editButtonText}>✎ {t('profile.edit')}</Text>\n              </TouchableOpacity>\n            )}\n          </View>\n\n          {/* Stats Dashboard */}\n          {!isEditing && (\n            <View style={styles.statsRow}>\n              <DashboardStat\n                icon=\"📅\"\n                value={pendingLeaves.length}\n                label={t('leaves.upcoming')}\n                color={theme.colors.primary}\n              />\n              <DashboardStat\n                icon=\"📝\"\n                value={pendingClaims.length}\n                label={t('claims.statusPending')}\n                color={theme.colors.secondary}\n              />\n              <DashboardStat\n                icon=\"💰\"\n                value={payrollItems.length}\n                label={t('payroll.title')}\n                color=\"#4CAF50\"\n              />\n              <DashboardStat\n                icon=\"💻\"\n                value={myDevicesCount}\n                label={t('devices.myMaterial')}\n                color={theme.colors.warning}\n              />\n            </View>\n          )}\n\n          {isEditing ? (\n            <View style={styles.card}>\n              <Text style={styles.cardTitle}>👤 {t('profile.edit')}</Text>\n              <View style={styles.editForm}>\n                <AuthInput\n                  label={t('signUp.nameLabel')}\n                  value={name}\n                  onChangeText={setName}\n                  placeholder={t('signUp.namePlaceholder')}\n                />\n                <AuthInput\n                  label={t('signUp.emailLabel')}\n                  value={email}\n                  onChangeText={setEmail}\n                  placeholder={t('signUp.emailPlaceholder')}\n                  keyboardType=\"email-address\"\n                  autoCapitalize=\"none\"\n                />\n\n                <View style={styles.responsiveRow}>\n                  <View style={[styles.fieldContainerFlex, { marginRight: theme.spacing.m }]}>\n                    <AuthInput\n                      label={t('employees.firstName')}\n                      value={firstName}\n                      onChangeText={setFirstName}\n                      placeholder={t('employees.firstName')}\n                    />\n                  </View>\n                  <View style={styles.fieldContainerFlex}>\n                    <AuthInput\n                      label={t('employees.lastName')}\n                      value={lastName}\n                      onChangeText={setLastName}\n                      placeholder={t('employees.lastName')}\n                    />\n                  </View>\n                </View>\n\n                <View style={styles.responsiveRow}>\n                  <View style={[styles.fieldContainerFlex, { marginRight: theme.spacing.m }]}>\n                    <AuthInput\n                      label={t('employees.age')}\n                      value={age}\n                      onChangeText={setAge}\n                      placeholder=\"25\"\n                      keyboardType=\"numeric\"\n                    />\n                  </View>\n                  <View style={styles.fieldContainerFlex}>\n                    <Dropdown\n                      label={t('employees.gender')}\n                      data={[\n                        { label: t('employees.genderMale'), value: 'male' },\n                        { label: t('employees.genderFemale'), value: 'female' },\n                        { label: t('employees.genderOther'), value: 'other' },\n                      ]}\n                      value={gender}\n                      onSelect={(val) => setGender(val as any)}\n                    />\n                  </View>\n                </View>\n\n                <View style={styles.divider} />\n\n                <Text style={styles.subSectionTitle}>🚑 {t('employees.emergencyContact')}</Text>\n                <AuthInput\n                  label={t('employees.emergencyName')}\n                  value={emergencyName}\n                  onChangeText={setEmergencyName}\n                  placeholder={t('employees.emergencyName')}\n                />\n                <View style={styles.responsiveRow}>\n                  <View style={[styles.fieldContainerFlex, { marginRight: theme.spacing.m }]}>\n                    <AuthInput\n                      label={t('employees.emergencyPhone')}\n                      value={emergencyPhone}\n                      onChangeText={setEmergencyPhone}\n                      placeholder={t('employees.emergencyPhone')}\n                      keyboardType=\"phone-pad\"\n                    />\n                  </View>\n                  <View style={styles.fieldContainerFlex}>\n                    <AuthInput\n                      label={t('employees.emergencyRelationship')}\n                      value={emergencyRelationship}\n                      onChangeText={setEmergencyRelationship}\n                      placeholder={t('employees.emergencyRelationship')}\n                    />\n                  </View>\n                </View>\n\n                <View style={styles.divider} />\n\n                <Text style={styles.subSectionTitle}>🔗 {t('employees.socialLinks')}</Text>\n                <AuthInput\n                  label={t('employees.linkedin')}\n                  value={linkedin}\n                  onChangeText={setLinkedin}\n                  placeholder=\"https://linkedin.com/in/...\"\n                />\n\n                <AuthInput\n                  label={t('employees.website')}\n                  value={website}\n                  onChangeText={setWebsite}\n                  placeholder=\"https://example.com\"\n                />\n\n                <AuthInput\n                  label={t('employees.skills')}\n                  value={skills}\n                  onChangeText={setSkills}\n                  placeholder=\"React, Node.js, HR (Separate with commas)\"\n                />\n\n                <View style={styles.editActions}>\n                  <TouchableOpacity\n                    style={[styles.actionButton, styles.cancelButton]}\n                    onPress={() => {\n                      setIsEditing(false);\n                      setName(user?.name || '');\n                      setEmail(user?.email || '');\n                      setPhotoUri(user?.photoUri || '');\n                      setBackgroundPhotoUri(user?.backgroundPhotoUri || '');\n                    }}\n                  >\n                    <Text style={styles.cancelButtonText}>{t('common.cancel')}</Text>\n                  </TouchableOpacity>\n                  <TouchableOpacity\n                    style={[styles.actionButton, styles.saveButton]}\n                    onPress={handleSaveProfile}\n                    disabled={loading}\n                  >\n                    <Text style={styles.saveButtonText}>\n                      {loading ? t('common.loading') : t('profile.save')}\n                    </Text>\n                  </TouchableOpacity>\n                </View>\n              </View>\n            </View>\n          ) : (\n            <>\n              {/* Professional Profile View */}\n              <View style={styles.card}>\n                <Text style={styles.cardTitle}>🎯 {t('profile.professionalProfile')}</Text>\n\n                <View style={styles.responsiveRow}>\n                  <View style={styles.fieldContainerFlex}>\n                    <Text style={styles.fieldLabel}>{t('employees.company')}</Text>\n                    <Text style={[styles.userName, { fontSize: 16, marginBottom: theme.spacing.m }]}>\n                      🏢 {userCompany?.name || t('companies.noCompanyAssigned')}\n                    </Text>\n                  </View>\n                  <View style={styles.fieldContainerFlex}>\n                    <Text style={styles.fieldLabel}>{t('teams.title')}</Text>\n                    <Text style={[styles.userName, { fontSize: 16, marginBottom: theme.spacing.m }]}>\n                      👥 {userTeam?.name || t('teams.noTeamAssigned')}\n                    </Text>\n                  </View>\n                </View>\n\n                <View style={styles.divider} />\n\n                <Text style={styles.fieldLabel}>{t('employees.skills')}</Text>\n                <View style={styles.tagContainer}>\n                  {user?.skills?.map((skill: string, index: number) => (\n                    <View key={index} style={styles.tag}>\n                      <Text style={styles.tagText}>{skill}</Text>\n                    </View>\n                  )) || <Text style={styles.emptyText}>{t('common.noData')}</Text>}\n                </View>\n\n                <View style={styles.divider} />\n\n                <Text style={styles.fieldLabel}>{t('employees.socialLinks')}</Text>\n                <View style={styles.socialRows}>\n                  {user?.socialLinks?.linkedin && (\n                    <View style={styles.socialItem}>\n                      <Text style={styles.socialIcon}>💼</Text>\n                      <Text style={styles.socialValue}>{user.socialLinks.linkedin}</Text>\n                    </View>\n                  )}\n                  {user?.socialLinks?.website && (\n                    <View style={styles.socialItem}>\n                      <Text style={styles.socialIcon}>🌐</Text>\n                      <Text style={styles.socialValue}>{user.socialLinks.website}</Text>\n                    </View>\n                  )}\n                  {user?.socialLinks?.skype && (\n                    <View style={styles.socialItem}>\n                      <Text style={styles.socialIcon}>💬</Text>\n                      <Text style={styles.socialValue}>{user.socialLinks.skype}</Text>\n                    </View>\n                  )}\n                  {!user?.socialLinks && <Text style={styles.emptyText}>{t('common.noData')}</Text>}\n                </View>\n              </View>\n\n              {/* Security & Permissions */}\n              <View style={styles.card}>\n                <Text style={styles.cardTitle}>🔒 {t('profile.securityPermissions')}</Text>\n                {[\n                  { label: t('profile.camera'), status: cameraPermission, onValueChange: handleCameraPermission },\n                  { label: t('profile.notifications'), status: notificationPermission, onValueChange: handleNotificationPermission },\n                  { label: t('profile.calendar'), status: calendarPermission, onValueChange: handleCalendarPermission },\n                ].map((perm, index) => (\n                  <View key={index} style={styles.permissionRow}>\n                    <View style={styles.permissionInfo}>\n                      <Text style={styles.permissionLabel}>{perm.label}</Text>\n                      <Text style={[styles.permissionStatus, { color: getPermissionStatusColor(perm.status) }]}>\n                        {getPermissionStatusText(perm.status)}\n                      </Text>\n                    </View>\n                    {Platform.OS !== 'web' && perm.status !== 'unavailable' && (\n                      <Switch\n                        value={perm.status === 'granted'}\n                        onValueChange={perm.onValueChange}\n                        trackColor={{ false: theme.colors.border, true: theme.colors.primary }}\n                        thumbColor={theme.colors.surface}\n                      />\n                    )}\n                  </View>\n                ))}\n              </View>\n\n              {/* My Material Link */}\n              <TouchableOpacity\n                style={[styles.card, { flexDirection: 'row', alignItems: 'center', justifyContent: 'space-between' }]}\n                onPress={() => {\n                  if (Platform.OS === 'web') {\n                    setActiveTab('Profile', 'MyDevices');\n                  } else {\n                    navigation.navigate('MyDevices');\n                  }\n                }}\n              >\n                <View style={{ flexDirection: 'row', alignItems: 'center' }}>\n                  <Text style={{ fontSize: 24, marginRight: theme.spacing.m }}>💻</Text>\n                  <View>\n                    <Text style={styles.cardTitle}>{t('devices.myMaterial')}</Text>\n                    <Text style={styles.emptyText}>{myDevicesCount} {t('devices.assigned')}</Text>\n                  </View>\n                </View>\n                <Text style={{ fontSize: 20, color: theme.colors.subText }}>›</Text>\n              </TouchableOpacity>\n            </>\n          )}\n\n          <TouchableOpacity style={styles.logoutButton} onPress={handleLogout}>\n            <Text style={styles.logoutText}>🚪 {t('profile.logout')}</Text>\n          </TouchableOpacity>\n          <Text style={styles.versionText}>{t('profile.version')} 1.0.0</Text>\n        </View>\n      </ScrollView >\n    </View >\n  );\n};\n\nconst createStyles = (theme: Theme) =>\n  StyleSheet.create({\n    container: {\n      backgroundColor: theme.colors.background\n    },\n    content: {\n      paddingBottom: theme.spacing.xl\n    },\n    headerBackground: {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      right: 0,\n      height: 200,\n      backgroundColor: theme.colors.primary,\n      overflow: 'hidden',\n    },\n    backgroundImage: {\n      width: '100%',\n      height: '100%',\n      resizeMode: 'cover',\n    },\n    editBackgroundButton: {\n      position: 'absolute',\n      top: theme.spacing.m,\n      right: theme.spacing.m,\n      backgroundColor: 'rgba(0,0,0,0.5)',\n      width: 40,\n      height: 40,\n      borderRadius: 20,\n      justifyContent: 'center',\n      alignItems: 'center',\n    },\n    editBackgroundIcon: {\n      fontSize: 20,\n    },\n    mainContent: {\n      padding: theme.spacing.m,\n      marginTop: 60, // Peak relative to header background\n    },\n    headerCard: {\n      backgroundColor: theme.colors.surface,\n      borderRadius: theme.spacing.m,\n      padding: theme.spacing.l,\n      marginBottom: theme.spacing.m,\n      ...theme.shadows.medium,\n    },\n    headerTop: {\n      flexDirection: Platform.OS === 'web' && width > 600 ? 'row' : 'column',\n      alignItems: 'center',\n    },\n    headerMainInfo: {\n      marginLeft: Platform.OS === 'web' && width > 600 ? theme.spacing.l : 0,\n      marginTop: Platform.OS === 'web' && width > 600 ? 0 : theme.spacing.m,\n      alignItems: Platform.OS === 'web' && width > 600 ? 'flex-start' : 'center',\n    },\n    avatarContainer: {\n      position: 'relative',\n    },\n    avatar: {\n      width: 120,\n      height: 120,\n      borderRadius: 60,\n      backgroundColor: theme.colors.primary,\n      justifyContent: 'center',\n      alignItems: 'center',\n      overflow: 'hidden',\n    },\n    avatarImage: { width: '100%', height: '100%' },\n    avatarText: { fontSize: 48, fontWeight: 'bold', color: '#FFFFFF' },\n    editOverlay: {\n      ...StyleSheet.absoluteFillObject,\n      backgroundColor: 'rgba(0,0,0,0.3)',\n      justifyContent: 'center',\n      alignItems: 'center',\n    },\n    editOverlayText: { fontSize: 24 },\n    roleBadge: {\n      position: 'absolute',\n      bottom: 5,\n      right: 5,\n      backgroundColor: theme.colors.secondary,\n      paddingHorizontal: theme.spacing.m,\n      paddingVertical: 4,\n      borderRadius: 15,\n      borderWidth: 3,\n      borderColor: theme.colors.surface,\n    },\n    roleBadgeText: { fontSize: 12, fontWeight: 'bold', color: theme.colors.text },\n    userName: { ...theme.textVariants.header, fontSize: 26, color: theme.colors.text, marginBottom: 4 },\n    userEmail: { ...theme.textVariants.body, color: theme.colors.subText, fontSize: 16, marginBottom: 8 },\n    teamContainer: {\n      backgroundColor: theme.colors.primary + '10',\n      paddingHorizontal: theme.spacing.m,\n      paddingVertical: 4,\n      borderRadius: theme.spacing.s,\n    },\n    teamText: { color: theme.colors.primary, fontWeight: '600', fontSize: 14 },\n    editButton: {\n      alignSelf: 'stretch',\n      marginTop: theme.spacing.l,\n      paddingVertical: theme.spacing.m,\n      borderRadius: theme.spacing.m,\n      backgroundColor: theme.colors.primary + '10',\n      alignItems: 'center',\n    },\n    editButtonText: { color: theme.colors.primary, fontWeight: 'bold', fontSize: 16 },\n    statsRow: {\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      marginBottom: theme.spacing.m,\n      gap: theme.spacing.s,\n    },\n    statCard: {\n      flex: 1,\n      backgroundColor: theme.colors.surface,\n      borderRadius: theme.spacing.m,\n      padding: theme.spacing.m,\n      flexDirection: 'row',\n      alignItems: 'center',\n      ...theme.shadows.small,\n    },\n    statIconContainer: {\n      width: 40,\n      height: 40,\n      borderRadius: 20,\n      justifyContent: 'center',\n      alignItems: 'center',\n      marginRight: theme.spacing.s,\n    },\n    statIcon: { fontSize: 20 },\n    statValue: { fontSize: 20, fontWeight: 'bold', color: theme.colors.text },\n    statLabel: { fontSize: 11, color: theme.colors.subText },\n    card: {\n      backgroundColor: theme.colors.surface,\n      borderRadius: theme.spacing.m,\n      padding: theme.spacing.l,\n      marginBottom: theme.spacing.m,\n      ...theme.shadows.small,\n    },\n    cardTitle: {\n      ...theme.textVariants.subheader,\n      color: theme.colors.text,\n      fontSize: 18,\n      marginBottom: theme.spacing.l\n    },\n    fieldLabel: {\n      fontSize: 14,\n      fontWeight: '600',\n      color: theme.colors.subText,\n      marginBottom: theme.spacing.s,\n    },\n    tagContainer: {\n      flexDirection: 'row',\n      flexWrap: 'wrap',\n      gap: theme.spacing.s,\n    },\n    tag: {\n      backgroundColor: theme.colors.primary + '15',\n      paddingHorizontal: theme.spacing.m,\n      paddingVertical: 6,\n      borderRadius: 20,\n    },\n    tagText: { color: theme.colors.primary, fontSize: 13, fontWeight: '500' },\n    socialRows: { gap: theme.spacing.m },\n    socialItem: {\n      flexDirection: 'row',\n      alignItems: 'center',\n      backgroundColor: theme.colors.background,\n      padding: theme.spacing.m,\n      borderRadius: theme.spacing.s,\n    },\n    socialIcon: { fontSize: 18, marginRight: theme.spacing.m },\n    socialValue: { color: theme.colors.text, fontSize: 14, flex: 1 },\n    emptyText: { color: theme.colors.subText, fontStyle: 'italic' },\n    editForm: { width: '100%' },\n    editActions: { flexDirection: 'row', justifyContent: 'flex-end', marginTop: theme.spacing.l, gap: theme.spacing.m },\n    actionButton: { paddingHorizontal: theme.spacing.xl, paddingVertical: theme.spacing.m, borderRadius: theme.spacing.m },\n    cancelButton: { backgroundColor: theme.colors.border },\n    cancelButtonText: { color: theme.colors.text, fontWeight: '600' },\n    saveButton: { backgroundColor: theme.colors.primary },\n    saveButtonText: { color: '#FFFFFF', fontWeight: 'bold' },\n    divider: { height: 1, backgroundColor: theme.colors.border, marginVertical: theme.spacing.l },\n    permissionRow: {\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      paddingVertical: theme.spacing.m,\n      borderBottomWidth: 1,\n      borderBottomColor: theme.colors.border,\n    },\n    permissionInfo: { flex: 1 },\n    permissionLabel: { ...theme.textVariants.body, color: theme.colors.text, marginBottom: theme.spacing.xs },\n    permissionStatus: { ...theme.textVariants.caption, fontSize: 12 },\n    logoutButton: {\n      backgroundColor: theme.colors.surface,\n      margin: theme.spacing.m,\n      padding: theme.spacing.l,\n      borderRadius: theme.spacing.m,\n      alignItems: 'center',\n      borderWidth: 1,\n      borderColor: theme.colors.error,\n    },\n    logoutText: { ...theme.textVariants.button, color: theme.colors.error, fontSize: 16 },\n    versionText: { ...theme.textVariants.caption, color: theme.colors.subText, textAlign: 'center' },\n    responsiveRow: {\n      flexDirection: 'row',\n      alignItems: 'center',\n      gap: theme.spacing.m,\n    },\n    fieldContainerFlex: {\n      flex: 1,\n    },\n    subSectionTitle: {\n      fontSize: 18,\n      fontWeight: 'bold',\n      color: theme.colors.primary,\n      marginBottom: theme.spacing.m,\n      marginTop: theme.spacing.s,\n    },\n  });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/remote/RemoteCalendarScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Platform' is defined but never used.","line":11,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":11},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'formatDate' is defined but never used.","line":23,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":23,"endColumn":20},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'showToast' is assigned a value but never used.","line":28,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":28,"endColumn":20},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":33,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":33,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1183,1186],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1183,1186],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":34,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":34,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1248,1251],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1248,1251],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":67,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":67,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2415,2418],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2415,2418],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":74,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":74,"endColumn":19},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":168,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":168,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5480,5483],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5480,5483],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":8,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useMemo } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  TouchableOpacity,\n  ScrollView,\n  ActivityIndicator,\n  Modal,\n  Pressable,\n  Platform,\n} from 'react-native';\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport { useTranslation } from 'react-i18next';\nimport { remoteDb } from '../../database/remoteDb';\nimport { notificationService } from '../../services/notificationService';\nimport { useAuth } from '../../context/AuthContext';\nimport { useToast } from '../../context/ToastContext';\nimport { useTheme } from '../../context/ThemeContext';\nimport { Theme } from '../../theme';\nimport { holidaysService } from '../../services/holidaysService';\nimport { leavesDb } from '../../database/leavesDb';\nimport { formatDate } from '../../utils/dateUtils';\nimport { SearchOverlay } from '../../components/common/SearchOverlay';\n\nexport const RemoteCalendarScreen = () => {\n  const { theme } = useTheme();\n  const { showToast } = useToast();\n  const { t, i18n } = useTranslation();\n  const { user } = useAuth();\n  const styles = useMemo(() => createStyles(theme), [theme]);\n\n  const [remoteDays, setRemoteDays] = useState<any>({});\n  const [approvedLeaves, setApprovedLeaves] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [currentMonth, setCurrentMonth] = useState(new Date());\n  const [selectedDay, setSelectedDay] = useState<string | null>(null);\n  const [modalVisible, setModalVisible] = useState(false);\n\n  // New state for viewing other employees\n  const [viewMode, setViewMode] = useState<'mine' | 'other'>('mine');\n  const [selectedEmployee, setSelectedEmployee] = useState<{ id: number; name: string } | null>(null);\n  const [isSearchVisible, setIsSearchVisible] = useState(false);\n\n  useEffect(() => {\n    loadData();\n  }, [user, viewMode, selectedEmployee]);\n\n  const loadData = async () => {\n    try {\n      setLoading(true);\n      // Determine whose data to fetch\n      const employeeId = viewMode === 'mine' ? user?.employeeId : selectedEmployee?.id;\n\n      if (!employeeId) {\n        setLoading(false);\n        setRemoteDays({});\n        setApprovedLeaves([]);\n        return;\n      }\n\n      const [remoteData, leavesData] = await Promise.all([\n        remoteDb.getByEmployeeId(employeeId),\n        leavesDb.getApprovedByEmployeeId(employeeId),\n      ]);\n\n      const mappedRemote = remoteData.reduce((acc: any, curr) => {\n        acc[curr.date] = curr.status;\n        return acc;\n      }, {});\n\n      setRemoteDays(mappedRemote);\n      setApprovedLeaves(leavesData);\n    } catch (error) {\n      notificationService.showAlert(t('common.error'), t('common.loadFailed'));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const updateStatus = async (status: 'remote' | 'office' | 'none') => {\n    // Only allow updating own status\n    if (viewMode === 'other') return;\n\n    try {\n      if (!user?.employeeId) {\n        notificationService.showAlert(t('common.error'), t('employees.notFound'));\n        return;\n      }\n\n      if (!selectedDay) return;\n\n      if (status === 'none') {\n        const remoteData = await remoteDb.getByEmployeeId(user.employeeId);\n        const entry = remoteData.find(r => r.date === selectedDay);\n        if (entry?.id) {\n          await remoteDb.delete(entry.id);\n        }\n        const newRemoteDays = { ...remoteDays };\n        delete newRemoteDays[selectedDay];\n        setRemoteDays(newRemoteDays);\n      } else {\n        await remoteDb.addOrUpdate({\n          employeeId: user.employeeId,\n          date: selectedDay,\n          status,\n        });\n        setRemoteDays((prev: { [key: string]: string }) => ({ ...prev, [selectedDay]: status }));\n      }\n    } catch (error) {\n      console.error('Error updating remote status:', error);\n      notificationService.showAlert(t('common.error'), t('common.saveError'));\n    } finally {\n      setModalVisible(false);\n      setSelectedDay(null);\n    }\n  };\n\n  const isDayOnLeave = (dateStr: string) => {\n    return approvedLeaves.some(l => {\n      const start = l.startDate || l.dateTime.split('T')[0];\n      const end = l.endDate || start;\n      return dateStr >= start && dateStr <= end;\n    });\n  };\n\n  const getLeaveTitle = (dateStr: string) => {\n    const leave = approvedLeaves.find(l => {\n      const start = l.startDate || l.dateTime.split('T')[0];\n      const end = l.endDate || start;\n      return dateStr >= start && dateStr <= end;\n    });\n    return leave?.title;\n  };\n\n  const onDayPress = (dateStr: string) => {\n    // Read-only logic for 'other' mode\n    if (viewMode === 'other') {\n      if (isDayOnLeave(dateStr)) {\n        notificationService.showAlert(t('remote.onLeave'), getLeaveTitle(dateStr));\n      }\n      return;\n    }\n\n    if (isDayOnLeave(dateStr)) {\n      notificationService.showAlert(t('remote.onLeave'), getLeaveTitle(dateStr));\n      return;\n    }\n    const holiday = holidaysService.getHolidayOnDate(dateStr, user?.country || 'France');\n    if (holiday) {\n      notificationService.showAlert(t('common.holiday'), holiday.name[t('languages.en') === 'English' ? 'en' : 'fr']);\n      return;\n    }\n    setSelectedDay(dateStr);\n    setModalVisible(true);\n  };\n\n  const navigateMonth = (direction: number) => {\n    const newMonth = new Date(currentMonth);\n    newMonth.setMonth(currentMonth.getMonth() + direction);\n    setCurrentMonth(newMonth);\n  };\n\n  const goToToday = () => {\n    setCurrentMonth(new Date());\n  };\n\n  const handleSearchSelect = (result: any) => {\n    if (result.type === 'employee') {\n      setSelectedEmployee({ id: Number(result.id), name: result.title });\n      setIsSearchVisible(false);\n    }\n  };\n\n  const renderCalendar = () => {\n    const year = currentMonth.getFullYear();\n    const month = currentMonth.getMonth();\n    const firstDay = new Date(year, month, 1).getDay();\n    const daysInMonth = new Date(year, month + 1, 0).getDate();\n\n    const days = [];\n    // Sunday is 0. Padding:\n    for (let i = 0; i < firstDay; i++) {\n      days.push(<View key={`empty-${i}`} style={styles.dayCell} />);\n    }\n\n    for (let d = 1; d <= daysInMonth; d++) {\n      const date = new Date(year, month, d);\n      const dateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(d).padStart(2, '0')}`;\n      const status = remoteDays[dateStr];\n      const onLeave = isDayOnLeave(dateStr);\n      const holiday = holidaysService.getHolidayOnDate(dateStr, user?.country || 'France');\n      const isWeekend = holidaysService.isWeekend(date, user?.country);\n      const isToday = new Date().toISOString().split('T')[0] === dateStr;\n\n      days.push(\n        <TouchableOpacity\n          key={d}\n          style={[\n            styles.dayCell,\n            isToday && styles.todayCell,\n          ]}\n          onPress={() => onDayPress(dateStr)}\n          disabled={viewMode === 'other' && !status && !onLeave} // Disable taps on empty days in 'other' mode\n        >\n          <Text style={[\n            styles.dayText,\n            isWeekend && !status && !onLeave && styles.weekendText,\n            isToday && styles.todayText,\n          ]}>\n            {d}\n          </Text>\n\n          <View style={styles.statusContainer}>\n            {status && (\n              <View style={[\n                styles.statusBadge,\n                status.toLowerCase() === 'remote' ? styles.remoteBadge : styles.officeBadge\n              ]}>\n                <Text style={styles.statusBadgeText}>\n                  {status.toLowerCase() === 'remote' ? '🏠 ' + t('remote.remote') : '🏢 ' + t('remote.office')}\n                </Text>\n              </View>\n            )}\n            {onLeave && (\n              <View style={[styles.statusBadge, styles.leaveBadge]}>\n                <Text style={styles.statusBadgeText}>🏖️ {t('remote.onLeave')}</Text>\n              </View>\n            )}\n            {holiday && (\n              <View style={[styles.statusBadge, styles.holidayBadge]}>\n                <Text style={styles.statusBadgeText}>\n                  📅 {holiday.name[i18n.language.startsWith('ar') ? 'fr' : (i18n.language.startsWith('fr') ? 'fr' : 'en')] || holiday.name.fr}\n                </Text>\n              </View>\n            )}\n          </View>\n        </TouchableOpacity>,\n      );\n    }\n    return days;\n  };\n\n  if (loading) return <ActivityIndicator style={styles.centered} />;\n\n  return (\n    <SafeAreaView style={{ flex: 1, backgroundColor: theme.colors.background }}>\n      <ScrollView contentContainerStyle={styles.container}>\n\n        {/* Toggle View Mode */}\n        <View style={styles.toggleContainer}>\n          <TouchableOpacity\n            style={[styles.toggleButton, viewMode === 'mine' && styles.toggleButtonActive]}\n            onPress={() => setViewMode('mine')}\n          >\n            <Text style={[styles.toggleText, viewMode === 'mine' && styles.toggleTextActive]}>\n              {t('remote.myPlanning') || 'My Planning'}\n            </Text>\n          </TouchableOpacity>\n          <TouchableOpacity\n            style={[styles.toggleButton, viewMode === 'other' && styles.toggleButtonActive]}\n            onPress={() => setViewMode('other')}\n          >\n            <Text style={[styles.toggleText, viewMode === 'other' && styles.toggleTextActive]}>\n              {t('remote.employeePlanning') || 'Employee Planning'}\n            </Text>\n          </TouchableOpacity>\n        </View>\n\n        {/* Employee Search Selection */}\n        {viewMode === 'other' && (\n          <TouchableOpacity\n            style={styles.searchButton}\n            onPress={() => setIsSearchVisible(true)}\n          >\n            <Text style={styles.searchText}>\n              {selectedEmployee ? `👤 ${selectedEmployee.name}` : `🔍 ${t('common.search') || 'Search Employee'}`}\n            </Text>\n          </TouchableOpacity>\n        )}\n\n        {(viewMode === 'mine' && !user?.employeeId) && (\n          <View style={styles.errorContainer}>\n            <Text style={styles.errorText}>\n              ℹ️ {t('employees.notFound')} - {t('profile.professionalProfile')} required\n            </Text>\n          </View>\n        )}\n\n        {/* Calendar Header with Name if 'other' */}\n        {viewMode === 'other' && selectedEmployee && (\n          <Text style={styles.viewingText}>\n            {t('common.viewing') || 'Viewing'}: {selectedEmployee.name}\n          </Text>\n        )}\n\n        {/* Month Navigation Header */}\n        <View style={styles.header}>\n          <TouchableOpacity onPress={() => navigateMonth(-1)} style={styles.navButton}>\n            <Text style={styles.navButtonText}>{\"<\"}</Text>\n          </TouchableOpacity>\n          <View style={styles.headerTitleContainer}>\n            <Text style={styles.monthTitle}>\n              {currentMonth.toLocaleString('default', {\n                month: 'long',\n                year: 'numeric',\n              })}\n            </Text>\n            <TouchableOpacity onPress={goToToday} style={styles.todayButton}>\n              <Text style={styles.todayButtonText}>TODAY</Text>\n            </TouchableOpacity>\n          </View>\n          <TouchableOpacity onPress={() => navigateMonth(1)} style={styles.navButton}>\n            <Text style={styles.navButtonText}>{\">\"}</Text>\n          </TouchableOpacity>\n        </View>\n\n        <View style={styles.calendarGrid}>\n          {['S', 'M', 'T', 'W', 'T', 'F', 'S'].map(d => (\n            <View key={d} style={styles.dayHeader}>\n              <Text style={styles.dayHeaderText}>{d}</Text>\n            </View>\n          ))}\n          {renderCalendar()}\n        </View>\n\n        <View style={styles.legend}>\n          <View style={styles.legendItem}>\n            <View style={[styles.legendBox, styles.remoteBadge]} />\n            <Text style={styles.legendText}>{t('remote.remote')}</Text>\n          </View>\n          <View style={styles.legendItem}>\n            <View style={[styles.legendBox, styles.officeBadge]} />\n            <Text style={styles.legendText}>{t('remote.office')}</Text>\n          </View>\n          <View style={styles.legendItem}>\n            <View style={[styles.legendBox, styles.leaveBadge]} />\n            <Text style={styles.legendText}>{t('remote.onLeave')}</Text>\n          </View>\n          <View style={styles.legendItem}>\n            <View style={[styles.legendBox, styles.holidayBadge]} />\n            <Text style={styles.legendText}>{t('common.holiday')}</Text>\n          </View>\n        </View>\n\n        <Modal\n          visible={modalVisible}\n          transparent\n          animationType=\"fade\"\n          onRequestClose={() => setModalVisible(false)}\n        >\n          <View style={styles.modalCenteredView}>\n            {/* Backdrop: Absolute fill to catch clicks outside content */}\n            <Pressable\n              style={StyleSheet.absoluteFill}\n              onPress={() => setModalVisible(false)}\n            />\n\n            {/* Content: Z-indexed box */}\n            <View style={styles.modalContent}>\n              <Text style={styles.modalTitle}>{t('remote.selectStatus')}</Text>\n              <Text style={styles.modalSubtitle}>{selectedDay}</Text>\n\n              <TouchableOpacity\n                style={styles.modalOption}\n                onPress={() => updateStatus('office')}\n              >\n                <Text style={styles.optionIcon}>🏢</Text>\n                <Text style={styles.optionText}>{t('remote.office')}</Text>\n              </TouchableOpacity>\n\n              <TouchableOpacity\n                style={styles.modalOption}\n                onPress={() => updateStatus('remote')}\n              >\n                <Text style={styles.optionIcon}>🏠</Text>\n                <Text style={styles.optionText}>{t('remote.remote')}</Text>\n              </TouchableOpacity>\n\n              <TouchableOpacity\n                style={[styles.modalOption, styles.noneOption]}\n                onPress={() => updateStatus('none')}\n              >\n                <Text style={styles.optionIcon}>❌</Text>\n                <Text style={styles.optionText}>{t('common.cancel')}</Text>\n              </TouchableOpacity>\n            </View>\n          </View>\n        </Modal>\n      </ScrollView>\n\n      <SearchOverlay\n        visible={isSearchVisible}\n        onClose={() => setIsSearchVisible(false)}\n        onSelect={handleSearchSelect}\n      />\n    </SafeAreaView>\n  );\n};\n\nconst createStyles = (theme: Theme) =>\n  StyleSheet.create({\n    container: {\n      backgroundColor: theme.colors.background,\n      padding: theme.spacing.m,\n      paddingBottom: theme.spacing.xl,\n    },\n    centered: { flex: 1, marginTop: 100 },\n    toggleContainer: {\n      flexDirection: 'row',\n      backgroundColor: theme.colors.surface,\n      borderRadius: theme.spacing.s,\n      padding: 4,\n      marginBottom: theme.spacing.m,\n      borderWidth: 1,\n      borderColor: theme.colors.border,\n    },\n    toggleButton: {\n      flex: 1,\n      paddingVertical: 8,\n      alignItems: 'center',\n      borderRadius: theme.spacing.xs,\n    },\n    toggleButtonActive: {\n      backgroundColor: theme.colors.primary,\n    },\n    toggleText: {\n      ...theme.textVariants.caption,\n      color: theme.colors.subText,\n      fontWeight: '600',\n    },\n    toggleTextActive: {\n      color: theme.colors.surface,\n    },\n    searchButton: {\n      backgroundColor: theme.colors.surface,\n      padding: theme.spacing.m,\n      borderRadius: theme.spacing.s,\n      marginBottom: theme.spacing.m,\n      borderWidth: 1,\n      borderColor: theme.colors.border,\n      alignItems: 'center',\n    },\n    searchText: {\n      fontSize: 16,\n      color: theme.colors.text,\n    },\n    viewingText: {\n      ...theme.textVariants.caption,\n      color: theme.colors.primary,\n      textAlign: 'center',\n      marginBottom: theme.spacing.s,\n      fontWeight: 'bold',\n    },\n    header: {\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      marginBottom: theme.spacing.l\n    },\n    headerTitleContainer: {\n      alignItems: 'center',\n    },\n    monthTitle: {\n      ...theme.textVariants.header,\n      color: theme.colors.text,\n      fontSize: 18,\n    },\n    navButton: {\n      padding: theme.spacing.m,\n      backgroundColor: theme.colors.surface,\n      borderRadius: theme.spacing.s,\n      ...theme.shadows.small,\n    },\n    navButtonText: {\n      fontSize: 20,\n      fontWeight: 'bold',\n      color: theme.colors.primary,\n    },\n    todayButton: {\n      marginTop: 4,\n      paddingHorizontal: 8,\n      paddingVertical: 2,\n      backgroundColor: theme.colors.primary + '20',\n      borderRadius: 4,\n    },\n    todayButtonText: {\n      ...theme.textVariants.caption,\n      color: theme.colors.primary,\n      fontWeight: 'bold',\n      fontSize: 10,\n    },\n    calendarGrid: {\n      flexDirection: 'row',\n      flexWrap: 'wrap',\n      backgroundColor: theme.colors.surface,\n      borderRadius: theme.spacing.m,\n      padding: theme.spacing.s,\n      ...theme.shadows.small,\n    },\n    dayHeader: {\n      width: '14.28%',\n      alignItems: 'center',\n      paddingVertical: theme.spacing.s,\n    },\n    dayHeaderText: {\n      ...theme.textVariants.caption,\n      fontWeight: 'bold',\n      color: theme.colors.subText,\n    },\n    dayCell: {\n      width: '14.28%',\n      minHeight: 60,\n      justifyContent: 'flex-start',\n      alignItems: 'center',\n      borderBottomWidth: 1,\n      borderRightWidth: 1,\n      borderColor: theme.colors.border,\n      position: 'relative',\n      paddingTop: theme.spacing.xs,\n    },\n    dayText: {\n      fontSize: 12,\n      fontWeight: '600',\n      color: theme.colors.text,\n      marginBottom: 4,\n    },\n    todayCell: {\n      borderColor: theme.colors.primary,\n      borderWidth: 2,\n    },\n    todayText: {\n      color: theme.colors.primary,\n      fontWeight: 'bold',\n    },\n    statusContainer: {\n      width: '100%',\n      paddingHorizontal: 2,\n      alignItems: 'center',\n    },\n    statusBadge: {\n      width: '95%',\n      paddingVertical: 2,\n      borderRadius: 4,\n      alignItems: 'center',\n      justifyContent: 'center',\n      marginBottom: 2,\n    },\n    statusBadgeText: {\n      fontSize: 8,\n      fontWeight: 'bold',\n      color: theme.colors.surface,\n      textAlign: 'center',\n      paddingHorizontal: 1,\n    },\n    remoteBadge: { backgroundColor: theme.colors.primary },\n    officeBadge: { backgroundColor: theme.colors.secondary },\n    leaveBadge: { backgroundColor: theme.colors.success },\n    holidayBadge: { backgroundColor: theme.colors.error },\n    weekendDay: { backgroundColor: theme.colors.background },\n    weekendText: { color: theme.colors.error + '80' },\n    holidayDot: {\n      position: 'absolute',\n      top: 4,\n      right: 4,\n      width: 4,\n      height: 4,\n      borderRadius: 2,\n      backgroundColor: theme.colors.error,\n    },\n    legend: {\n      flexDirection: 'row',\n      flexWrap: 'wrap',\n      justifyContent: 'center',\n      gap: theme.spacing.m,\n      marginTop: theme.spacing.xl,\n      paddingHorizontal: theme.spacing.m,\n    },\n    legendItem: {\n      flexDirection: 'row',\n      alignItems: 'center',\n      gap: theme.spacing.s,\n    },\n    legendBox: { width: 16, height: 16, borderRadius: 4 },\n    legendText: { ...theme.textVariants.caption, color: theme.colors.text },\n    errorContainer: {\n      padding: theme.spacing.m,\n      backgroundColor: theme.colors.primary + '10',\n      borderRadius: theme.spacing.s,\n      marginBottom: theme.spacing.m,\n    },\n    errorText: {\n      ...theme.textVariants.caption,\n      color: theme.colors.primary,\n      textAlign: 'center',\n    },\n    modalCenteredView: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      backgroundColor: 'rgba(0,0,0,0.5)',\n      position: 'relative',\n    },\n    modalContent: {\n      backgroundColor: theme.colors.surface,\n      borderRadius: theme.spacing.m,\n      padding: theme.spacing.l,\n      width: '80%',\n      maxWidth: 300,\n      ...theme.shadows.medium,\n    },\n    modalTitle: {\n      ...theme.textVariants.subheader,\n      textAlign: 'center',\n      marginBottom: 4,\n      color: theme.colors.text,\n    },\n    modalSubtitle: {\n      ...theme.textVariants.caption,\n      textAlign: 'center',\n      color: theme.colors.subText,\n      marginBottom: theme.spacing.l,\n    },\n    modalOption: {\n      flexDirection: 'row',\n      alignItems: 'center',\n      padding: theme.spacing.m,\n      borderRadius: theme.spacing.s,\n      marginBottom: theme.spacing.s,\n      backgroundColor: theme.colors.background,\n    },\n    optionIcon: { fontSize: 20, marginRight: theme.spacing.m },\n    optionText: { ...theme.textVariants.body, fontWeight: '600', color: theme.colors.text },\n    noneOption: {\n      marginTop: theme.spacing.m,\n      borderWidth: 1,\n      borderColor: theme.colors.border,\n      backgroundColor: 'transparent',\n    },\n  });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/services/AddServiceScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":20,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[735,738],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[735,738],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":25,"column":72,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":75,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[988,991],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[988,991],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'err' is defined but never used.","line":57,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":57,"endColumn":21},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'err' is defined but never used.","line":83,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":83,"endColumn":21}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useMemo } from 'react';\nimport {\n    View,\n    Text,\n    StyleSheet,\n    TextInput,\n    TouchableOpacity,\n    Platform,\n} from 'react-native';\nimport { useTranslation } from 'react-i18next';\nimport { useToast } from '../../context/ToastContext';\nimport { useTheme } from '../../context/ThemeContext';\nimport { servicesDb } from '../../database/servicesDb';\nimport { Theme } from '../../theme';\nimport { WebNavigationContext } from '../../navigation/WebNavigationContext';\nimport { useSelector } from 'react-redux';\nimport { selectAllCompanies } from '../../store/slices/companiesSlice';\nimport { Dropdown } from '../../components/Dropdown';\n\nexport const AddServiceScreen = ({ navigation, route }: any) => {\n    const { theme } = useTheme();\n    const { t } = useTranslation();\n    const { showToast } = useToast();\n    const styles = useMemo(() => createStyles(theme), [theme]);\n    const { setActiveTab } = React.useContext(WebNavigationContext) as any;\n\n    const serviceId = route?.params?.serviceId;\n    const companyId = route?.params?.companyId;\n    const isEdit = !!serviceId;\n\n    const [name, setName] = useState('');\n    const [selectedCompanyId, setSelectedCompanyId] = useState<number | undefined>(companyId);\n    const [error, setError] = useState('');\n\n    const companies = useSelector(selectAllCompanies);\n    const companyOptions = useMemo(() => [\n        { label: t('common.allCompanies') || 'All Companies / Global', value: 'global' },\n        ...companies.map(c => ({ label: c.name, value: c.id.toString() }))\n    ], [companies, t]);\n\n    useEffect(() => {\n        if (isEdit) {\n            loadService();\n        }\n    }, [serviceId]);\n\n    const loadService = async () => {\n        try {\n            const services = companyId\n                ? await servicesDb.getByCompany(companyId)\n                : await servicesDb.getAll();\n            const service = services.find(s => s.id === serviceId);\n            if (service) {\n                setName(service.name);\n                setSelectedCompanyId(service.companyId);\n            }\n        } catch (err) {\n            showToast(t('common.error'), 'error');\n        }\n    };\n\n    const handleSave = async () => {\n        if (!name.trim()) {\n            setError(t('common.required'));\n            return;\n        }\n\n        try {\n            if (isEdit) {\n                await servicesDb.update(serviceId, name.trim(), selectedCompanyId);\n                showToast(t('common.success'), 'success');\n            } else {\n                await servicesDb.add(name.trim(), selectedCompanyId);\n                showToast(t('common.success'), 'success');\n            }\n\n            // Navigate back\n            if (Platform.OS === 'web') {\n                setActiveTab?.('Services', '', { companyId: selectedCompanyId });\n            } else {\n                navigation.goBack();\n            }\n        } catch (err) {\n            showToast(t('common.saveError'), 'error');\n        }\n    };\n\n    const handleCancel = () => {\n        if (Platform.OS === 'web') {\n            setActiveTab?.('Services');\n        } else {\n            navigation.goBack();\n        }\n    };\n\n    return (\n        <View style={styles.container}>\n            <View style={styles.card}>\n                <View style={styles.headerRow}>\n                    <TouchableOpacity onPress={handleCancel} style={styles.backButton}>\n                        <Text style={styles.backButtonText}>‹ {t('common.back')}</Text>\n                    </TouchableOpacity>\n                    <Text style={styles.title}>\n                        {isEdit ? t('common.edit') : t('services.add')}\n                    </Text>\n                </View>\n\n                <View style={styles.fieldContainer}>\n                    <Dropdown\n                        label={t('companies.select')}\n                        data={companyOptions}\n                        value={selectedCompanyId ? selectedCompanyId.toString() : 'global'}\n                        onSelect={(val) => setSelectedCompanyId(val === 'global' ? undefined : Number(val))}\n                    />\n                </View>\n\n                <View style={styles.fieldContainer}>\n                    <Text style={styles.label}>{t('common.service')} *</Text>\n                    <TextInput\n                        style={[styles.input, error && styles.inputError]}\n                        value={name}\n                        onChangeText={(text) => {\n                            setName(text);\n                            if (error) setError('');\n                        }}\n                        placeholder={t('services.namePlaceholder')}\n                        placeholderTextColor={theme.colors.subText}\n                    />\n                    {error && <Text style={styles.errorText}>{error}</Text>}\n                </View>\n\n                <View style={styles.actions}>\n                    <TouchableOpacity\n                        style={[styles.button, styles.cancelButton]}\n                        onPress={handleCancel}\n                    >\n                        <Text style={styles.cancelButtonText}>{t('common.cancel')}</Text>\n                    </TouchableOpacity>\n                    <TouchableOpacity\n                        style={[styles.button, styles.saveButton]}\n                        onPress={handleSave}\n                    >\n                        <Text style={styles.saveButtonText}>{t('common.save')}</Text>\n                    </TouchableOpacity>\n                </View>\n            </View>\n        </View>\n    );\n};\n\nconst createStyles = (theme: Theme) =>\n    StyleSheet.create({\n        container: {\n            backgroundColor: theme.colors.background,\n            padding: theme.spacing.m,\n        },\n        card: {\n            backgroundColor: theme.colors.surface,\n            borderRadius: theme.spacing.m,\n            padding: theme.spacing.l,\n            ...theme.shadows.medium,\n        },\n        title: {\n            ...theme.textVariants.header,\n            color: theme.colors.text,\n            fontSize: 24,\n        },\n        headerRow: {\n            flexDirection: 'row',\n            alignItems: 'center',\n            gap: theme.spacing.m,\n            marginBottom: theme.spacing.l,\n        },\n        backButton: {\n            padding: theme.spacing.s,\n        },\n        backButtonText: {\n            color: theme.colors.primary,\n            fontSize: 18,\n            fontWeight: '600',\n        },\n        fieldContainer: {\n            marginBottom: theme.spacing.l,\n        },\n        label: {\n            ...theme.textVariants.body,\n            color: theme.colors.text,\n            marginBottom: theme.spacing.xs,\n            fontWeight: '600',\n        },\n        input: {\n            backgroundColor: theme.colors.background,\n            borderRadius: theme.spacing.s,\n            padding: theme.spacing.m,\n            borderWidth: 1,\n            borderColor: theme.colors.border,\n            color: theme.colors.text,\n            fontSize: 16,\n        },\n        inputError: {\n            borderColor: theme.colors.error,\n        },\n        errorText: {\n            color: theme.colors.error,\n            fontSize: 12,\n            marginTop: theme.spacing.xs,\n        },\n        actions: {\n            flexDirection: 'row',\n            justifyContent: 'flex-end',\n            gap: theme.spacing.m,\n        },\n        button: {\n            paddingHorizontal: theme.spacing.l,\n            paddingVertical: theme.spacing.m,\n            borderRadius: theme.spacing.s,\n            minWidth: 100,\n            alignItems: 'center',\n        },\n        cancelButton: {\n            backgroundColor: theme.colors.border,\n        },\n        cancelButtonText: {\n            color: theme.colors.text,\n            fontWeight: '600',\n        },\n        saveButton: {\n            backgroundColor: theme.colors.primary,\n        },\n        saveButtonText: {\n            color: '#FFFFFF',\n            fontWeight: 'bold',\n        },\n    });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/services/ServiceListScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":19,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[672,675],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[672,675],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":25,"column":72,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":75,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[963,966],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[963,966],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'name' is defined but never used.","line":61,"column":37,"nodeType":null,"messageId":"unusedVar","endLine":61,"endColumn":41},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":83,"column":34,"nodeType":null,"messageId":"unusedVar","endLine":83,"endColumn":39}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useMemo } from 'react';\nimport {\n    View,\n    Text,\n    StyleSheet,\n    TouchableOpacity,\n    ScrollView,\n    Platform,\n} from 'react-native';\nimport { useTranslation } from 'react-i18next';\nimport { useModal } from '../../context/ModalContext';\nimport { useToast } from '../../context/ToastContext';\nimport { useTheme } from '../../context/ThemeContext';\nimport { servicesDb } from '../../database/servicesDb';\nimport { Service } from '../../database/schema';\nimport { Theme } from '../../theme';\nimport { WebNavigationContext } from '../../navigation/WebNavigationContext';\n\nexport const ServiceListScreen = ({ navigation, route }: any) => {\n    const { theme } = useTheme();\n    const { t } = useTranslation();\n    const { showModal } = useModal();\n    const { showToast } = useToast();\n    const styles = useMemo(() => createStyles(theme), [theme]);\n    const { setActiveTab } = React.useContext(WebNavigationContext) as any;\n\n    const companyId = route?.params?.companyId;\n\n    const [services, setServices] = useState<Service[]>([]);\n\n    useEffect(() => {\n        loadServices();\n    }, [companyId]);\n\n    const loadServices = async () => {\n        if (companyId) {\n            const all = await servicesDb.getByCompany(companyId);\n            setServices(all);\n        } else {\n            const all = await servicesDb.getAll();\n            setServices(all);\n        }\n    };\n\n    const handleBack = () => {\n        if (Platform.OS === 'web') {\n            setActiveTab?.('Settings', 'CompanySettings');\n        } else {\n            navigation.goBack();\n        }\n    };\n\n    const handleAdd = () => {\n        if (Platform.OS === 'web') {\n            setActiveTab?.('Services', 'AddService', { companyId });\n        } else {\n            navigation.navigate('AddService', { companyId });\n        }\n    };\n\n    const handleEdit = (id: number, name: string) => {\n        if (Platform.OS === 'web') {\n            setActiveTab?.('Services', 'AddService', { serviceId: id, companyId });\n        } else {\n            navigation.navigate('AddService', { serviceId: id, companyId });\n        }\n    };\n\n    const handleDelete = (id: number) => {\n        showModal({\n            title: t('common.confirm'),\n            message: t('common.confirmDelete'),\n            buttons: [\n                { text: t('common.cancel'), style: 'cancel' },\n                {\n                    text: t('common.delete'),\n                    style: 'destructive',\n                    onPress: async () => {\n                        try {\n                            await servicesDb.delete(id);\n                            loadServices();\n                            showToast(t('common.success'), 'success');\n                        } catch (error) {\n                            showToast(t('common.error'), 'error');\n                        }\n                    }\n                },\n            ]\n        });\n    };\n\n    return (\n        <View style={styles.container}>\n            <View style={styles.header}>\n                <View style={styles.headerLeft}>\n                    <TouchableOpacity onPress={handleBack} style={styles.backButton}>\n                        <Text style={styles.backButtonText}>‹ {t('common.back')}</Text>\n                    </TouchableOpacity>\n                    <Text style={styles.title}>{t('services.title')}</Text>\n                </View>\n                <TouchableOpacity style={styles.addButton} onPress={handleAdd}>\n                    <Text style={styles.addButtonText}>+ {t('common.add')}</Text>\n                </TouchableOpacity>\n            </View>\n\n            <ScrollView style={styles.list}>\n                {services.length === 0 ? (\n                    <View style={styles.emptyContainer}>\n                        <Text style={styles.emptyText}>{t('services.empty')}</Text>\n                    </View>\n                ) : (\n                    services.map(service => (\n                        <View key={service.id} style={styles.item}>\n                            <View style={styles.row}>\n                                <Text style={styles.name}>{service.name}</Text>\n                                <View style={styles.actions}>\n                                    <TouchableOpacity onPress={() => handleEdit(service.id, service.name)}>\n                                        <Text style={styles.editText}>{t('common.edit')}</Text>\n                                    </TouchableOpacity>\n                                    <TouchableOpacity onPress={() => handleDelete(service.id)}>\n                                        <Text style={styles.deleteText}>{t('common.delete')}</Text>\n                                    </TouchableOpacity>\n                                </View>\n                            </View>\n                        </View>\n                    ))\n                )}\n            </ScrollView>\n        </View>\n    );\n};\n\nconst createStyles = (theme: Theme) =>\n    StyleSheet.create({\n        container: {\n            backgroundColor: theme.colors.background,\n            padding: theme.spacing.m\n        },\n        header: {\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: theme.spacing.l,\n        },\n        title: {\n            ...theme.textVariants.header,\n            color: theme.colors.text,\n            fontSize: 24,\n        },\n        headerLeft: {\n            flexDirection: 'row',\n            alignItems: 'center',\n            gap: theme.spacing.m,\n        },\n        backButton: {\n            padding: theme.spacing.s,\n        },\n        backButtonText: {\n            color: theme.colors.primary,\n            fontSize: 18,\n            fontWeight: '600',\n        },\n        addButton: {\n            backgroundColor: theme.colors.primary,\n            borderRadius: theme.spacing.s,\n            paddingHorizontal: theme.spacing.l,\n            paddingVertical: theme.spacing.s,\n        },\n        addButtonText: {\n            color: '#FFF',\n            fontWeight: 'bold',\n            fontSize: 16,\n        },\n        list: { flex: 1 },\n        emptyContainer: {\n            alignItems: 'center',\n            justifyContent: 'center',\n            padding: theme.spacing.xl,\n        },\n        emptyText: {\n            ...theme.textVariants.body,\n            color: theme.colors.subText,\n        },\n        item: {\n            backgroundColor: theme.colors.surface,\n            borderRadius: theme.spacing.s,\n            padding: theme.spacing.m,\n            marginBottom: theme.spacing.s,\n            ...theme.shadows.small,\n        },\n        row: {\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            alignItems: 'center'\n        },\n        name: {\n            fontSize: 16,\n            color: theme.colors.text,\n            flex: 1,\n        },\n        actions: {\n            flexDirection: 'row',\n            gap: 16\n        },\n        editText: {\n            color: theme.colors.primary,\n            fontSize: 14,\n            fontWeight: '600',\n        },\n        deleteText: {\n            color: theme.colors.error,\n            fontSize: 14,\n            fontWeight: '600',\n        },\n    });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/settings/CompanySettingsScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":21,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[771,774],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[771,774],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":27,"column":72,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":75,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1056,1059],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1056,1059],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":68,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":68,"endColumn":23}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useMemo } from 'react';\nimport {\n    View,\n    Text,\n    StyleSheet,\n    TextInput,\n    TouchableOpacity,\n    ScrollView,\n    Platform,\n} from 'react-native';\nimport { useTranslation } from 'react-i18next';\nimport { useToast } from '../../context/ToastContext';\nimport { useTheme } from '../../context/ThemeContext';\nimport { useAuth } from '../../context/AuthContext';\nimport { companySettingsDb } from '../../database/companySettingsDb';\nimport { companiesDb } from '../../database/companiesDb';\nimport { Company, CompanySettings } from '../../database/schema';\nimport { Theme } from '../../theme';\nimport { WebNavigationContext } from '../../navigation/WebNavigationContext';\n\nexport const CompanySettingsScreen = ({ navigation }: any) => {\n    const { theme } = useTheme();\n    const { t } = useTranslation();\n    const { showToast } = useToast();\n    const { user } = useAuth();\n    const styles = useMemo(() => createStyles(theme), [theme]);\n    const { setActiveTab } = React.useContext(WebNavigationContext) as any;\n\n    const [companies, setCompanies] = useState<Company[]>([]);\n    const [selectedCompanyId, setSelectedCompanyId] = useState<number | null>(null);\n    const [settings, setSettings] = useState<CompanySettings | null>(null);\n    const [maxHours, setMaxHours] = useState('');\n\n    useEffect(() => {\n        loadCompanies();\n    }, []);\n\n    useEffect(() => {\n        if (selectedCompanyId) {\n            loadSettings(selectedCompanyId);\n        }\n    }, [selectedCompanyId]);\n\n    const loadCompanies = async () => {\n        const all = await companiesDb.getAll();\n        setCompanies(all);\n        if (all.length > 0) {\n            const initialId = user?.companyId || all[0].id;\n            setSelectedCompanyId(initialId);\n        }\n    };\n\n    const loadSettings = async (companyId: number) => {\n        const s = await companySettingsDb.getSettingsByCompany(companyId);\n        setSettings(s);\n        setMaxHours(s.maxPermissionHours.toString());\n    };\n\n    const handleSave = async () => {\n        if (!settings || !selectedCompanyId) return;\n\n        try {\n            await companySettingsDb.saveSettings({\n                ...settings,\n                maxPermissionHours: parseInt(maxHours) || 2,\n            });\n            showToast(t('common.success'), 'success');\n        } catch (error) {\n            showToast(t('common.error'), 'error');\n        }\n    };\n\n    const navigateTo = (screen: string) => {\n        if (Platform.OS === 'web') {\n            // For web, handle as subScreen under CompanySettings\n            setActiveTab?.('CompanySettings', screen);\n        } else {\n            navigation.navigate(screen);\n        }\n    };\n\n    return (\n        <ScrollView style={styles.container}>\n            <View style={styles.section}>\n                <Text style={styles.sectionTitle}>{t('companies.select') || 'Select Company'}</Text>\n                <View style={styles.card}>\n                    <ScrollView horizontal showsHorizontalScrollIndicator={false} contentContainerStyle={styles.companySelectors}>\n                        {companies.map(c => (\n                            <TouchableOpacity\n                                key={c.id}\n                                style={[\n                                    styles.companyButton,\n                                    selectedCompanyId === c.id && styles.selectedCompanyButton\n                                ]}\n                                onPress={() => setSelectedCompanyId(c.id)}\n                            >\n                                <Text style={[\n                                    styles.companyButtonText,\n                                    selectedCompanyId === c.id && styles.selectedCompanyButtonText\n                                ]}>{c.name}</Text>\n                            </TouchableOpacity>\n                        ))}\n                    </ScrollView>\n                </View>\n            </View>\n\n            {selectedCompanyId && (\n                <>\n                    <View style={styles.section}>\n                        <Text style={styles.sectionTitle}>{t('settings.params') || 'Parameters'}</Text>\n                        <View style={styles.card}>\n                            <View style={styles.inputRow}>\n                                <Text style={styles.label}>{t('permissions.maxHours')}</Text>\n                                <TextInput\n                                    style={styles.input}\n                                    value={maxHours}\n                                    onChangeText={setMaxHours}\n                                    keyboardType=\"numeric\"\n                                    placeholder=\"2\"\n                                    placeholderTextColor={theme.colors.subText}\n                                />\n                            </View>\n                            <TouchableOpacity style={styles.saveButton} onPress={handleSave}>\n                                <Text style={styles.saveButtonText}>{t('common.save')}</Text>\n                            </TouchableOpacity>\n                        </View>\n                    </View>\n\n                    <View style={styles.section}>\n                        <Text style={styles.sectionTitle}>{t('settings.management') || 'Management'}</Text>\n                        <View style={styles.card}>\n                            <TouchableOpacity\n                                style={[styles.menuRow, styles.borderBottom]}\n                                onPress={() => navigateTo('Departments')}\n                            >\n                                <Text style={styles.menuText}>🏛️ {t('navigation.departments')}</Text>\n                                <Text style={styles.arrow}>›</Text>\n                            </TouchableOpacity>\n                            <TouchableOpacity\n                                style={[styles.menuRow, styles.borderBottom]}\n                                onPress={() => navigateTo('Services')}\n                            >\n                                <Text style={styles.menuText}>⚙️ {t('navigation.services')}</Text>\n                                <Text style={styles.arrow}>›</Text>\n                            </TouchableOpacity>\n                            <TouchableOpacity\n                                style={[styles.menuRow, styles.borderBottom]}\n                                onPress={() => navigateTo('ManageCurrencies')}\n                            >\n                                <Text style={styles.menuText}>💰 {t('payroll.manageCurrencies')}</Text>\n                                <Text style={styles.arrow}>›</Text>\n                            </TouchableOpacity>\n                            <TouchableOpacity\n                                style={styles.menuRow}\n                                onPress={() => navigateTo('ManageDevices')}\n                            >\n                                <Text style={styles.menuText}>📱 {t('navigation.manageDevices')}</Text>\n                                <Text style={styles.arrow}>›</Text>\n                            </TouchableOpacity>\n                        </View>\n                    </View>\n                </>\n            )}\n        </ScrollView>\n    );\n};\n\nconst createStyles = (theme: Theme) =>\n    StyleSheet.create({\n        container: {\n            flex: 1,\n            backgroundColor: theme.colors.background,\n        },\n        section: {\n            padding: theme.spacing.m,\n        },\n        sectionTitle: {\n            ...theme.textVariants.body,\n            fontWeight: 'bold',\n            color: theme.colors.subText,\n            marginBottom: theme.spacing.s,\n            marginLeft: theme.spacing.xs,\n            textTransform: 'uppercase',\n            fontSize: 12,\n        },\n        card: {\n            backgroundColor: theme.colors.surface,\n            borderRadius: theme.spacing.m,\n            padding: theme.spacing.l,\n            ...theme.shadows.small,\n        },\n        companySelectors: {\n            flexDirection: 'row',\n            gap: theme.spacing.s,\n        },\n        companyButton: {\n            paddingHorizontal: theme.spacing.l,\n            paddingVertical: theme.spacing.s,\n            borderRadius: theme.spacing.xl,\n            backgroundColor: theme.colors.background,\n            borderWidth: 1,\n            borderColor: theme.colors.border,\n        },\n        selectedCompanyButton: {\n            backgroundColor: theme.colors.primary,\n            borderColor: theme.colors.primary,\n        },\n        companyButtonText: {\n            color: theme.colors.text,\n            fontWeight: '600',\n        },\n        selectedCompanyButtonText: {\n            color: '#FFFFFF',\n        },\n        inputRow: {\n            marginBottom: theme.spacing.l,\n        },\n        label: {\n            ...theme.textVariants.body,\n            color: theme.colors.text,\n            marginBottom: theme.spacing.s,\n            fontWeight: '600',\n        },\n        input: {\n            backgroundColor: theme.colors.background,\n            borderRadius: theme.spacing.s,\n            padding: theme.spacing.m,\n            borderWidth: 1,\n            borderColor: theme.colors.border,\n            color: theme.colors.text,\n            fontSize: 16,\n        },\n        saveButton: {\n            backgroundColor: theme.colors.primary,\n            borderRadius: theme.spacing.s,\n            padding: theme.spacing.m,\n            alignItems: 'center',\n        },\n        saveButtonText: {\n            color: '#FFFFFF',\n            fontWeight: 'bold',\n            fontSize: 16,\n        },\n        menuRow: {\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            paddingVertical: theme.spacing.m,\n        },\n        menuText: {\n            ...theme.textVariants.body,\n            color: theme.colors.text,\n            fontSize: 16,\n        },\n        borderBottom: {\n            borderBottomWidth: 1,\n            borderBottomColor: theme.colors.border,\n            paddingBottom: theme.spacing.m,\n            marginBottom: theme.spacing.m,\n        },\n        arrow: {\n            color: theme.colors.subText,\n            fontSize: 20,\n        },\n    });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/settings/CustomThemeColorsScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'TouchableOpacity' is defined but never used.","line":6,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":21},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":28,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":28,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[912,915],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[912,915],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useMemo } from 'react';\nimport {\n    View,\n    Text,\n    StyleSheet,\n    TouchableOpacity,\n    ScrollView,\n} from 'react-native';\nimport { useTranslation } from 'react-i18next';\nimport { useTheme } from '../../context/ThemeContext';\nimport { Theme } from '../../theme';\nimport { Dropdown } from '../../components/Dropdown';\n\nconst COLOR_PALETTE = [\n    { label: 'Deep Blue', value: '#0052CC' },\n    { label: 'Royal Blue', value: '#172B4D' },\n    { label: 'Teal', value: '#00A3BF' },\n    { label: 'Emerald', value: '#36B37E' },\n    { label: 'Purple', value: '#6554C0' },\n    { label: 'Rose', value: '#FF5630' },\n    { label: 'Amber', value: '#FFAB00' },\n    { label: 'Slate', value: '#1D1D1F' },\n    { label: 'Black', value: '#121212' },\n    { label: 'White', value: '#FFFFFF' },\n];\n\nexport const CustomThemeColorsScreen = () => {\n    const { theme, customColors, setCustomColor } = useTheme() as any;\n    const { t } = useTranslation();\n    const styles = useMemo(() => createStyles(theme), [theme]);\n\n    const colorFields = [\n        { key: 'primary', label: t('settings.primaryColor') || 'Primary Color' },\n        { key: 'secondary', label: t('settings.secondaryColor') || 'Secondary Color' },\n        { key: 'background', label: t('settings.backgroundColor') || 'Background Color' },\n        { key: 'surface', label: t('settings.surfaceColor') || 'Surface Color' },\n    ];\n\n    return (\n        <ScrollView style={styles.container}>\n            <View style={styles.section}>\n                <Text style={styles.sectionTitle}>{t('settings.customizeColors') || 'Customize Colors'}</Text>\n                <View style={styles.card}>\n                    {colorFields.map((field, index) => (\n                        <View key={field.key} style={[styles.colorPickerRow, index !== colorFields.length - 1 && styles.borderBottom]}>\n                            <Dropdown\n                                label={field.label}\n                                data={COLOR_PALETTE}\n                                value={customColors[field.key]}\n                                onSelect={(val) => setCustomColor(field.key, val)}\n                            />\n                            <View style={[styles.colorPreview, { backgroundColor: customColors[field.key] }]} />\n                        </View>\n                    ))}\n                </View>\n            </View>\n        </ScrollView>\n    );\n};\n\nconst createStyles = (theme: Theme) =>\n    StyleSheet.create({\n        container: {\n            flex: 1,\n            backgroundColor: theme.colors.background,\n        },\n        section: {\n            padding: theme.spacing.m,\n        },\n        sectionTitle: {\n            ...theme.textVariants.body,\n            fontWeight: 'bold',\n            color: theme.colors.subText,\n            marginBottom: theme.spacing.s,\n            textTransform: 'uppercase',\n            fontSize: 12,\n        },\n        card: {\n            backgroundColor: theme.colors.surface,\n            borderRadius: theme.spacing.m,\n            overflow: 'hidden',\n            ...theme.shadows.small,\n        },\n        colorPickerRow: {\n            padding: theme.spacing.m,\n        },\n        borderBottom: {\n            borderBottomWidth: 1,\n            borderBottomColor: theme.colors.border,\n        },\n        colorPreview: {\n            width: '100%',\n            height: 8,\n            borderRadius: 4,\n            marginTop: theme.spacing.s,\n        },\n    });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/settings/LanguageSelectionScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":28,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":28,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[966,969],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[966,969],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":31,"column":72,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":31,"endColumn":75,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1123,1126],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1123,1126],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":55,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":55,"endColumn":23}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useMemo } from 'react';\nimport {\n    View,\n    Text,\n    StyleSheet,\n    TouchableOpacity,\n    ScrollView,\n    Platform,\n    I18nManager,\n} from 'react-native';\nimport { useTranslation } from 'react-i18next';\nimport { useTheme } from '../../context/ThemeContext';\nimport { storageService } from '../../services/storage';\nimport { notificationService } from '../../services/notificationService';\nimport { Theme } from '../../theme';\nimport { WebNavigationContext } from '../../navigation/WebNavigationContext';\n\nconst LANGUAGES = [\n    { code: 'en', label: 'English', flag: '🇬🇧' },\n    { code: 'fr', label: 'Français', flag: '🇫🇷' },\n    { code: 'ar', label: 'العربية', flag: '🇹🇳' },\n    { code: 'de', label: 'Deutsch', flag: '🇩🇪' },\n    { code: 'es', label: 'Español', flag: '🇪🇸' },\n    { code: 'zh', label: '中文', flag: '🇨🇳' },\n    { code: 'hi', label: 'हिन्दी', flag: '🇮🇳' },\n];\n\nexport const LanguageSelectionScreen = ({ navigation }: any) => {\n    const { theme } = useTheme();\n    const { t, i18n } = useTranslation();\n    const { setActiveTab } = React.useContext(WebNavigationContext) as any;\n    const styles = useMemo(() => createStyles(theme), [theme]);\n\n    const handleLanguageChange = async (langCode: string) => {\n        try {\n            await i18n.changeLanguage(langCode);\n            storageService.setString('user-language', langCode);\n\n            const shouldBeRTL = langCode === 'ar';\n            if (I18nManager.isRTL !== shouldBeRTL) {\n                I18nManager.forceRTL(shouldBeRTL);\n                if (Platform.OS !== 'web') {\n                    notificationService.showAlert(\n                        t('profile.restartRequired'),\n                        t('profile.restartRequiredMessage')\n                    );\n                }\n            }\n\n            if (Platform.OS === 'web') {\n                setActiveTab?.('Home');\n            } else {\n                navigation.goBack();\n            }\n        } catch (error) {\n            notificationService.showAlert(t('common.error'), t('profile.languageChangeError'));\n        }\n    };\n\n    return (\n        <ScrollView style={styles.container}>\n            <View style={styles.section}>\n                <Text style={styles.sectionTitle}>{t('profile.language')}</Text>\n                <View style={styles.card}>\n                    {LANGUAGES.map((lang, index) => (\n                        <TouchableOpacity\n                            key={lang.code}\n                            style={[\n                                styles.row,\n                                index !== LANGUAGES.length - 1 && styles.borderBottom,\n                                i18n.language === lang.code && styles.selectedRow\n                            ]}\n                            onPress={() => handleLanguageChange(lang.code)}\n                        >\n                            <View style={styles.langInfo}>\n                                <Text style={styles.flag}>{lang.flag}</Text>\n                                <Text style={styles.rowText}>{lang.label}</Text>\n                            </View>\n                            {i18n.language === lang.code && (\n                                <Text style={styles.checkIcon}>✓</Text>\n                            )}\n                        </TouchableOpacity>\n                    ))}\n                </View>\n            </View>\n        </ScrollView>\n    );\n};\n\nconst createStyles = (theme: Theme) =>\n    StyleSheet.create({\n        container: {\n            flex: 1,\n            backgroundColor: theme.colors.background,\n        },\n        section: {\n            padding: theme.spacing.m,\n        },\n        sectionTitle: {\n            ...theme.textVariants.body,\n            fontWeight: 'bold',\n            color: theme.colors.subText,\n            marginBottom: theme.spacing.s,\n            marginLeft: theme.spacing.xs,\n            textTransform: 'uppercase',\n            fontSize: 12,\n        },\n        card: {\n            backgroundColor: theme.colors.surface,\n            borderRadius: theme.spacing.m,\n            overflow: 'hidden',\n            ...theme.shadows.small,\n        },\n        row: {\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            padding: theme.spacing.l,\n        },\n        langInfo: {\n            flexDirection: 'row',\n            alignItems: 'center',\n        },\n        flag: {\n            fontSize: 24,\n            marginRight: theme.spacing.m,\n        },\n        rowText: {\n            ...theme.textVariants.body,\n            color: theme.colors.text,\n            fontSize: 16,\n        },\n        borderBottom: {\n            borderBottomWidth: 1,\n            borderBottomColor: theme.colors.border,\n        },\n        selectedRow: {\n            backgroundColor: `${theme.colors.primary}10`,\n        },\n        checkIcon: {\n            color: theme.colors.primary,\n            fontWeight: 'bold',\n            fontSize: 18,\n        },\n    });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/settings/ManageDevicesScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":253,"column":97,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":253,"endColumn":100,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10721,10724],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10721,10724],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useMemo } from 'react';\nimport {\n    View,\n    Text,\n    StyleSheet,\n    FlatList,\n    TouchableOpacity,\n    Modal,\n    TextInput,\n} from 'react-native';\nimport { useTranslation } from 'react-i18next';\nimport { useTheme } from '../../context/ThemeContext';\nimport { useModal } from '../../context/ModalContext';\nimport { Theme } from '../../theme';\nimport { SearchInput } from '../../components/SearchInput';\nimport { Dropdown } from '../../components/Dropdown';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { selectAllDevices, addDevice, updateDevice, deleteDevice } from '../../store/slices/devicesSlice';\nimport { selectAllEmployees } from '../../store/slices/employeesSlice';\nimport { selectAllDeviceTypes, addDeviceType, deleteDeviceType } from '../../store/slices/deviceTypesSlice';\nimport { Device } from '../../database/schema';\n\nexport const ManageDevicesScreen = () => {\n    const { theme } = useTheme();\n    const { showModal } = useModal();\n    const { t } = useTranslation();\n    const dispatch = useDispatch();\n    const styles = useMemo(() => createStyles(theme), [theme]);\n\n    const [searchQuery, setSearchQuery] = useState('');\n    const [isModalVisible, setIsModalVisible] = useState(false);\n\n    const initialFormState = {\n        id: undefined as number | undefined,\n        name: '',\n        type: '',\n        serialNumber: '',\n        status: 'available' as Device['status'],\n        condition: 'working' as Device['condition'],\n        assignedToId: undefined as number | undefined,\n        assignedTo: undefined as string | undefined,\n    };\n\n    const [deviceForm, setDeviceForm] = useState(initialFormState);\n\n    const devices = useSelector(selectAllDevices);\n    const employees = useSelector(selectAllEmployees);\n    const deviceTypes = useSelector(selectAllDeviceTypes);\n\n    const [newType, setNewType] = useState('');\n    const [isTypeModalVisible, setIsTypeModalVisible] = useState(false);\n\n    const filteredDevices = useMemo(() => {\n        return devices.filter((d: Device) =>\n            d.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n            d.serialNumber.toLowerCase().includes(searchQuery.toLowerCase()) ||\n            (d.assignedTo && d.assignedTo.toLowerCase().includes(searchQuery.toLowerCase()))\n        );\n    }, [searchQuery, devices]);\n\n    const handleSaveDevice = () => {\n        if (!deviceForm.name || !deviceForm.serialNumber || !deviceForm.type) {\n            showModal({ title: t('common.error'), message: t('common.fillRequired') });\n            return;\n        }\n\n        const deviceData: Device = {\n            id: deviceForm.id || Date.now(),\n            name: deviceForm.name,\n            type: deviceForm.type,\n            serialNumber: deviceForm.serialNumber,\n            status: deviceForm.status,\n            condition: deviceForm.condition,\n            assignedToId: deviceForm.assignedToId,\n            assignedTo: deviceForm.assignedTo,\n            createdAt: new Date().toISOString(),\n            updatedAt: new Date().toISOString()\n        };\n\n        if (deviceForm.id) {\n            dispatch(updateDevice(deviceData));\n        } else {\n            dispatch(addDevice(deviceData));\n        }\n\n        setIsModalVisible(false);\n        setDeviceForm(initialFormState);\n    };\n\n    const handleEditDevice = (device: Device) => {\n        setDeviceForm({\n            id: device.id,\n            name: device.name,\n            type: device.type,\n            serialNumber: device.serialNumber,\n            status: device.status,\n            condition: device.condition,\n            assignedToId: device.assignedToId,\n            assignedTo: device.assignedTo,\n        });\n        setIsModalVisible(true);\n    };\n\n    const handleDeleteDevice = (id: number) => {\n        showModal({\n            title: t('common.deleteTitle'),\n            message: t('common.deleteMessage'),\n            buttons: [\n                { text: t('common.cancel'), style: 'cancel' },\n                {\n                    text: t('common.delete'),\n                    style: 'destructive',\n                    onPress: () => dispatch(deleteDevice(id))\n                }\n            ]\n        });\n    };\n\n    const getStatusColor = (status: Device['status']) => {\n        switch (status) {\n            case 'available': return theme.colors.success;\n            case 'assigned': return theme.colors.primary;\n            case 'maintenance': return theme.colors.warning;\n            default: return theme.colors.subText;\n        }\n    };\n\n    const renderDevice = ({ item }: { item: Device }) => (\n        <View style={styles.card}>\n            <View style={styles.cardHeader}>\n                <View style={{ flex: 1 }}>\n                    <Text style={styles.deviceName}>{item.name}</Text>\n                    <Text style={styles.deviceType}>{item.type} • {item.serialNumber}</Text>\n                </View>\n                <View style={styles.actionsContainer}>\n                    <TouchableOpacity\n                        style={styles.actionButton}\n                        onPress={() => handleEditDevice(item)}\n                    >\n                        <Text style={[styles.actionIcon, { color: theme.colors.primary }]}>✎</Text>\n                    </TouchableOpacity>\n                    <TouchableOpacity\n                        style={styles.actionButton}\n                        onPress={() => item.id && handleDeleteDevice(item.id)}\n                    >\n                        <Text style={[styles.actionIcon, { color: theme.colors.error }]}>🗑</Text>\n                    </TouchableOpacity>\n                </View>\n            </View>\n\n            <View style={styles.cardFooter}>\n                <View style={[styles.statusBadge, { backgroundColor: getStatusColor(item.status) + '15' }]}>\n                    <Text style={[styles.statusText, { color: getStatusColor(item.status) }]}>\n                        {t(`common.${item.status}`) || item.status}\n                    </Text>\n                </View>\n                <View style={[styles.conditionBadge, { backgroundColor: item.condition === 'faulty' ? theme.colors.error + '15' : theme.colors.success + '15' }]}>\n                    <Text style={[styles.statusText, { color: item.condition === 'faulty' ? theme.colors.error : theme.colors.success }]}>\n                        {item.condition === 'faulty' ? `🚨 ${t('devices.faulty')}` : `✅ ${t('devices.working')}`}\n                    </Text>\n                </View>\n            </View>\n\n            {item.assignedTo && (\n                <View style={styles.assignmentInfo}>\n                    <Text style={styles.assignedToLabel}>{t('employees.assigned')}:</Text>\n                    <Text style={styles.assignedToValue}>{item.assignedTo}</Text>\n                </View>\n            )}\n        </View>\n    );\n\n    return (\n        <View style={styles.container}>\n            <View style={styles.header}>\n                <SearchInput\n                    value={searchQuery}\n                    onChangeText={setSearchQuery}\n                    placeholder={t('common.searchPlaceholder')}\n                />\n            </View>\n\n            <FlatList\n                data={filteredDevices}\n                renderItem={renderDevice}\n                keyExtractor={item => String(item.id)}\n                contentContainerStyle={styles.listContent}\n                ListEmptyComponent={\n                    <View style={styles.emptyContainer}>\n                        <Text style={styles.emptyText}>{t('common.noData')}</Text>\n                    </View>\n                }\n            />\n\n            <Modal\n                visible={isModalVisible}\n                animationType=\"slide\"\n                transparent={true}\n                onRequestClose={() => {\n                    setIsModalVisible(false);\n                    setDeviceForm(initialFormState);\n                }}\n            >\n                <View style={styles.modalOverlay}>\n                    <View style={[styles.modalContent, { backgroundColor: theme.colors.surface }]}>\n                        <Text style={[styles.modalTitle, { color: theme.colors.text }]}>\n                            {deviceForm.id ? t('common.edit') : t('common.add')} {t('navigation.manageDevices')}\n                        </Text>\n\n                        <TextInput\n                            style={[styles.modalInput, { color: theme.colors.text, borderColor: theme.colors.border }]}\n                            placeholder={t('devices.deviceName')}\n                            placeholderTextColor={theme.colors.subText}\n                            value={deviceForm.name}\n                            onChangeText={(text) => setDeviceForm({ ...deviceForm, name: text })}\n                        />\n\n                        <Dropdown\n                            label={t('devices.assigned')}\n                            data={[\n                                { label: t('devices.unassigned'), value: '' },\n                                ...employees.map(e => ({ label: e.name, value: String(e.id) }))\n                            ]}\n                            value={deviceForm.assignedToId ? String(deviceForm.assignedToId) : ''}\n                            onSelect={(val) => {\n                                const emp = employees.find(e => String(e.id) === val);\n                                if (emp) {\n                                    setDeviceForm({\n                                        ...deviceForm,\n                                        status: 'assigned',\n                                        assignedToId: emp.id,\n                                        assignedTo: emp.name\n                                    });\n                                } else {\n                                    setDeviceForm({\n                                        ...deviceForm,\n                                        status: 'available',\n                                        assignedToId: undefined,\n                                        assignedTo: undefined\n                                    });\n                                }\n                            }}\n                            placeholder={t('devices.assignTo')}\n                        />\n\n                        <Dropdown\n                            label={t('devices.condition')}\n                            data={[\n                                { label: t('devices.working'), value: 'working' },\n                                { label: t('devices.faulty'), value: 'faulty' },\n                            ]}\n                            value={deviceForm.condition}\n                            onSelect={(val) => setDeviceForm({ ...deviceForm, condition: val as any })}\n                        />\n\n                        <View style={{ marginBottom: theme.spacing.m }}>\n                            <Dropdown\n                                label={t('devices.type')}\n                                data={deviceTypes.map(t => ({ label: t, value: t }))}\n                                value={deviceForm.type}\n                                onSelect={(val) => setDeviceForm({ ...deviceForm, type: val })}\n                                placeholder={t('devices.type')}\n                            />\n\n                            <TouchableOpacity\n                                style={styles.addTypeButton}\n                                onPress={() => setIsTypeModalVisible(true)}\n                            >\n                                <Text style={styles.addTypeButtonText}>+ {t('devices.addType')}</Text>\n                            </TouchableOpacity>\n                        </View>\n\n                        <TextInput\n                            style={[styles.modalInput, { color: theme.colors.text, borderColor: theme.colors.border }]}\n                            placeholder={t('devices.serialNumber')}\n                            placeholderTextColor={theme.colors.subText}\n                            value={deviceForm.serialNumber}\n                            onChangeText={(text) => setDeviceForm({ ...deviceForm, serialNumber: text })}\n                        />\n\n                        <View style={styles.modalButtons}>\n                            <TouchableOpacity\n                                style={[styles.modalButton, { backgroundColor: theme.colors.border }]}\n                                onPress={() => {\n                                    setIsModalVisible(false);\n                                    setDeviceForm(initialFormState);\n                                }}\n                            >\n                                <Text style={{ color: theme.colors.text }}>{t('common.cancel')}</Text>\n                            </TouchableOpacity>\n                            <TouchableOpacity\n                                style={[styles.modalButton, { backgroundColor: theme.colors.primary }]}\n                                onPress={handleSaveDevice}\n                            >\n                                <Text style={{ color: theme.colors.surface }}>{deviceForm.id ? t('common.save') : t('common.add')}</Text>\n                            </TouchableOpacity>\n                        </View>\n                    </View>\n                </View>\n            </Modal>\n\n            <Modal\n                visible={isTypeModalVisible}\n                animationType=\"fade\"\n                transparent={true}\n                onRequestClose={() => setIsTypeModalVisible(false)}\n            >\n                <View style={styles.modalOverlay}>\n                    <View style={[styles.modalContent, { backgroundColor: theme.colors.surface }]}>\n                        <Text style={[styles.modalTitle, { color: theme.colors.text }]}>{t('devices.manageTypes')}</Text>\n                        <TextInput\n                            style={[styles.modalInput, { color: theme.colors.text, borderColor: theme.colors.border }]}\n                            placeholder={t('devices.typePlaceholder')}\n                            value={newType}\n                            onChangeText={setNewType}\n                        />\n                        <View style={styles.modalButtons}>\n                            <TouchableOpacity style={[styles.modalButton, { backgroundColor: theme.colors.border }]} onPress={() => setIsTypeModalVisible(false)}>\n                                <Text style={{ color: theme.colors.text }}>{t('common.cancel')}</Text>\n                            </TouchableOpacity>\n                            <TouchableOpacity\n                                style={[styles.modalButton, { backgroundColor: theme.colors.primary }]}\n                                onPress={() => {\n                                    if (newType.trim()) {\n                                        dispatch(addDeviceType(newType.trim()));\n                                        setDeviceForm({ ...deviceForm, type: newType.trim() });\n                                        setNewType('');\n                                        setIsTypeModalVisible(false);\n                                    }\n                                }}\n                            >\n                                <Text style={{ color: theme.colors.surface }}>{t('common.add')}</Text>\n                            </TouchableOpacity>\n                        </View>\n\n                        <View style={styles.typeList}>\n                            <Text style={[styles.label, { marginTop: 20 }]}>{t('devices.existingTypes')}</Text>\n                            <View style={styles.typeTags}>\n                                {deviceTypes.map(type => (\n                                    <TouchableOpacity\n                                        key={type}\n                                        style={styles.typeTag}\n                                        onLongPress={() => {\n                                            if (['Laptop', 'Mouse', 'Keyboard', 'Screen', 'Other'].includes(type)) {\n                                                showModal({ title: t('common.error'), message: t('devices.builtInTypeWarning') });\n                                                return;\n                                            }\n                                            showModal({\n                                                title: t('common.deleteTitle'),\n                                                message: `${t('common.delete')} \"${type}\"?`,\n                                                buttons: [\n                                                    { text: t('common.cancel'), style: \"cancel\" },\n                                                    { text: t('common.delete'), style: \"destructive\", onPress: () => dispatch(deleteDeviceType(type)) }\n                                                ]\n                                            });\n                                        }}\n                                    >\n                                        <Text style={styles.typeTagText}>{type}</Text>\n                                    </TouchableOpacity>\n                                ))}\n                            </View>\n                        </View>\n                    </View>\n                </View>\n            </Modal>\n\n            <TouchableOpacity\n                style={styles.fab}\n                onPress={() => {\n                    setDeviceForm(initialFormState);\n                    setIsModalVisible(true);\n                }}\n                activeOpacity={0.8}\n            >\n                <Text style={styles.fabText}>+</Text>\n            </TouchableOpacity>\n        </View>\n    );\n};\n\nconst createStyles = (theme: Theme) =>\n    StyleSheet.create({\n        container: {\n            flex: 1,\n            backgroundColor: theme.colors.background,\n        },\n        header: {\n            backgroundColor: theme.colors.surface,\n            padding: theme.spacing.m,\n            borderBottomWidth: 1,\n            borderBottomColor: theme.colors.border,\n        },\n        listContent: {\n            padding: theme.spacing.m,\n            paddingBottom: 80,\n        },\n        card: {\n            backgroundColor: theme.colors.surface,\n            borderRadius: theme.spacing.m,\n            padding: theme.spacing.m,\n            marginBottom: theme.spacing.m,\n            ...theme.shadows.small,\n        },\n        cardHeader: {\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            alignItems: 'flex-start',\n        },\n        actionsContainer: {\n            flexDirection: 'row',\n            alignItems: 'center',\n        },\n        actionButton: {\n            padding: 8,\n            marginLeft: 8,\n        },\n        actionIcon: {\n            fontSize: 20,\n        },\n        deviceName: {\n            ...theme.textVariants.subheader,\n            color: theme.colors.text,\n            fontSize: 16,\n        },\n        deviceType: {\n            ...theme.textVariants.caption,\n            color: theme.colors.subText,\n            marginTop: 2,\n        },\n        cardFooter: {\n            flexDirection: 'row',\n            alignItems: 'center',\n            marginTop: theme.spacing.m,\n        },\n        statusBadge: {\n            paddingHorizontal: 8,\n            paddingVertical: 4,\n            borderRadius: 8,\n        },\n        statusText: {\n            fontSize: 12,\n            fontWeight: '600',\n            textTransform: 'capitalize',\n        },\n        conditionBadge: {\n            paddingHorizontal: 8,\n            paddingVertical: 4,\n            borderRadius: 8,\n            marginLeft: 8,\n        },\n        assignmentInfo: {\n            flexDirection: 'row',\n            alignItems: 'center',\n            marginTop: theme.spacing.s,\n            paddingTop: theme.spacing.s,\n            borderTopWidth: 1,\n            borderTopColor: theme.colors.border,\n        },\n        assignedToLabel: {\n            fontSize: 12,\n            color: theme.colors.subText,\n            marginRight: 4,\n        },\n        assignedToValue: {\n            fontSize: 12,\n            fontWeight: '600',\n            color: theme.colors.text,\n        },\n        addTypeButton: {\n            alignSelf: 'flex-end',\n            marginBottom: theme.spacing.s,\n            marginTop: 4,\n        },\n        addTypeButtonText: {\n            color: theme.colors.primary,\n            fontSize: 12,\n            fontWeight: '600',\n        },\n        typeList: {\n            marginTop: theme.spacing.m,\n        },\n        typeTags: {\n            flexDirection: 'row',\n            flexWrap: 'wrap',\n            gap: 8,\n            marginTop: 8,\n        },\n        typeTag: {\n            backgroundColor: theme.colors.border,\n            paddingHorizontal: 10,\n            paddingVertical: 4,\n            borderRadius: 12,\n        },\n        typeTagText: {\n            fontSize: 12,\n            color: theme.colors.text,\n        },\n        label: {\n            fontSize: 12,\n            fontWeight: '600',\n            color: theme.colors.subText,\n        },\n        emptyContainer: {\n            flex: 1,\n            alignItems: 'center',\n            justifyContent: 'center',\n            marginTop: 100,\n        },\n        emptyText: {\n            color: theme.colors.subText,\n            fontSize: 16,\n        },\n        fab: {\n            position: 'absolute',\n            right: theme.spacing.l,\n            bottom: theme.spacing.l,\n            width: 56,\n            height: 56,\n            borderRadius: 28,\n            backgroundColor: theme.colors.primary,\n            justifyContent: 'center',\n            alignItems: 'center',\n            ...theme.shadows.large,\n            elevation: 5,\n        },\n        fabText: {\n            fontSize: 32,\n            color: theme.colors.surface,\n            fontWeight: '300',\n        },\n        modalOverlay: {\n            flex: 1,\n            backgroundColor: 'rgba(0,0,0,0.5)',\n            justifyContent: 'center',\n            alignItems: 'center',\n        },\n        modalContent: {\n            width: '90%',\n            maxWidth: 400,\n            borderRadius: theme.spacing.m,\n            padding: theme.spacing.l,\n            ...theme.shadows.large,\n        },\n        modalTitle: {\n            ...theme.textVariants.header,\n            fontSize: 20,\n            marginBottom: theme.spacing.l,\n            textAlign: 'center',\n        },\n        modalInput: {\n            height: 50,\n            borderWidth: 1,\n            borderRadius: theme.spacing.s,\n            paddingHorizontal: theme.spacing.m,\n            marginBottom: theme.spacing.m,\n        },\n        modalButtons: {\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            marginTop: theme.spacing.m,\n        },\n        modalButton: {\n            flex: 1,\n            height: 50,\n            borderRadius: theme.spacing.s,\n            justifyContent: 'center',\n            alignItems: 'center',\n            marginHorizontal: theme.spacing.s,\n        },\n    });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/settings/MyDevicesScreen.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/settings/PersonalSettingsScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Dropdown' is defined but never used.","line":15,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":15,"endColumn":18},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":18,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[562,565],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[562,565],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'customColors' is assigned a value but never used.","line":19,"column":45,"nodeType":null,"messageId":"unusedVar","endLine":19,"endColumn":57},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'setCustomColor' is assigned a value but never used.","line":19,"column":59,"nodeType":null,"messageId":"unusedVar","endLine":19,"endColumn":73},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":19,"column":92,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":95,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[663,666],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[663,666],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":20,"column":72,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":75,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[739,742],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[739,742],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'i18n' is assigned a value but never used.","line":21,"column":16,"nodeType":null,"messageId":"unusedVar","endLine":21,"endColumn":20},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'handleTestCrash' is assigned a value but never used.","line":24,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":24,"endColumn":26},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'COLOR_PALETTE' is assigned a value but never used.","line":41,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":41,"endColumn":24},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":68,"column":66,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":68,"endColumn":69,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2629,2632],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2629,2632],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":10,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useMemo } from 'react';\nimport {\n    View,\n    Text,\n    StyleSheet,\n    TouchableOpacity,\n    ScrollView,\n    Platform,\n    Switch,\n} from 'react-native';\nimport { useTranslation } from 'react-i18next';\nimport { useTheme } from '../../context/ThemeContext';\nimport { WebNavigationContext } from '../../navigation/WebNavigationContext';\nimport { Theme } from '../../theme';\nimport { Dropdown } from '../../components/Dropdown';\nimport crashlytics from '@react-native-firebase/crashlytics';\n\nexport const PersonalSettingsScreen = ({ navigation }: any) => {\n    const { theme, themeMode, setThemeMode, customColors, setCustomColor } = useTheme() as any;\n    const { setActiveTab } = React.useContext(WebNavigationContext) as any;\n    const { t, i18n } = useTranslation();\n    const styles = useMemo(() => createStyles(theme), [theme]);\n\n    const handleTestCrash = () => {\n        if (Platform.OS === 'web') {\n            throw new Error('Sentry Test Crash: ' + new Date().toISOString());\n        } else {\n            crashlytics().log('Testing crashlytics');\n            crashlytics().crash();\n        }\n    };\n\n\n    const themes = [\n        { id: 'light', label: t('settings.themeLight') || 'Light' },\n        { id: 'dark', label: t('settings.themeDark') || 'Dark' },\n        { id: 'premium', label: t('settings.themePremium') || 'Premium' },\n        { id: 'custom', label: t('settings.themeCustom') || 'Custom' },\n    ];\n\n    const COLOR_PALETTE = [\n        { label: 'Deep Blue', value: '#0052CC' },\n        { label: 'Royal Blue', value: '#172B4D' },\n        { label: 'Teal', value: '#00A3BF' },\n        { label: 'Emerald', value: '#36B37E' },\n        { label: 'Purple', value: '#6554C0' },\n        { label: 'Rose', value: '#FF5630' },\n        { label: 'Amber', value: '#FFAB00' },\n        { label: 'Slate', value: '#1D1D1F' },\n        { label: 'Black', value: '#121212' },\n    ];\n\n\n    return (\n        <ScrollView style={styles.container}>\n\n            <View style={styles.section}>\n                <Text style={styles.sectionTitle}>{t('settings.theme') || 'Theme'}</Text>\n                <View style={styles.card}>\n                    {themes.map((th, index) => (\n                        <TouchableOpacity\n                            key={th.id}\n                            style={[\n                                styles.row,\n                                (index !== themes.length - 1 || themeMode === 'custom') && styles.borderBottom,\n                                themeMode === th.id && styles.selectedRow\n                            ]}\n                            onPress={() => setThemeMode(th.id as any)}\n                        >\n                            <Text style={styles.rowText}>{th.label}</Text>\n                            {themeMode === th.id && <Text style={styles.checkIcon}>✓</Text>}\n                        </TouchableOpacity>\n                    ))}\n                    {themeMode === 'custom' && (\n                        <TouchableOpacity\n                            style={[styles.row, styles.customThemeButton]}\n                            onPress={() => {\n                                if (Platform.OS === 'web') {\n                                    setActiveTab('CustomThemeColors');\n                                } else {\n                                    navigation.navigate('CustomThemeColors');\n                                }\n                            }}\n                        >\n                            <Text style={styles.customThemeButtonText}>🎨 {t('settings.customizeColors') || 'Configure Colors'}</Text>\n                            <Text style={styles.menuItemArrow}>›</Text>\n                        </TouchableOpacity>\n                    )}\n                </View>\n            </View>\n\n            <View style={styles.section}>\n                <Text style={styles.sectionTitle}>{t('settings.notifications') || 'Notifications'}</Text>\n                <View style={styles.card}>\n                    <View style={[styles.row, styles.borderBottom]}>\n                        <Text style={styles.rowText}>{t('settings.pushNotifications') || 'Push Notifications'}</Text>\n                        <Switch trackColor={{ false: theme.colors.border, true: theme.colors.primary }} value={true} />\n                    </View>\n                    <View style={styles.row}>\n                        <Text style={styles.rowText}>{t('settings.emailNotifications') || 'Email Notifications'}</Text>\n                        <Switch trackColor={{ false: theme.colors.border, true: theme.colors.primary }} value={false} />\n                    </View>\n                </View>\n            </View>\n        </ScrollView>\n    );\n};\n\nconst createStyles = (theme: Theme) =>\n    StyleSheet.create({\n        container: {\n            flex: 1,\n            backgroundColor: theme.colors.background,\n        },\n        section: {\n            padding: theme.spacing.m,\n        },\n        sectionTitle: {\n            ...theme.textVariants.body,\n            fontWeight: 'bold',\n            color: theme.colors.subText,\n            marginBottom: theme.spacing.s,\n            marginLeft: theme.spacing.xs,\n            textTransform: 'uppercase',\n            fontSize: 12,\n        },\n        card: {\n            backgroundColor: theme.colors.surface,\n            borderRadius: theme.spacing.m,\n            overflow: 'hidden',\n            ...theme.shadows.small,\n        },\n        row: {\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            padding: theme.spacing.l,\n        },\n        rowText: {\n            ...theme.textVariants.body,\n            color: theme.colors.text,\n            fontSize: 16,\n        },\n        borderBottom: {\n            borderBottomWidth: 1,\n            borderBottomColor: theme.colors.border,\n        },\n        selectedRow: {\n            backgroundColor: `${theme.colors.primary}10`,\n        },\n        checkIcon: {\n            color: theme.colors.primary,\n            fontWeight: 'bold',\n            fontSize: 18,\n        },\n        customThemeContainer: {\n            marginTop: theme.spacing.m,\n        },\n        subTitle: {\n            ...theme.textVariants.body,\n            fontWeight: '600',\n            color: theme.colors.text,\n            marginBottom: theme.spacing.s,\n            marginTop: theme.spacing.m,\n        },\n        colorPickerRow: {\n            padding: theme.spacing.m,\n            borderBottomWidth: 1,\n            borderBottomColor: theme.colors.border,\n        },\n        colorPreview: {\n            width: '100%',\n            height: 4,\n            borderRadius: 2,\n            marginTop: -theme.spacing.s,\n        },\n        customThemeButton: {\n            backgroundColor: `${theme.colors.primary}10`,\n            marginTop: theme.spacing.s,\n        },\n        customThemeButtonText: {\n            ...theme.textVariants.body,\n            color: theme.colors.primary,\n            fontWeight: '600',\n        },\n        menuItemArrow: {\n            fontSize: 20,\n            color: theme.colors.subText,\n        },\n    });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/teams/AddTeamScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":28,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":28,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1175,1178],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1175,1178],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":36,"column":66,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":36,"endColumn":69,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1490,1493],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1490,1493],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'loading' is assigned a value but never used.","line":50,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":50,"endColumn":19},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":150,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":150,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5564,5567],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5564,5567],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useMemo, useEffect } from 'react';\nimport {\n    View,\n    Text,\n    TextInput,\n    TouchableOpacity,\n    StyleSheet,\n    ScrollView,\n    Platform,\n} from 'react-native';\nimport { useTranslation } from 'react-i18next';\nimport { useTheme } from '../../context/ThemeContext';\nimport { teamsDb } from '../../database/teamsDb';\nimport { employeesDb } from '../../database/employeesDb';\nimport { notificationService } from '../../services/notificationService';\nimport { servicesDb } from '../../database/servicesDb';\nimport { departmentsDb } from '../../database/departmentsDb';\nimport { Employee, Service, Department } from '../../database/schema';\nimport { Theme } from '../../theme';\nimport { useToast } from '../../context/ToastContext';\nimport { Dropdown } from '../../components/Dropdown';\nimport { MultiSelectDropdown } from '../../components/MultiSelectDropdown';\nimport { useSelector } from 'react-redux';\nimport { selectAllCompanies } from '../../store/slices/companiesSlice';\nimport { useContext } from 'react';\nimport { WebNavigationContext } from '../../navigation/WebNavigationContext';\n\nexport const AddTeamScreen = ({ navigation, route }: any) => {\n    const editId = route?.params?.id;\n    const isEdit = !!editId;\n\n    const { theme } = useTheme();\n    const { t } = useTranslation();\n    const { showToast } = useToast();\n    const styles = useMemo(() => createStyles(theme), [theme]);\n    const { setActiveTab } = useContext(WebNavigationContext) as any;\n\n    const [name, setName] = useState('');\n    const [department, setDepartment] = useState('');\n    const [companyId, setCompanyId] = useState<number | undefined>(undefined);\n    const [service, setService] = useState('');\n\n    const companies = useSelector(selectAllCompanies);\n    const [managerId, setManagerId] = useState<number | undefined>(undefined);\n    const [selectedMemberIds, setSelectedMemberIds] = useState<string[]>([]);\n\n    const [employees, setEmployees] = useState<Employee[]>([]);\n    const [departments, setDepartments] = useState<Department[]>([]);\n    const [services, setServices] = useState<Service[]>([]);\n    const [loading, setLoading] = useState(true);\n\n    // Validation state\n    const [errors, setErrors] = useState<Record<string, string>>({});\n\n    useEffect(() => {\n        loadData();\n    }, []);\n\n    const loadData = async () => {\n        try {\n            const [emps, depts, servs] = await Promise.all([\n                employeesDb.getAll(),\n                departmentsDb.getAll(),\n                servicesDb.getAll(),\n            ]);\n            setEmployees(emps);\n            setDepartments(depts);\n            setServices(servs);\n\n            if (isEdit) {\n                const team = await teamsDb.getById(editId);\n                if (team) {\n                    setName(team.name);\n                    setDepartment(team.department);\n                    setService(team.service || '');\n                    setCompanyId(team.companyId);\n                    setManagerId(team.managerId);\n\n                    // Filter employees who belong to this team to select them initially\n                    // Note: This assumes we want to pre-select current members.\n                    // In teamsDb.add/update, we update employees.teamId.\n                    const teamMembers = emps.filter(e => e.teamId === editId);\n                    setSelectedMemberIds(teamMembers.map(m => (m.id || 0).toString()));\n                }\n            }\n        } catch (error) {\n            console.error('Error loading data:', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const validateForm = () => {\n        const newErrors: Record<string, string> = {};\n        if (!name.trim()) newErrors.name = t('common.required');\n        if (!department) newErrors.department = t('common.required');\n\n        if (selectedMemberIds.length < 2) {\n            newErrors.members = t('teams.validation.minMembers') || 'Select at least 2 members';\n        } else if (selectedMemberIds.length > 10) {\n            newErrors.members = t('teams.validation.maxMembers') || 'Max 10 members allowed';\n        }\n\n        setErrors(newErrors);\n        return Object.keys(newErrors).length === 0;\n    };\n\n    const handleSave = async () => {\n        if (!validateForm()) return;\n\n        try {\n            let teamId = editId;\n            if (isEdit) {\n                // 1. Update Team\n                await teamsDb.update(editId, {\n                    name,\n                    department,\n                    service,\n                    companyId,\n                    managerId: managerId || 0,\n                });\n            } else {\n                // 1. Create Team\n                teamId = await teamsDb.add({\n                    name,\n                    department,\n                    service,\n                    companyId,\n                    managerId: managerId || 0,\n                });\n            }\n\n            // 2. Update Manager's teamId\n            if (managerId) {\n                await employeesDb.update(managerId, { teamId });\n            }\n\n            // 3. Update Members' teamId\n            for (const memberIdStr of selectedMemberIds) {\n                const memberId = Number(memberIdStr);\n                await employeesDb.update(memberId, { teamId });\n            }\n\n            showToast(t('common.success'), 'success');\n            if (Platform.OS === 'web') {\n                setActiveTab('Teams');\n            } else {\n                navigation.goBack();\n            }\n        } catch (error: any) {\n            console.error('Error saving team:', error);\n            const errorMessage = error?.message || t('common.saveError');\n            notificationService.showAlert(t('common.error'), errorMessage);\n        }\n    };\n\n    const employeeOptions = useMemo(() => {\n        return employees.map(e => ({ label: e.name, value: (e.id || 0).toString() }));\n    }, [employees]);\n\n    const departmentOptions = useMemo(() => {\n        return departments.map(d => ({ label: d.name, value: d.name }));\n    }, [departments]);\n\n    const serviceOptions = useMemo(() => {\n        return services.map(s => ({ label: s.name, value: s.name }));\n    }, [services]);\n\n    // Filter out selected manager from member options\n    const memberOptions = useMemo(() => {\n        return employeeOptions.filter(e => Number(e.value) !== managerId);\n    }, [employeeOptions, managerId]);\n\n    // Reset members selection if the selected manager was in it\n    useEffect(() => {\n        if (managerId && selectedMemberIds.includes(managerId.toString())) {\n            setSelectedMemberIds(prev => prev.filter(id => id !== managerId.toString()));\n        }\n    }, [managerId]);\n\n    return (\n        <View style={styles.container}>\n            <ScrollView contentContainerStyle={styles.scrollContent}>\n                <View style={styles.card}>\n                    <Text style={styles.title}>{isEdit ? t('teams.edit') || 'Edit Team' : (t('teams.details') || 'Team Details')}</Text>\n\n                    {/* Company (Dropdown) */}\n                    <View style={styles.fieldContainer}>\n                        <Dropdown\n                            label={t('companies.title')}\n                            data={companies.map(c => ({ label: c.name, value: String(c.id) }))}\n                            value={companyId ? String(companyId) : ''}\n                            onSelect={(val) => setCompanyId(Number(val))}\n                            placeholder={t('companies.selectCompany')}\n                        />\n                    </View>\n\n                    {/* Name */}\n                    <View style={styles.fieldContainer}>\n                        <Text style={styles.label}>{t('teams.name') || t('common.name')}</Text>\n                        <TextInput\n                            style={[styles.input, errors.name && styles.inputError]}\n                            value={name}\n                            onChangeText={setName}\n                            placeholder={t('teams.namePlaceholder') || 'e.g. Engineering'}\n                            placeholderTextColor={theme.colors.subText}\n                        />\n                        {errors.name && <Text style={styles.errorText}>{errors.name}</Text>}\n                    </View>\n\n                    {/* Department (Dropdown) */}\n                    <View style={styles.fieldContainer}>\n                        <Text style={styles.label}>{t('teams.department') || 'Department'}</Text>\n                        <Dropdown\n                            label={t('common.selectDepartment') || 'Select Department'}\n                            data={departmentOptions}\n                            value={department}\n                            onSelect={setDepartment}\n                            error={errors.department}\n                        />\n                    </View>\n\n                    {/* Service (Dropdown) - Optional/New */}\n                    <View style={styles.fieldContainer}>\n                        <Text style={styles.label}>{t('common.service') || 'Service'}</Text>\n                        <Dropdown\n                            label={t('common.selectService') || 'Select Service'}\n                            data={serviceOptions}\n                            value={service}\n                            onSelect={setService}\n                        />\n                    </View>\n\n                    {/* Team Leader Selection */}\n                    <View style={styles.fieldContainer}>\n                        <Text style={styles.label}>{t('teams.teamLeader') || \"Team Leader (Chef d'équipe)\"}</Text>\n                        <Dropdown\n                            label={t('teams.selectTeamLeader') || 'Select Team Leader'}\n                            data={employeeOptions}\n                            value={managerId ? managerId.toString() : ''}\n                            onSelect={(val: string) => setManagerId(Number(val))}\n                            error={errors.manager}\n                        />\n                    </View>\n\n                    {/* Members Selection */}\n                    <View style={styles.fieldContainer}>\n                        <Text style={styles.label}>{t('teams.members') || 'Team Members (Min 2, Max 10)'}</Text>\n                        <MultiSelectDropdown\n                            label={t('teams.selectMembers') || 'Select Members'}\n                            data={memberOptions}\n                            selectedValues={selectedMemberIds}\n                            onSelect={setSelectedMemberIds}\n                            error={errors.members}\n                        />\n                    </View>\n\n                    <TouchableOpacity style={styles.saveButton} onPress={handleSave}>\n                        <Text style={styles.saveButtonText}>{t('common.save')}</Text>\n                    </TouchableOpacity>\n                </View>\n            </ScrollView>\n        </View>\n    );\n};\n\nconst createStyles = (theme: Theme) =>\n    StyleSheet.create({\n        container: {\n            backgroundColor: theme.colors.background,\n        },\n        scrollContent: {\n            padding: theme.spacing.m,\n        },\n        card: {\n            backgroundColor: theme.colors.surface,\n            borderRadius: theme.spacing.m,\n            padding: theme.spacing.l,\n            ...theme.shadows.medium,\n            maxWidth: 600,\n            width: '100%',\n            alignSelf: 'center',\n        },\n        title: {\n            ...theme.textVariants.header,\n            color: theme.colors.text,\n            marginBottom: theme.spacing.l,\n            textAlign: 'center',\n        },\n        fieldContainer: {\n            marginBottom: theme.spacing.m,\n        },\n        label: {\n            ...theme.textVariants.body,\n            color: theme.colors.text,\n            marginBottom: theme.spacing.s,\n            fontWeight: '600',\n        },\n        input: {\n            backgroundColor: theme.colors.background,\n            borderRadius: theme.spacing.s,\n            padding: theme.spacing.m,\n            borderWidth: 1,\n            borderColor: theme.colors.border,\n            color: theme.colors.text,\n        },\n        inputError: {\n            borderColor: theme.colors.error,\n        },\n        errorText: {\n            color: theme.colors.error,\n            fontSize: 12,\n            marginTop: 4,\n        },\n        saveButton: {\n            backgroundColor: theme.colors.primary,\n            borderRadius: theme.spacing.m,\n            padding: theme.spacing.m,\n            alignItems: 'center',\n            marginTop: theme.spacing.m,\n            ...theme.shadows.small,\n        },\n        saveButtonText: {\n            color: '#FFFFFF',\n            fontWeight: 'bold',\n            fontSize: 16,\n        },\n    });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/teams/MyTeamScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'manager' is assigned a value but never used.","line":26,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":26,"endColumn":19}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useMemo } from 'react';\nimport {\n    View,\n    Text,\n    StyleSheet,\n    FlatList,\n    ActivityIndicator,\n    Image,\n    ScrollView,\n} from 'react-native';\nimport { useTranslation } from 'react-i18next';\nimport { useTheme } from '../../context/ThemeContext';\nimport { useAuth } from '../../context/AuthContext';\nimport { teamsDb } from '../../database/teamsDb';\nimport { employeesDb } from '../../database/employeesDb';\nimport { Team, Employee } from '../../database/schema';\nimport { Theme } from '../../theme';\n\nexport const MyTeamScreen = () => {\n    const { theme } = useTheme();\n    const { t } = useTranslation();\n    const { user } = useAuth();\n    const styles = useMemo(() => createStyles(theme), [theme]);\n\n    const [team, setTeam] = useState<Team | null>(null);\n    const [manager, setManager] = useState<Employee | null>(null);\n    const [members, setMembers] = useState<Employee[]>([]);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        loadTeamData();\n    }, [user?.teamId]);\n\n    const loadTeamData = async () => {\n        if (!user?.teamId) {\n            setLoading(false);\n            return;\n        }\n\n        try {\n            const teamData = await teamsDb.getById(user.teamId);\n            setTeam(teamData || null);\n\n            if (teamData) {\n                // Fetch Manager\n                if (teamData.managerId) {\n                    const managerData = await employeesDb.getById(teamData.managerId);\n                    setManager(managerData || null);\n                }\n\n                // Fetch Members\n                const allEmployees = await employeesDb.getAll();\n                const teamMembers = allEmployees.filter(e => e.teamId === teamData.id);\n                setMembers(teamMembers);\n            }\n        } catch (error) {\n            console.error('Error loading my team:', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const renderMember = ({ item }: { item: Employee }) => (\n        <View style={styles.memberCard}>\n            <View style={styles.avatarContainer}>\n                {item.photoUri ? (\n                    <Image source={{ uri: item.photoUri }} style={styles.avatar} />\n                ) : (\n                    <View style={[styles.avatar, { backgroundColor: theme.colors.primary }]}>\n                        <Text style={styles.avatarText}>{item.name.charAt(0)}</Text>\n                    </View>\n                )}\n            </View>\n            <View style={styles.memberInfo}>\n                <Text style={styles.memberName}>{item.name}</Text>\n                <Text style={styles.memberRole}>\n                    {item.id === team?.managerId ? `👑 ${t('teams.manager')}` : item.position || t('common.employee')}\n                </Text>\n            </View>\n        </View>\n    );\n\n    if (loading) {\n        return (\n            <View style={[styles.container, styles.center]}>\n                <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n            </View>\n        );\n    }\n\n    if (!team) {\n        return (\n            <View style={[styles.container, styles.center]}>\n                <Text style={styles.emptyText}>{t('teams.noTeamAssigned') || \"You are not assigned to any team.\"}</Text>\n            </View>\n        );\n    }\n\n    return (\n        <View style={styles.container}>\n            <ScrollView contentContainerStyle={styles.scrollContent}>\n                {/* Team Header */}\n                <View style={styles.headerCard}>\n                    <Text style={styles.teamName}>{team.name}</Text>\n                    <View style={styles.badgeContainer}>\n                        <View style={styles.badge}>\n                            <Text style={styles.badgeText}>🏢 {team.department}</Text>\n                        </View>\n                        {team.service && (\n                            <View style={[styles.badge, { backgroundColor: theme.colors.secondary }]}>\n                                <Text style={styles.badgeText}>⚙️ {team.service}</Text>\n                            </View>\n                        )}\n                    </View>\n                </View>\n\n                {/* Team Members List */}\n                <Text style={styles.sectionTitle}>{t('teams.members')} ({members.length})</Text>\n                <FlatList\n                    data={members}\n                    renderItem={renderMember}\n                    keyExtractor={item => item.id?.toString() || Math.random().toString()}\n                    scrollEnabled={false} // Since we are inside a ScrollView\n                />\n            </ScrollView>\n        </View>\n    );\n};\n\nconst createStyles = (theme: Theme) =>\n    StyleSheet.create({\n        container: {\n            backgroundColor: theme.colors.background,\n        },\n        center: {\n            justifyContent: 'center',\n            alignItems: 'center',\n        },\n        scrollContent: {\n            padding: theme.spacing.m,\n        },\n        headerCard: {\n            backgroundColor: theme.colors.surface,\n            borderRadius: 16,\n            padding: theme.spacing.l,\n            marginBottom: theme.spacing.l,\n            alignItems: 'center',\n            ...theme.shadows.medium,\n        },\n        teamName: {\n            ...theme.textVariants.header,\n            color: theme.colors.text,\n            marginBottom: theme.spacing.m,\n            textAlign: 'center',\n        },\n        badgeContainer: {\n            flexDirection: 'row',\n            gap: theme.spacing.s,\n            flexWrap: 'wrap',\n            justifyContent: 'center',\n        },\n        badge: {\n            backgroundColor: theme.colors.primary + '20',\n            paddingHorizontal: theme.spacing.m,\n            paddingVertical: theme.spacing.s,\n            borderRadius: 20,\n        },\n        badgeText: {\n            color: theme.colors.text,\n            fontWeight: '600',\n        },\n        sectionTitle: {\n            ...theme.textVariants.subheader,\n            color: theme.colors.text,\n            marginBottom: theme.spacing.m,\n            marginLeft: theme.spacing.s,\n        },\n        memberCard: {\n            flexDirection: 'row',\n            alignItems: 'center',\n            backgroundColor: theme.colors.surface,\n            padding: theme.spacing.m,\n            marginBottom: theme.spacing.s,\n            borderRadius: 12,\n            ...theme.shadows.small,\n        },\n        avatarContainer: {\n            marginRight: theme.spacing.m,\n        },\n        avatar: {\n            width: 50,\n            height: 50,\n            borderRadius: 25,\n            justifyContent: 'center',\n            alignItems: 'center',\n        },\n        avatarText: {\n            color: '#FFF',\n            fontWeight: 'bold',\n            fontSize: 20,\n        },\n        memberInfo: {\n            flex: 1,\n        },\n        memberName: {\n            ...theme.textVariants.body,\n            fontWeight: 'bold',\n            color: theme.colors.text,\n        },\n        memberRole: {\n            ...theme.textVariants.caption,\n            color: theme.colors.subText,\n            marginTop: 2,\n        },\n        emptyText: {\n            ...theme.textVariants.body,\n            color: theme.colors.subText,\n            textAlign: 'center',\n        },\n    });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/teams/TeamListScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":23,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":23,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[839,842],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[839,842],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":29,"column":66,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":69,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1124,1127],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1124,1127],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":234,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":234,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7752,7755],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7752,7755],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useCallback, useMemo } from 'react';\nimport {\n    View,\n    Text,\n    StyleSheet,\n    FlatList,\n    TouchableOpacity,\n    ActivityIndicator,\n    Platform,\n} from 'react-native';\nimport { useFocusEffect } from '@react-navigation/native';\nimport { useTranslation } from 'react-i18next';\nimport { WebNavigationContext } from '../../navigation/WebNavigationContext';\nimport { teamsDb } from '../../database/teamsDb';\nimport { employeesDb } from '../../database/employeesDb';\nimport { Team, Employee } from '../../database/schema';\nimport { useTheme } from '../../context/ThemeContext';\nimport { Theme } from '../../theme';\nimport { useContext } from 'react';\nimport { useModal } from '../../context/ModalContext';\nimport { useToast } from '../../context/ToastContext';\n\nexport const TeamListScreen = ({ navigation }: any) => {\n    const { theme } = useTheme();\n    const { t } = useTranslation();\n    const { showModal } = useModal();\n    const { showToast } = useToast();\n    const styles = useMemo(() => createStyles(theme), [theme]);\n    const { setActiveTab } = useContext(WebNavigationContext) as any;\n\n    const [teams, setTeams] = useState<Team[]>([]);\n    const [employees, setEmployees] = useState<Employee[]>([]);\n    const [loading, setLoading] = useState(true);\n\n    const loadData = async () => {\n        try {\n            const [teamsData, employeesData] = await Promise.all([\n                teamsDb.getAll(),\n                employeesDb.getAll(),\n            ]);\n            setTeams(teamsData);\n            setEmployees(employeesData);\n        } catch (error) {\n            console.error('Error loading team data:', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    useFocusEffect(\n        useCallback(() => {\n            loadData();\n        }, []),\n    );\n\n    const handleEdit = (team: Team) => {\n        if (Platform.OS === 'web') {\n            setActiveTab('Teams', 'AddTeam', { id: team.id });\n        } else {\n            navigation.navigate('AddTeam', { id: team.id });\n        }\n    };\n\n    const handleDelete = (team: Team) => {\n        showModal({\n            title: t('common.deleteTitle'),\n            message: `${t('common.deleteMessage')}\\n\"${team.name}\"`,\n            buttons: [\n                {\n                    text: t('common.cancel'),\n                    style: 'cancel',\n                },\n                {\n                    text: t('common.delete'),\n                    style: 'destructive',\n                    onPress: async () => {\n                        try {\n                            await teamsDb.delete(team.id);\n                            showToast(t('common.success'), 'success');\n                            loadData();\n                        } catch (error) {\n                            console.error('Error deleting team:', error);\n                            showToast(t('common.deleteFailed'), 'error');\n                        }\n                    },\n                },\n            ],\n        });\n    };\n\n    const renderItem = ({ item }: { item: Team }) => {\n        const manager = employees.find(e => e.id === item.managerId);\n        return (\n            <View style={styles.card}>\n                <View style={styles.info}>\n                    <Text style={styles.name}>{item.name}</Text>\n                    <Text style={styles.detailText}>🏢 {t('teams.department')}: {item.department}</Text>\n                    <Text style={styles.detailText}>👤 {t('teams.manager')}: {manager?.name || 'N/A'}</Text>\n                </View>\n                <View style={styles.actions}>\n                    <TouchableOpacity\n                        style={[styles.actionButton, styles.editButton]}\n                        onPress={() => handleEdit(item)}\n                    >\n                        <Text style={styles.actionText}>{t('common.edit')}</Text>\n                    </TouchableOpacity>\n                    <TouchableOpacity\n                        style={[styles.actionButton, styles.deleteButton]}\n                        onPress={() => handleDelete(item)}\n                    >\n                        <Text style={styles.actionText}>{t('common.delete')}</Text>\n                    </TouchableOpacity>\n                </View>\n            </View>\n        );\n    };\n\n    return (\n        <View style={styles.container}>\n            {loading ? (\n                <ActivityIndicator\n                    size=\"large\"\n                    color={theme.colors.primary}\n                    style={{ marginTop: 20 }}\n                />\n            ) : (\n                <FlatList\n                    data={teams}\n                    renderItem={renderItem}\n                    keyExtractor={(item) => item.id.toString()}\n                    contentContainerStyle={styles.listContent}\n                    ListEmptyComponent={\n                        <View style={styles.emptyContainer}>\n                            <Text style={styles.emptyText}>{t('teams.empty')}</Text>\n                        </View>\n                    }\n                />\n            )}\n\n            <TouchableOpacity\n                style={styles.fab}\n                onPress={() => {\n                    if (Platform.OS === 'web') {\n                        setActiveTab('Teams', 'AddTeam');\n                    } else {\n                        navigation.navigate('AddTeam');\n                    }\n                }}\n            >\n                <Text style={styles.fabText}>+</Text>\n            </TouchableOpacity>\n        </View>\n    );\n};\n\nconst createStyles = (theme: Theme) =>\n    StyleSheet.create({\n        container: {\n            flex: 1,\n            backgroundColor: theme.colors.background,\n        },\n        listContent: {\n            padding: theme.spacing.m,\n            maxWidth: 800,\n            width: '100%',\n            alignSelf: 'center',\n        },\n        card: {\n            backgroundColor: theme.colors.surface,\n            borderRadius: 16,\n            padding: theme.spacing.m,\n            marginBottom: theme.spacing.m,\n            ...theme.shadows.small,\n            borderLeftWidth: 4,\n            borderLeftColor: theme.colors.primary,\n            flexDirection: 'row',\n            alignItems: 'center',\n            justifyContent: 'space-between',\n        },\n        info: {\n            flex: 1,\n        },\n        actions: {\n            flexDirection: 'row',\n            gap: 8,\n        },\n        actionButton: {\n            paddingVertical: 6,\n            paddingHorizontal: 12,\n            borderRadius: 8,\n        },\n        editButton: {\n            backgroundColor: theme.colors.primary + '20',\n        },\n        deleteButton: {\n            backgroundColor: theme.colors.error + '20',\n        },\n        actionText: {\n            ...theme.textVariants.caption,\n            fontSize: 12,\n            fontWeight: '600',\n        },\n        name: {\n            ...theme.textVariants.subheader,\n            color: theme.colors.text,\n            fontSize: 18,\n            marginBottom: 4,\n        },\n        detailText: {\n            ...theme.textVariants.caption,\n            color: theme.colors.subText,\n            marginTop: 2,\n        },\n        emptyContainer: {\n            alignItems: 'center',\n            marginTop: 40,\n        },\n        emptyText: {\n            ...theme.textVariants.body,\n            color: theme.colors.subText,\n        },\n        fab: {\n            position: 'absolute',\n            bottom: 24,\n            right: 24,\n            width: 56,\n            height: 56,\n            borderRadius: 28,\n            backgroundColor: theme.colors.primary,\n            justifyContent: 'center',\n            alignItems: 'center',\n            ...theme.shadows.medium,\n            zIndex: 999,\n        } as any,\n        fabText: {\n            fontSize: 32,\n            color: '#FFF',\n            marginTop: -2,\n        },\n    });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/screens/teams/TeamVacationsScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'TouchableOpacity' is defined but never used.","line":7,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":21},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Platform' is defined but never used.","line":8,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":13},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'navigation' is defined but never used.","line":19,"column":39,"nodeType":null,"messageId":"unusedVar","endLine":19,"endColumn":49},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":19,"column":53,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":56,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[597,600],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[597,600],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":36,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":36,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1300,1303],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1300,1303],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useMemo } from 'react';\nimport {\n    View,\n    Text,\n    StyleSheet,\n    FlatList,\n    TouchableOpacity,\n    Platform,\n} from 'react-native';\nimport { useTheme } from '../../context/ThemeContext';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector } from 'react-redux';\nimport { RootState } from '../../store';\nimport { useAuth } from '../../context/AuthContext';\nimport { Theme } from '../../theme';\nimport { Employee, Leave } from '../../database/schema';\nimport { formatDate } from '../../utils/dateUtils';\n\nexport const TeamVacationsScreen = ({ navigation }: any) => {\n    const { theme } = useTheme();\n    const { t } = useTranslation();\n    const { user } = useAuth();\n    const styles = useMemo(() => createStyles(theme), [theme]);\n\n    const employees = useSelector((state: RootState) => state.employees.items);\n    const leaves = useSelector((state: RootState) => state.leaves.items);\n    const teams = useSelector((state: RootState) => state.teams.items);\n\n    const teamMembers = useMemo(() => {\n        if (!user?.teamId) return [];\n        return employees.filter((emp: Employee) => emp.teamId === user.teamId);\n    }, [employees, user?.teamId]);\n\n    const teamName = useMemo(() => {\n        if (!user?.teamId) return '';\n        return teams.find((t: any) => t.id === user.teamId)?.name || '';\n    }, [teams, user?.teamId]);\n\n    const teamLeaves = useMemo(() => {\n        const memberIds = teamMembers.map((m: Employee) => m.id);\n        return leaves\n            .filter((l: Leave) => memberIds.includes(l.employeeId || 0))\n            .sort((a: Leave, b: Leave) => new Date(a.dateTime).getTime() - new Date(b.dateTime).getTime());\n    }, [leaves, teamMembers]);\n\n    const renderItem = ({ item }: { item: Leave }) => {\n        const member = teamMembers.find((m: Employee) => m.id === item.employeeId);\n        const isMe = item.employeeId === user?.id;\n\n        return (\n            <View style={[styles.card, isMe && styles.myCard]}>\n                <View style={styles.cardHeader}>\n                    <Text style={styles.memberName}>\n                        {member?.name || t('common.unknown')} {isMe ? `(${t('common.yes')})` : ''}\n                    </Text>\n                    <View style={[styles.statusBadge, { backgroundColor: getStatusColor(item.status, theme) }]}>\n                        <Text style={styles.statusText}>{t(`leaveStatus.${item.status}`)}</Text>\n                    </View>\n                </View>\n                <Text style={styles.leaveTitle}>{item.title}</Text>\n                <Text style={styles.leaveDate}>{formatDate(item.dateTime)}</Text>\n                {item.notes && <Text style={styles.leaveReason}>{item.notes}</Text>}\n            </View>\n        );\n    };\n\n    return (\n        <View style={styles.container}>\n            <View style={styles.header}>\n                <Text style={styles.teamTitle}>{teamName || t('navigation.teams')}</Text>\n                <Text style={styles.teamSubtitle}>\n                    {teamMembers.length} {t('navigation.employees')}\n                </Text>\n            </View>\n\n            <FlatList\n                data={teamLeaves}\n                renderItem={renderItem}\n                keyExtractor={item => (item.id || 0).toString()}\n                contentContainerStyle={styles.listContent}\n                ListEmptyComponent={\n                    <View style={styles.emptyContainer}>\n                        <Text style={styles.emptyText}>{t('leaves.noLeaves')}</Text>\n                    </View>\n                }\n            />\n        </View>\n    );\n};\n\nconst getStatusColor = (status: string, theme: Theme) => {\n    switch (status) {\n        case 'approved': return theme.colors.success;\n        case 'declined': return theme.colors.error;\n        default: return theme.colors.warning;\n    }\n};\n\nconst createStyles = (theme: Theme) =>\n    StyleSheet.create({\n        container: {\n            backgroundColor: theme.colors.background,\n        },\n        header: {\n            padding: theme.spacing.l,\n            backgroundColor: theme.colors.surface,\n            borderBottomWidth: 1,\n            borderBottomColor: theme.colors.border,\n            ...theme.shadows.small,\n        },\n        teamTitle: {\n            ...theme.textVariants.header,\n            color: theme.colors.primary,\n        },\n        teamSubtitle: {\n            ...theme.textVariants.caption,\n            color: theme.colors.subText,\n            marginTop: 4,\n        },\n        listContent: {\n            padding: theme.spacing.m,\n        },\n        card: {\n            backgroundColor: theme.colors.surface,\n            borderRadius: theme.spacing.m,\n            padding: theme.spacing.m,\n            marginBottom: theme.spacing.m,\n            ...theme.shadows.small,\n            borderLeftWidth: 4,\n            borderLeftColor: theme.colors.primary,\n        },\n        myCard: {\n            borderColor: theme.colors.secondary,\n            borderLeftColor: theme.colors.secondary,\n        },\n        cardHeader: {\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: theme.spacing.s,\n        },\n        memberName: {\n            ...theme.textVariants.body,\n            fontWeight: 'bold',\n            color: theme.colors.text,\n        },\n        statusBadge: {\n            paddingHorizontal: 8,\n            paddingVertical: 2,\n            borderRadius: 10,\n        },\n        statusText: {\n            color: '#FFFFFF',\n            fontSize: 10,\n            fontWeight: 'bold',\n        },\n        leaveTitle: {\n            ...theme.textVariants.subheader,\n            fontSize: 16,\n            color: theme.colors.text,\n            marginBottom: 2,\n        },\n        leaveDate: {\n            ...theme.textVariants.caption,\n            color: theme.colors.primary,\n            fontWeight: '600',\n        },\n        leaveReason: {\n            ...theme.textVariants.caption,\n            color: theme.colors.subText,\n            marginTop: theme.spacing.s,\n            fontStyle: 'italic',\n        },\n        emptyContainer: {\n            alignItems: 'center',\n            marginTop: 50,\n        },\n        emptyText: {\n            ...theme.textVariants.body,\n            color: theme.colors.subText,\n        },\n    });\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/services/analyticsService.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'daysOfWeek' is assigned a value but never used.","line":44,"column":19,"nodeType":null,"messageId":"unusedVar","endLine":44,"endColumn":29}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { payrollDb } from '../database/payrollDb';\nimport { leavesDb } from '../database/leavesDb';\nimport { illnessesDb } from '../database/illnessesDb';\n\nexport interface AnalyticsData {\n    totalPayroll: number; // total items\n    upcomingLeaves: number;\n    expiringIllness: number;\n    payrollAdherence: number; // Percentage\n    weeklyPayroll: { day: string; count: number }[];\n}\n\nexport const analyticsService = {\n    // Get overall analytics\n    getAnalytics: async (): Promise<AnalyticsData> => {\n        try {\n            const now = new Date();\n            const nextWeek = new Date();\n            nextWeek.setDate(now.getDate() + 7);\n\n            const [allPayroll, allLeaves, allIllnesses] = await Promise.all([\n                payrollDb.getAll(),\n                leavesDb.getUpcoming(),\n                illnessesDb.getExpiringSoon(),\n            ]);\n\n            // Filter for current week\n            const weeklyLeaves = allLeaves.filter(leave => {\n                if (!leave.dateTime) return false;\n                const d = new Date(leave.dateTime);\n                return d >= now && d <= nextWeek;\n            });\n\n            const weeklyIllnesses = allIllnesses.filter(illness => {\n                if (!illness.expiryDate) return false;\n                const d = new Date(illness.expiryDate);\n                return d >= now && d <= nextWeek;\n            });\n\n            // Count unique employees for upcoming leaves\n            const uniqueEmployeesWithLeaves = new Set(weeklyLeaves.map(l => l.employeeId)).size;\n\n            // Calculate weekly payroll distribution (last 7 days)\n            const daysOfWeek = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n            const last7Days = Array.from({ length: 7 }, (_, i) => {\n                const d = new Date();\n                d.setDate(d.getDate() - (6 - i));\n                return d.toLocaleDateString('en-US', { weekday: 'short' });\n            });\n\n            const weeklyPayroll = last7Days.map(day => ({\n                day,\n                count: allPayroll.filter(p => p.createdAt && new Date(p.createdAt).toLocaleDateString('en-US', { weekday: 'short' }) === day).length\n            }));\n\n            // Calculate adherence from real history\n            const history = await payrollDb.getAllHistory();\n            const totalHistory = history.length;\n            const paidCount = history.filter((h) => h.status === 'paid').length;\n            const payrollAdherence = totalHistory > 0 ? Math.round((paidCount / totalHistory) * 100) : 0;\n\n            return {\n                totalPayroll: allPayroll.length,\n                upcomingLeaves: uniqueEmployeesWithLeaves,\n                expiringIllness: weeklyIllnesses.length,\n                payrollAdherence,\n                weeklyPayroll,\n            };\n        } catch (error) {\n            console.error('Error getting analytics:', error);\n            return {\n                totalPayroll: 0,\n                upcomingLeaves: 0,\n                expiringIllness: 0,\n                payrollAdherence: 0,\n                weeklyPayroll: [],\n            };\n        }\n    },\n\n    // Get payroll adherence for last 7 days\n    getPayrollAdherence: async (): Promise<{ labels: string[]; data: number[] }> => {\n        const history = await payrollDb.getAllHistory();\n        const last7Days = Array.from({ length: 7 }, (_, i) => {\n            const date = new Date();\n            date.setDate(date.getDate() - (6 - i));\n            return {\n                label: date.toLocaleDateString('en-US', { weekday: 'short' }),\n                dateStr: date.toISOString().split('T')[0],\n            };\n        });\n\n        const adherenceData = last7Days.map((day) => {\n            const dayHistory = history.filter((h) => h.paidAt && h.paidAt.startsWith(day.dateStr));\n            if (dayHistory.length === 0) return 0;\n            const paid = dayHistory.filter((h) => h.status === 'paid').length;\n            return Math.round((paid / dayHistory.length) * 100);\n        });\n\n        return {\n            labels: last7Days.map((d) => d.label),\n            data: adherenceData,\n        };\n    },\n\n    // Get upcoming leaves count by unique employees per week\n    getUpcomingLeavesChart: async (): Promise<{ labels: string[]; data: number[] }> => {\n        const leaves = await leavesDb.getUpcoming();\n\n        // Group by next 4 weeks\n        const weeks = ['Week 1', 'Week 2', 'Week 3', 'Week 4'];\n        const employeeSets = [new Set(), new Set(), new Set(), new Set()];\n\n        leaves.forEach((leave) => {\n            const leaveDate = new Date(leave.dateTime);\n            const now = new Date();\n            const diffDays = Math.floor((leaveDate.getTime() - now.getTime()) / (1000 * 60 * 60 * 24));\n            const weekIndex = Math.floor(diffDays / 7);\n\n            if (weekIndex >= 0 && weekIndex < 4) {\n                employeeSets[weekIndex].add(leave.employeeId);\n            }\n        });\n\n        return { labels: weeks, data: employeeSets.map(set => set.size) };\n    },\n};\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/services/authService.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":72,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":72,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3191,3194],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3191,3194],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":94,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":94,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4089,4092],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4089,4092],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":126,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":126,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5134,5137],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5134,5137],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":173,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":173,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6805,6808],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6805,6808],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'empAdminId' is assigned a value but never used.","line":201,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":201,"endColumn":21},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'managerId' is assigned a value but never used.","line":229,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":229,"endColumn":20},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'hrId' is assigned a value but never used.","line":243,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":243,"endColumn":15}],"suppressedMessages":[],"errorCount":7,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { storageService } from './storage';\n\nconst AUTH_KEY = 'auth_session';\nconst USERS_KEY = 'auth_users';\n\nexport type UserRole = 'admin' | 'employee' | 'rh' | 'chef_dequipe';\nexport const ROLES: UserRole[] = ['admin', 'employee', 'rh', 'chef_dequipe'];\n\nexport interface User {\n    id: string;\n    name: string;\n    email: string;\n    role: UserRole;\n    employeeId?: number;\n    department?: string;\n    photoUri?: string;\n    vacationDaysPerYear?: number;\n    remainingVacationDays?: number;\n    statePaidLeaves?: number;\n    country?: string;\n    hiringDate?: string;\n    firstName?: string;\n    lastName?: string;\n    age?: number;\n    gender?: 'male' | 'female' | 'other';\n    emergencyContact?: {\n        name: string;\n        phone: string;\n        relationship: string;\n    };\n    socialLinks?: {\n        linkedin?: string;\n        skype?: string;\n        twitter?: string;\n        website?: string;\n    };\n    skills?: string[];\n    teamId?: number;\n    companyId?: number;\n    status?: 'active' | 'pending' | 'rejected';\n    birthDate?: string;\n    backgroundPhotoUri?: string;\n}\n\nexport const authService = {\n    // Login\n    login: async (emailInput: string, password: string): Promise<User> => {\n        const email = emailInput.trim().toLowerCase();\n        // Simulate API delay\n        await new Promise(resolve => setTimeout(() => resolve(undefined), 1000));\n\n        // Demo accounts\n        const demoAccounts: { [key: string]: { password: string; user: User } } = {\n            'admin@demo.com': { password: 'admin123', user: { id: 'demo-admin', name: 'Demo Admin', email: 'admin@demo.com', role: 'admin', vacationDaysPerYear: 30, remainingVacationDays: 20, statePaidLeaves: 25, country: 'France', hiringDate: '2018-01-15' } },\n            'hr@demo.com': { password: 'hr123', user: { id: 'demo-hr', name: 'Demo HR', email: 'hr@demo.com', role: 'rh', vacationDaysPerYear: 28, remainingVacationDays: 15, statePaidLeaves: 30, country: 'Tunisia', hiringDate: '2019-03-10' } },\n            'chef@demo.com': { password: 'chef123', user: { id: 'demo-manager', name: 'Demo Manager', email: 'chef@demo.com', role: 'chef_dequipe', department: 'IT', teamId: 1, vacationDaysPerYear: 25, remainingVacationDays: 10, statePaidLeaves: 30, country: 'Tunisia', hiringDate: '2020-06-01' } },\n            'employee@demo.com': { password: 'employee123', user: { id: 'demo-emp', name: 'Demo Employee', email: 'employee@demo.com', role: 'employee', department: 'IT', teamId: 1, vacationDaysPerYear: 25, remainingVacationDays: 25, statePaidLeaves: 30, country: 'Tunisia', hiringDate: '2021-09-20' } },\n        };\n\n        if (demoAccounts[email] && demoAccounts[email].password === password) {\n            let demoUser = demoAccounts[email].user;\n\n            // Seed demo data if it's the first time\n            if (!storageService.getBoolean('demo_data_seeded')) {\n                await seedDemoData();\n            }\n\n            // Attempt to link with seeded employeeId\n            try {\n                const { employeesDb } = require('../database/employeesDb');\n                const allEmployees = await employeesDb.getAll();\n                const matchedEmp = allEmployees.find((e: any) => e.email === email);\n                if (matchedEmp) {\n                    demoUser = { ...demoUser, employeeId: matchedEmp.id };\n                }\n            } catch (err) {\n                console.warn('Failed to link demo user with employee ID', err);\n            }\n\n            storageService.setString(AUTH_KEY, JSON.stringify(demoUser));\n            return demoUser;\n        }\n\n        // Backward compatibility for old test user\n        if (email === 'test@test.com' && password === 'test') {\n            const testUser: User = { id: 'test-user', name: 'Test User', email: 'test@test.com', role: 'admin' };\n            storageService.setString(AUTH_KEY, JSON.stringify(testUser));\n            return testUser;\n        }\n\n        const usersJson = storageService.getString(USERS_KEY);\n        const users = usersJson ? JSON.parse(usersJson) : [];\n\n        const user = users.find((u: any) => u.email === email && u.password === password);\n\n        if (user) {\n            const sessionUser: User = {\n                id: user.id,\n                name: user.name,\n                email: user.email,\n                role: user.role,\n                photoUri: user.photoUri,\n                department: user.department,\n                employeeId: user.employeeId\n            };\n            storageService.setString(AUTH_KEY, JSON.stringify(sessionUser));\n            return sessionUser;\n        }\n\n        throw new Error('Invalid credentials');\n    },\n\n    // Register\n    register: async (\n        name: string,\n        email: string,\n        password: string,\n        role: UserRole = 'employee',\n        additionalInfo: { country?: string; birthDate?: string } = {}\n    ): Promise<User> => {\n        await new Promise(resolve => setTimeout(() => resolve(undefined), 1000));\n\n        const usersJson = storageService.getString(USERS_KEY);\n        const users = usersJson ? JSON.parse(usersJson) : [];\n\n        if (users.find((u: any) => u.email === email)) {\n            throw new Error('Email already exists');\n        }\n\n        const newUser = {\n            id: Date.now().toString(),\n            name,\n            email,\n            password,\n            role,\n            country: additionalInfo.country,\n            birthDate: additionalInfo.birthDate,\n            status: 'pending', // Default status for new self-registered employees\n            createdAt: new Date().toISOString(),\n        };\n\n        users.push(newUser);\n        storageService.setString(USERS_KEY, JSON.stringify(users));\n\n        const sessionUser: User = {\n            id: newUser.id,\n            name: newUser.name,\n            email: newUser.email,\n            role: newUser.role,\n            country: newUser.country,\n            // We pass status here if User interface supports it, otherwise it's just in the DB\n        };\n        storageService.setString(AUTH_KEY, JSON.stringify(sessionUser));\n\n        return sessionUser;\n    },\n\n    // Update User\n    updateUser: async (updatedData: Partial<User>): Promise<User> => {\n        const currentJson = storageService.getString(AUTH_KEY);\n        if (!currentJson) throw new Error('Not logged in');\n\n        const currentUser = JSON.parse(currentJson);\n        const newUser = { ...currentUser, ...updatedData };\n\n        // Update session\n        storageService.setString(AUTH_KEY, JSON.stringify(newUser));\n\n        // Update user record in USERS_KEY if it's not a demo account\n        const usersJson = storageService.getString(USERS_KEY);\n        if (usersJson) {\n            const users = JSON.parse(usersJson);\n            const userIndex = users.findIndex((u: any) => u.id === newUser.id);\n            if (userIndex !== -1) {\n                users[userIndex] = { ...users[userIndex], ...updatedData };\n                storageService.setString(USERS_KEY, JSON.stringify(users));\n            }\n        }\n\n        return newUser;\n    },\n\n    // Logout\n    logout: async (): Promise<void> => {\n        storageService.delete(AUTH_KEY);\n        return Promise.resolve();\n    },\n\n    getCurrentUser: async (): Promise<User | null> => {\n        const json = storageService.getString(AUTH_KEY);\n        return json ? JSON.parse(json) : null;\n    },\n};\n\nconst seedDemoData = async () => {\n    const { employeesDb } = require('../database/employeesDb');\n    const { leavesDb } = require('../database/leavesDb');\n    const { payrollDb } = require('../database/payrollDb');\n\n    // Create Employees\n    const empAdminId = await employeesDb.add({\n        name: 'Demo Admin',\n        position: 'Administrator',\n        email: 'admin@demo.com',\n        department: 'Management',\n        role: 'admin',\n        vacationDaysPerYear: 30,\n        remainingVacationDays: 20,\n        statePaidLeaves: 25,\n        country: 'France',\n        hiringDate: '2018-01-15',\n        notes: 'Demo admin account',\n    });\n\n    const emp1Id = await employeesDb.add({\n        name: 'Demo Employee',\n        position: 'Software Engineer',\n        email: 'employee@demo.com',\n        department: 'IT',\n        role: 'employee',\n        vacationDaysPerYear: 25,\n        remainingVacationDays: 15,\n        statePaidLeaves: 30,\n        country: 'Tunisia',\n        hiringDate: '2021-09-20',\n        notes: 'Demo account',\n    });\n\n    const managerId = await employeesDb.add({\n        name: 'Demo Manager',\n        position: 'Team Lead',\n        email: 'manager@demo.com',\n        department: 'IT',\n        role: 'chef_dequipe',\n        vacationDaysPerYear: 28,\n        remainingVacationDays: 10,\n        statePaidLeaves: 30,\n        country: 'Tunisia',\n        hiringDate: '2020-06-01',\n        notes: 'Demo manager account',\n    });\n\n    const hrId = await employeesDb.add({\n        name: 'Demo HR',\n        position: 'HR Manager',\n        email: 'hr@demo.com',\n        department: 'HR',\n        role: 'rh',\n        vacationDaysPerYear: 30,\n        remainingVacationDays: 20,\n        statePaidLeaves: 25,\n        country: 'France',\n        hiringDate: '2019-03-10',\n        notes: 'Demo HR account',\n    });\n\n    // Create Leaves\n    await leavesDb.add({\n        title: 'Summer Vacation',\n        employeeName: 'Demo Employee',\n        employeeId: emp1Id,\n        dateTime: new Date(Date.now() + 86400000 * 5).toISOString(),\n        location: 'Office',\n        status: 'pending',\n        type: 'leave',\n        reminderEnabled: true,\n        notes: 'Holidays with family',\n    });\n\n    await leavesDb.add({\n        title: 'Doctor Appointment',\n        employeeName: 'Demo Employee',\n        employeeId: emp1Id,\n        dateTime: new Date(Date.now() - 86400000 * 2).toISOString(),\n        location: 'Medical Center',\n        status: 'approved',\n        type: 'permission',\n        reminderEnabled: false,\n        notes: 'Routine checkup',\n    });\n\n    // Create Payroll\n    await payrollDb.add({\n        name: 'Base Salary',\n        amount: 3500,\n        currency: '€',\n        frequency: 'Daily',\n        times: JSON.stringify(['09:00']),\n        startDate: new Date().toISOString(),\n        reminderEnabled: true,\n        employeeId: emp1Id,\n    });\n\n    storageService.setBoolean('demo_data_seeded', true);\n};\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/services/calendarService.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":46,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":46,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1457,1460],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1457,1460],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Platform } from 'react-native';\nimport RNCalendarEvents from 'react-native-calendar-events';\nimport { permissionsService } from './permissions';\n\nexport interface CalendarLeave {\n    id?: string;\n    title: string;\n    date: string; // ISO date string\n    time: string; // HH:MM format\n    location?: string;\n    reason?: string;\n    notes?: string;\n    enableReminder?: boolean;\n}\n\nclass CalendarService {\n    /**\n     * Add leave to calendar\n     * Web: Downloads ICS file\n     * Native: Adds event to device calendar\n     */\n    async addToCalendar(leave: CalendarLeave): Promise<boolean> {\n        // Check calendar permission first\n        const permission = await permissionsService.checkCalendarPermission();\n        if (permission !== 'granted') {\n            return false;\n        }\n\n        if (Platform.OS === 'web') {\n            console.warn('Calendar service is not supported on web. Use AddToCalendarButton component.');\n            return false;\n        } else {\n            return this.addToCalendarNative(leave);\n        }\n    }\n\n    /**\n     * Native implementation - Add to device calendar\n     */\n    private async addToCalendarNative(leave: CalendarLeave): Promise<boolean> {\n        try {\n            // Parse date and time\n            const startDate = this.parseDateTime(leave.date, leave.time);\n            const endDate = new Date(startDate.getTime() + 60 * 60 * 1000); // 1 hour duration\n\n            const eventConfig: any = {\n                title: leave.title,\n                startDate: startDate.toISOString(),\n                endDate: endDate.toISOString(),\n                location: leave.location || '',\n                notes: this.buildNotes(leave),\n            };\n\n            // Add reminder if enabled\n            if (leave.enableReminder) {\n                eventConfig.alarms = [{\n                    date: -60, // 60 minutes before (negative value for minutes before)\n                }];\n            }\n\n            // Create the event\n            const eventId = await RNCalendarEvents.saveEvent(leave.title, eventConfig);\n\n            return !!eventId;\n        } catch (error) {\n            console.error('Error adding to native calendar:', error);\n            return false;\n        }\n    }\n\n    /**\n     * Generate ICS file content\n     */\n    private generateICS(leave: CalendarLeave): string {\n        const startDate = this.parseDateTime(leave.date, leave.time);\n        const endDate = new Date(startDate.getTime() + 60 * 60 * 1000); // 1 hour duration\n\n        // Format dates for ICS (YYYYMMDDTHHmmssZ)\n        const formatICSDate = (date: Date): string => {\n            const pad = (n: number) => n.toString().padStart(2, '0');\n            return date.getUTCFullYear() +\n                pad(date.getUTCMonth() + 1) +\n                pad(date.getUTCDate()) +\n                'T' +\n                pad(date.getUTCHours()) +\n                pad(date.getUTCMinutes()) +\n                pad(date.getUTCSeconds()) +\n                'Z';\n        };\n\n        const now = new Date();\n        const uid = `leave-${leave.id || Date.now()}@rhmanagement.app`;\n\n        let ics = 'BEGIN:VCALENDAR\\r\\n';\n        ics += 'VERSION:2.0\\r\\n';\n        ics += 'PRODID:-//RH Management//EN\\r\\n';\n        ics += 'CALSCALE:GREGORIAN\\r\\n';\n        ics += 'METHOD:PUBLISH\\r\\n';\n        ics += 'BEGIN:VEVENT\\r\\n';\n        ics += `UID:${uid}\\r\\n`;\n        ics += `DTSTAMP:${formatICSDate(now)}\\r\\n`;\n        ics += `DTSTART:${formatICSDate(startDate)}\\r\\n`;\n        ics += `DTEND:${formatICSDate(endDate)}\\r\\n`;\n        ics += `SUMMARY:${this.escapeICS(leave.title)}\\r\\n`;\n\n        if (leave.location) {\n            ics += `LOCATION:${this.escapeICS(leave.location)}\\r\\n`;\n        }\n\n        const notes = this.buildNotes(leave);\n        if (notes) {\n            ics += `DESCRIPTION:${this.escapeICS(notes)}\\r\\n`;\n        }\n\n        ics += 'STATUS:CONFIRMED\\r\\n';\n\n        // Add reminder if enabled\n        if (leave.enableReminder) {\n            ics += 'BEGIN:VALARM\\r\\n';\n            ics += 'ACTION:DISPLAY\\r\\n';\n            ics += 'DESCRIPTION:Leave Reminder\\r\\n';\n            ics += 'TRIGGER:-PT1H\\r\\n'; // 1 hour before\n            ics += 'END:VALARM\\r\\n';\n        }\n\n        ics += 'END:VEVENT\\r\\n';\n        ics += 'END:VCALENDAR\\r\\n';\n\n        return ics;\n    }\n\n    /**\n     * Parse date and time strings into Date object\n     */\n    private parseDateTime(dateStr: string, timeStr: string): Date {\n        // dateStr format: YYYY-MM-DD\n        // timeStr format: HH:MM\n        const [year, month, day] = dateStr.split('-').map(Number);\n        const [hours, minutes] = timeStr.split(':').map(Number);\n\n        return new Date(year, month - 1, day, hours, minutes);\n    }\n\n    /**\n     * Build notes/description from leave details\n     */\n    private buildNotes(leave: CalendarLeave): string {\n        let notes = '';\n\n        if (leave.reason) {\n            notes += `Reason: ${leave.reason}\\n`;\n        }\n\n        if (leave.notes) {\n            notes += leave.notes;\n        }\n\n        return notes.trim();\n    }\n\n    /**\n     * Escape special characters for ICS format\n     */\n    private escapeICS(text: string): string {\n        return text\n            .replace(/\\\\/g, '\\\\\\\\')\n            .replace(/;/g, '\\\\;')\n            .replace(/,/g, '\\\\,')\n            .replace(/\\n/g, '\\\\n');\n    }\n}\n\nexport const calendarService = new CalendarService();\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/services/emailService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/services/googleAnalytics.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":3,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":3,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[60,63],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[60,63],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":4,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":4,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[93,96],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[93,96],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":26,"column":62,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":26,"endColumn":65,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[788,791],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[788,791],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Platform } from 'react-native';\n\nlet webAnalytics: any = null;\nlet nativeAnalytics: any = null;\n\nif (Platform.OS === 'web') {\n    try {\n        const { getAnalytics } = require('firebase/analytics');\n        const { app } = require('../config/firebase');\n        if (app) {\n            webAnalytics = getAnalytics(app);\n            console.log('Google Analytics initialized for Web');\n        }\n    } catch (error) {\n        console.warn('Failed to initialize Web Analytics:', error);\n    }\n} else {\n    try {\n        nativeAnalytics = require('@react-native-firebase/analytics').default;\n    } catch (error) {\n        console.warn('Failed to load Native Analytics:', error);\n    }\n}\n\nexport const googleAnalytics = {\n    logEvent: async (name: string, params?: { [key: string]: any }) => {\n        try {\n            if (Platform.OS === 'web') {\n                if (webAnalytics) {\n                    const { logEvent: firebaseLogEvent } = require('firebase/analytics');\n                    firebaseLogEvent(webAnalytics, name, params);\n                }\n            } else {\n                if (nativeAnalytics) {\n                    await nativeAnalytics().logEvent(name, params);\n                }\n            }\n        } catch (error) {\n            console.warn('Error logging event:', error);\n        }\n    },\n\n    logScreenView: async (screenName: string, screenClass: string = screenName) => {\n        try {\n            if (Platform.OS === 'web') {\n                if (webAnalytics) {\n                    const { logEvent: firebaseLogEvent } = require('firebase/analytics');\n                    firebaseLogEvent(webAnalytics, 'screen_view', {\n                        firebase_screen: screenName,\n                        firebase_screen_class: screenClass,\n                    });\n                }\n            } else {\n                if (nativeAnalytics) {\n                    await nativeAnalytics().logScreenView({\n                        screen_name: screenName,\n                        screen_class: screenClass,\n                    });\n                }\n            }\n        } catch (error) {\n            console.warn('Error logging screen view:', error);\n        }\n    },\n\n    setUserProperty: async (name: string, value: string) => {\n        try {\n            if (Platform.OS === 'web') {\n                if (webAnalytics) {\n                    const { setUserProperties } = require('firebase/analytics');\n                    setUserProperties(webAnalytics, { [name]: value });\n                }\n            } else {\n                if (nativeAnalytics) {\n                    await nativeAnalytics().setUserProperty(name, value);\n                }\n            }\n        } catch (error) {\n            console.warn('Error setting user property:', error);\n        }\n    },\n\n    setUserId: async (userId: string | null) => {\n        try {\n            if (Platform.OS === 'web') {\n                if (webAnalytics) {\n                    const { setUserId: firebaseSetUserId } = require('firebase/analytics');\n                    firebaseSetUserId(webAnalytics, userId);\n                }\n            } else {\n                if (nativeAnalytics) {\n                    await nativeAnalytics().setUserId(userId);\n                }\n            }\n        } catch (error) {\n            console.warn('Error setting user ID:', error);\n        }\n    },\n};\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/services/holidaysService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/services/mocks/firebase-analytics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/services/mocks/firebase-crashlytics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/services/mocks/netinfo.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/services/mocks/react-native-mmkv.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/services/mocks/sentry-react.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":5,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":5,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[118,121],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[118,121],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"export const init = () => {\n    console.log('[Sentry Mock] Initialized');\n};\n\nexport const captureException = (error: any) => {\n    console.error('[Sentry Mock] Captured exception:', error);\n};\n\nexport const browserTracingIntegration = () => ({});\nexport const replayIntegration = () => ({});\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/services/modalService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/services/notificationService.ts","messages":[{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":36,"column":17,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":36,"endColumn":102,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[1112,1197],"text":"// @ts-expect-error - navigator.permissions might need polyfill types or specific env setup"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":37,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":37,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1237,1240],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1237,1240],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":252,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":252,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9093,9096],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9093,9096],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Platform } from 'react-native';\nimport notifee, { TimestampTrigger, TriggerType, AndroidImportance, RepeatFrequency } from '@notifee/react-native';\nimport { Payroll } from '../database/schema';\nimport { modalService } from './modalService';\n\nexport const notificationService = {\n    // Initialize notifications\n    initialize: async () => {\n        if (Platform.OS === 'web') {\n            console.warn('Notifications not available on web');\n            return;\n        }\n\n        // Request permission (iOS)\n        await notifee.requestPermission();\n\n        // Create notification channel (Android)\n        await notifee.createChannel({\n            id: 'payroll',\n            name: 'Payroll Reminders',\n            importance: AndroidImportance.HIGH,\n            sound: 'default',\n        });\n\n        await notifee.createChannel({\n            id: 'leaves',\n            name: 'Leave Reminders',\n            importance: AndroidImportance.HIGH,\n            sound: 'default',\n        });\n    },\n\n    checkPermissions: async () => {\n        if (Platform.OS === 'web') {\n            try {\n                // @ts-ignore - navigator.permissions might need polyfill types or specific env setup\n                const nav = (window as any).navigator;\n                if (nav && nav.permissions && nav.permissions.query) {\n                    const status = await nav.permissions.query({ name: 'notifications' });\n                    return status.state === 'granted';\n                }\n            } catch (error) {\n                console.warn('Navigator permissions query failed for notifications:', error);\n            }\n            // Fallback to Notification API\n            if (typeof window !== 'undefined' && 'Notification' in window) {\n                return Notification.permission === 'granted';\n            }\n            return false;\n        }\n        const settings = await notifee.getNotificationSettings();\n        return settings.authorizationStatus >= 1; // 1 = Authorized, 2 = Provisional\n    },\n\n    requestPermission: async () => {\n        if (Platform.OS === 'web') {\n            // Simulate granting permission for web UI flow\n            return true;\n        }\n        const settings = await notifee.requestPermission();\n        return settings.authorizationStatus >= 1;\n    },\n\n    // Schedule payroll reminders\n    schedulePayrollReminders: async (payroll: Payroll) => {\n        if (Platform.OS === 'web') return;\n        if (!payroll.reminderEnabled || !payroll.id) return;\n\n        // Cancel existing notifications for this payroll\n        await notificationService.cancelPayrollReminders(payroll.id);\n\n        try {\n            const times = JSON.parse(payroll.times) as string[];\n            const today = new Date();\n\n            for (const time of times) {\n                const [hour, minute] = time.split(':').map(Number);\n                const notificationTime = new Date();\n                notificationTime.setHours(hour, minute, 0, 0);\n\n                // If the time has passed today, schedule for tomorrow\n                if (notificationTime < today) {\n                    notificationTime.setDate(notificationTime.getDate() + 1);\n                }\n\n                const trigger: TimestampTrigger = {\n                    type: TriggerType.TIMESTAMP,\n                    timestamp: notificationTime.getTime(),\n                    repeatFrequency: payroll.frequency.toLowerCase().includes('daily')\n                        ? RepeatFrequency.DAILY\n                        : undefined,\n                };\n\n                await notifee.createTriggerNotification(\n                    {\n                        id: `pay-${payroll.id}-${time}`,\n                        title: 'Payroll Reminder',\n                        body: `Time to process payroll ${payroll.name} (${payroll.amount} ${payroll.currency || '€'})`,\n                        android: {\n                            channelId: 'payroll',\n                            pressAction: {\n                                id: 'default',\n                                launchActivity: 'default',\n                            },\n                            actions: [\n                                {\n                                    title: 'Mark as Paid',\n                                    pressAction: {\n                                        id: 'mark-paid',\n                                    },\n                                },\n                                {\n                                    title: 'Snooze',\n                                    pressAction: {\n                                        id: 'snooze',\n                                    },\n                                },\n                            ],\n                        },\n                        data: {\n                            type: 'payroll',\n                            payrollId: payroll.id.toString(),\n                            time,\n                        },\n                    },\n                    trigger\n                );\n            }\n\n            console.log(`Scheduled ${times.length} reminder(s) for ${payroll.name}`);\n        } catch (error) {\n            console.error('Error scheduling payroll reminders:', error);\n        }\n    },\n\n    // Cancel payroll reminders\n    cancelPayrollReminders: async (payrollId: number) => {\n        if (Platform.OS === 'web') return;\n        const notifications = await notifee.getTriggerNotifications();\n\n        for (const notification of notifications) {\n            if (notification.notification.id?.startsWith(`pay-${payrollId}-`)) {\n                await notifee.cancelNotification(notification.notification.id);\n            }\n        }\n    },\n\n    // Schedule leave reminder\n    scheduleLeaveReminder: async (\n        leaveId: number,\n        title: string,\n        dateTime: string\n    ) => {\n        if (Platform.OS === 'web') return;\n        const leaveDate = new Date(dateTime);\n\n        // Schedule 1 hour before\n        const reminderTime = new Date(leaveDate.getTime() - 60 * 60 * 1000);\n\n        if (reminderTime < new Date()) {\n            console.log('Leave time has passed, skipping reminder');\n            return;\n        }\n\n        const trigger: TimestampTrigger = {\n            type: TriggerType.TIMESTAMP,\n            timestamp: reminderTime.getTime(),\n        };\n\n        await notifee.createTriggerNotification(\n            {\n                id: `leave-${leaveId}`,\n                title: 'Upcoming Leave',\n                body: `${title} in 1 hour`,\n                android: {\n                    channelId: 'leaves',\n                    pressAction: {\n                        id: 'default',\n                        launchActivity: 'default',\n                    },\n                },\n                data: {\n                    type: 'leave',\n                    leaveId: leaveId.toString(),\n                },\n            },\n            trigger\n        );\n    },\n\n    // Cancel leave reminder\n    cancelLeaveReminder: async (leaveId: number) => {\n        if (Platform.OS === 'web') return;\n        await notifee.cancelNotification(`leave-${leaveId}`);\n    },\n\n    // Schedule illness expiry reminder\n    scheduleIllnessExpiryReminder: async (\n        illnessId: number,\n        payrollName: string,\n        expiryDate: string\n    ) => {\n        if (Platform.OS === 'web') return;\n        const expiry = new Date(expiryDate);\n\n        // Schedule 7 days before expiry\n        const reminderTime = new Date(expiry.getTime() - 7 * 24 * 60 * 60 * 1000);\n\n        // If 7 days before is in the past, try 1 day before\n        if (reminderTime < new Date()) {\n            reminderTime.setTime(expiry.getTime() - 24 * 60 * 60 * 1000);\n        }\n\n        if (reminderTime < new Date()) {\n            console.log('Expiry reminder time has passed, skipping');\n            return;\n        }\n\n        const trigger: TimestampTrigger = {\n            type: TriggerType.TIMESTAMP,\n            timestamp: reminderTime.getTime(),\n        };\n\n        await notifee.createTriggerNotification(\n            {\n                id: `ill-${illnessId}`,\n                title: 'Illness Record Expiring Soon',\n                body: `Illness record for ${payrollName} expires on ${expiry.toLocaleDateString()}`,\n                android: {\n                    channelId: 'payroll', // Reuse payroll channel? Or create 'illnesses' channel? Using payroll for now\n                    pressAction: {\n                        id: 'default',\n                        launchActivity: 'default',\n                    },\n                },\n                data: {\n                    type: 'illness',\n                    illnessId: illnessId.toString(), // Updated Key\n                },\n            },\n            trigger\n        );\n    },\n\n    // Cancel illness reminder\n    cancelIllnessReminder: async (illnessId: number) => {\n        if (Platform.OS === 'web') return;\n        await notifee.cancelNotification(`ill-${illnessId}`);\n    },\n\n    // Handle notification press (called from App.tsx)\n    handleNotificationPress: async (notificationId: string, data: any) => {\n        console.log('Notification pressed:', notificationId, data);\n        // This will be handled in App.tsx with navigation\n    },\n\n    // Notify about leave request decision\n    notifyLeaveRequestDecision: async (\n        leaveId: number,\n        title: string,\n        status: 'approved' | 'declined'\n    ) => {\n        if (Platform.OS === 'web') return;\n\n        const channelId = 'leaves'; // Reuse leaves channel\n\n        await notifee.displayNotification({\n            id: `leave-decision-${leaveId}`,\n            title: `Leave Request ${status === 'approved' ? 'Approved' : 'Declined'}`,\n            body: `Your leave request \"${title}\" has been ${status}.`,\n            android: {\n                channelId,\n                importance: AndroidImportance.HIGH,\n                pressAction: {\n                    id: 'default',\n                    launchActivity: 'default',\n                },\n            },\n            data: {\n                type: 'leave_decision',\n                leaveId: leaveId.toString(),\n            },\n        });\n    },\n\n    // Notify about new leave request (for HR/Manager - simplified as local notification for now)\n    notifyNewLeaveRequest: async (\n        leaveId: number,\n        employeeName: string,\n        leaveType: string\n    ) => {\n        if (Platform.OS === 'web') return;\n\n        const channelId = 'leaves';\n\n        await notifee.displayNotification({\n            id: `new-leave-${leaveId}`,\n            title: 'New Leave Request',\n            body: `${employeeName} submitted a request for ${leaveType}.`,\n            android: {\n                channelId,\n                importance: AndroidImportance.HIGH,\n                pressAction: {\n                    id: 'default',\n                    launchActivity: 'default',\n                },\n            },\n            data: {\n                type: 'new_leave',\n                leaveId: leaveId.toString(),\n            },\n        });\n    },\n\n    // Show a general alert using the custom modal\n    showAlert: async (title: string, body: string) => {\n        modalService.show({ title, message: body });\n    }\n};\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/services/offlineService.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":15,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[566,569],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[566,569],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":26,"column":66,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":26,"endColumn":69,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1076,1079],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1076,1079],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":45,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":45,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1626,1629],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1626,1629],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":46,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":46,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1679,1682],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1679,1682],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\nimport { Platform } from 'react-native';\n\nexport const useNetworkStatus = () => {\n    const [isConnected, setIsConnected] = useState<boolean | null>(true);\n    const [isInternetReachable, setIsInternetReachable] = useState<boolean | null>(true);\n\n    useEffect(() => {\n        if (Platform.OS === 'web') {\n            if (typeof window === 'undefined') return;\n\n            const handleOnline = () => setIsConnected(true);\n            const handleOffline = () => setIsConnected(false);\n\n            const win = window as any;\n            setIsConnected(win.navigator.onLine);\n            win.addEventListener('online', handleOnline);\n            win.addEventListener('offline', handleOffline);\n\n            return () => {\n                win.removeEventListener('online', handleOnline);\n                win.removeEventListener('offline', handleOffline);\n            };\n        } else {\n            const NetInfo = require('@react-native-community/netinfo').default;\n            const unsubscribe = NetInfo.addEventListener((state: any) => {\n                setIsConnected(state.isConnected);\n                setIsInternetReachable(state.isInternetReachable);\n            });\n\n            return () => unsubscribe();\n        }\n    }, []);\n\n    return {\n        isConnected,\n        isInternetReachable: Platform.OS === 'web' ? isConnected : isInternetReachable,\n        isOffline: isConnected === false,\n    };\n};\n\nexport const checkNetworkStatus = async () => {\n    if (Platform.OS === 'web') {\n        let connected = true;\n        if (typeof window !== 'undefined' && (window as any).navigator) {\n            connected = (window as any).navigator.onLine;\n        }\n        return {\n            isConnected: connected,\n            isInternetReachable: connected,\n        };\n    } else {\n        const NetInfo = require('@react-native-community/netinfo').default;\n        const state = await NetInfo.fetch();\n        return {\n            isConnected: state.isConnected,\n            isInternetReachable: state.isInternetReachable,\n        };\n    }\n};\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/services/permissions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/services/sentry.web.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/services/storage.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/store/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/store/redux/hooks.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/store/redux/slices/appSlice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/store/redux/store.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/store/slices/analyticsSlice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/store/slices/announcementsSlice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/store/slices/authSlice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/store/slices/claimsSlice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/store/slices/companiesSlice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/store/slices/companySettingsSlice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/store/slices/currenciesSlice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/store/slices/departmentsSlice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/store/slices/deviceTypesSlice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/store/slices/devicesSlice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/store/slices/employeesSlice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/store/slices/goalsSlice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/store/slices/illnessesSlice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/store/slices/invoicesSlice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/store/slices/leavesSlice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/store/slices/messagesSlice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/store/slices/notificationsSlice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/store/slices/payrollSlice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/store/slices/performanceSlice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/store/slices/servicesSlice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/store/slices/teamsSlice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/store/storage.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/store/useStore.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/theme/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/utils/dateUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/utils/responsive.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/src/utils/validation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/mohamedbenkhedher/Documents/GitHub/RhManagment/types.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]}]